<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 3 Data, objekt och funktioner | Tillämpad Statistik</title>
  <meta name="description" content="Kapitel 3 Data, objekt och funktioner | Tillämpad Statistik" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 3 Data, objekt och funktioner | Tillämpad Statistik" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 3 Data, objekt och funktioner | Tillämpad Statistik" />
  
  
  

<meta name="author" content="Ronnie Pingel, Valentin Zulj" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="att-börja-använda-r.html"/>
<link rel="next" href="läsa-in-och-spara-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Tillämpad statistik</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduktion</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#om-statistisk-programmering-med-r"><i class="fa fa-check"></i><b>1.1</b> Om statistisk programmering med R</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#allmänna-tips-om-r-på-kursen"><i class="fa fa-check"></i><b>1.2</b> Allmänna tips om R på kursen</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#sammanfattning"><i class="fa fa-check"></i><b>1.3</b> Sammanfattning</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#referenser"><i class="fa fa-check"></i><b>1.4</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html"><i class="fa fa-check"></i><b>2</b> Att börja använda R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-och-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installation av R och RStudio</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-macos"><i class="fa fa-check"></i><b>2.1.1</b> Installation av R på MacOS</a></li>
<li class="chapter" data-level="2.1.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-windows"><i class="fa fa-check"></i><b>2.1.2</b> Installation av R på Windows</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installation av RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#första-sessionen"><i class="fa fa-check"></i><b>2.3</b> Första sessionen</a></li>
<li class="chapter" data-level="2.4" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#working-directory-ett-smidigt-sätt-att-spara-arbete"><i class="fa fa-check"></i><b>2.4</b> Working directory – ett smidigt sätt att spara arbete</a></li>
<li class="chapter" data-level="2.5" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#paket"><i class="fa fa-check"></i><b>2.5</b> Paket</a></li>
<li class="chapter" data-level="2.6" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#sammanfattning-1"><i class="fa fa-check"></i><b>2.6</b> Sammanfattning</a></li>
<li class="chapter" data-level="2.7" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övningar"><i class="fa fa-check"></i><b>2.7</b> Övningar</a>
<ul>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.1"><i class="fa fa-check"></i>Övning 2.1</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.2"><i class="fa fa-check"></i>Övning 2.2</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.3"><i class="fa fa-check"></i>Övning 2.3</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.4"><i class="fa fa-check"></i>Övning 2.4</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.5"><i class="fa fa-check"></i>Övning 2.5</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.6"><i class="fa fa-check"></i>Övning 2.6</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.7"><i class="fa fa-check"></i>Övning 2.7</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.8"><i class="fa fa-check"></i>Övning 2.8</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html"><i class="fa fa-check"></i><b>3</b> Data, objekt och funktioner</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data-och-objekt"><i class="fa fa-check"></i><b>3.1</b> Data och objekt</a></li>
<li class="chapter" data-level="3.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer"><i class="fa fa-check"></i><b>3.2</b> Vektorer</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer-och-indexering"><i class="fa fa-check"></i><b>3.2.1</b> Vektorer och indexering</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer-och-logiska-operatorer"><i class="fa fa-check"></i><b>3.2.2</b> Vektorer och logiska operatorer</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#matriser"><i class="fa fa-check"></i><b>3.3</b> Matriser</a></li>
<li class="chapter" data-level="3.4" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data-frames"><i class="fa fa-check"></i><b>3.4</b> Data frames</a></li>
<li class="chapter" data-level="3.5" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#funktioner"><i class="fa fa-check"></i><b>3.5</b> Funktioner</a></li>
<li class="chapter" data-level="3.6" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#sammanfattning-2"><i class="fa fa-check"></i><b>3.6</b> Sammanfattning</a></li>
<li class="chapter" data-level="3.7" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övningar-1"><i class="fa fa-check"></i><b>3.7</b> Övningar</a>
<ul>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.1"><i class="fa fa-check"></i>Övning 3.1</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.2"><i class="fa fa-check"></i>Övning 3.2</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.3"><i class="fa fa-check"></i>Övning 3.3</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.4"><i class="fa fa-check"></i>Övning 3.4</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.5"><i class="fa fa-check"></i>Övning 3.5</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.6"><i class="fa fa-check"></i>Övning 3.6</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.7"><i class="fa fa-check"></i>Övning 3.7</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.8"><i class="fa fa-check"></i>Övning 3.8</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.9"><i class="fa fa-check"></i>Övning 3.9</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.10"><i class="fa fa-check"></i>Övning 3.10</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.11"><i class="fa fa-check"></i>Övning 3.11</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.12"><i class="fa fa-check"></i>Övning 3.12</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.13"><i class="fa fa-check"></i>Övning 3.13</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.14"><i class="fa fa-check"></i>Övning 3.14</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html"><i class="fa fa-check"></i><b>4</b> Läsa in och spara data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#principer-för-organiserade-datamaterial"><i class="fa fa-check"></i><b>4.1</b> Principer för organiserade datamaterial</a></li>
<li class="chapter" data-level="4.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-datamaterial-med-hjälp-av-kod"><i class="fa fa-check"></i><b>4.2</b> Läsa in datamaterial med hjälp av kod</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#text--och-csv-filer"><i class="fa fa-check"></i><b>4.2.1</b> Text- och CSV-filer</a></li>
<li class="chapter" data-level="4.2.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#excel-filer"><i class="fa fa-check"></i><b>4.2.2</b> Excel-filer</a></li>
<li class="chapter" data-level="4.2.3" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övriga-format"><i class="fa fa-check"></i><b>4.2.3</b> Övriga format</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-datamaterial-med-hjälp-av-menyerna-i-rstudio"><i class="fa fa-check"></i><b>4.3</b> Läsa in datamaterial med hjälp av menyerna i RStudio</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-data-från-working-directory"><i class="fa fa-check"></i><b>4.3.1</b> Läsa in data från working directory</a></li>
<li class="chapter" data-level="4.3.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-data-med-import-dataset"><i class="fa fa-check"></i><b>4.3.2</b> Läsa in data med “Import Dataset”</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#spara-datamaterial-med-hjälp-av-r"><i class="fa fa-check"></i><b>4.4</b> Spara datamaterial med hjälp av R</a></li>
<li class="chapter" data-level="4.5" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övningar-2"><i class="fa fa-check"></i><b>4.5</b> Övningar</a>
<ul>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.1"><i class="fa fa-check"></i>Övning 4.1</a></li>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.2"><i class="fa fa-check"></i>Övning 4.2</a></li>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.3"><i class="fa fa-check"></i>Övning 4.3</a></li>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.4"><i class="fa fa-check"></i>Övning 4.4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="kategorivariabler.html"><a href="kategorivariabler.html"><i class="fa fa-check"></i><b>5</b> Kategorivariabler</a>
<ul>
<li class="chapter" data-level="5.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#en-binär-variabel"><i class="fa fa-check"></i><b>5.1</b> En binär variabel</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kodning"><i class="fa fa-check"></i><b>5.1.1</b> Kodning</a></li>
<li class="chapter" data-level="5.1.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer"><i class="fa fa-check"></i><b>5.1.2</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.1.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens"><i class="fa fa-check"></i><b>5.1.3</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#två-binära-variabler"><i class="fa fa-check"></i><b>5.2</b> Två binära variabler</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller"><i class="fa fa-check"></i><b>5.2.1</b> Tabeller</a></li>
<li class="chapter" data-level="5.2.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kvantifiering-av-samband"><i class="fa fa-check"></i><b>5.2.2</b> Kvantifiering av samband</a></li>
<li class="chapter" data-level="5.2.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#figurer"><i class="fa fa-check"></i><b>5.2.3</b> Figurer</a></li>
<li class="chapter" data-level="5.2.4" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-1"><i class="fa fa-check"></i><b>5.2.4</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tre-kategorier-eller-fler"><i class="fa fa-check"></i><b>5.3</b> Tre kategorier eller fler</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kodning-1"><i class="fa fa-check"></i><b>5.3.1</b> Kodning</a></li>
<li class="chapter" data-level="5.3.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer-1"><i class="fa fa-check"></i><b>5.3.2</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.3.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-2"><i class="fa fa-check"></i><b>5.3.3</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="kategorivariabler.html"><a href="kategorivariabler.html#samband-mellan-kategorivariabler"><i class="fa fa-check"></i><b>5.4</b> Samband mellan kategorivariabler</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer-2"><i class="fa fa-check"></i><b>5.4.1</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.4.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-3"><i class="fa fa-check"></i><b>5.4.2</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="kategorivariabler.html"><a href="kategorivariabler.html#programmeringsuppgifter"><i class="fa fa-check"></i><b>5.5</b> Programmeringsuppgifter</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#uppgift-1"><i class="fa fa-check"></i><b>5.5.1</b> Uppgift 1</a></li>
<li class="chapter" data-level="5.5.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#uppgift-2"><i class="fa fa-check"></i><b>5.5.2</b> Uppgift 2</a></li>
<li class="chapter" data-level="5.5.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#uppgift-3"><i class="fa fa-check"></i><b>5.5.3</b> Uppgift 3</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="kategorivariabler.html"><a href="kategorivariabler.html#referenser-1"><i class="fa fa-check"></i><b>5.6</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html"><i class="fa fa-check"></i><b>6</b> Kvantitativa variabler</a>
<ul>
<li class="chapter" data-level="6.1" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#analys-av-en-kvantitativ-variabel"><i class="fa fa-check"></i><b>6.1</b> Analys av en kvantitativ variabel</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#enklare-deskriptiva-mått"><i class="fa fa-check"></i><b>6.1.1</b> Enklare deskriptiva mått</a></li>
<li class="chapter" data-level="6.1.2" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#frekvenstabeller"><i class="fa fa-check"></i><b>6.1.2</b> Frekvenstabeller</a></li>
<li class="chapter" data-level="6.1.3" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#histogram"><i class="fa fa-check"></i><b>6.1.3</b> Histogram</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#analys-av-två-kvantitativa-variabler"><i class="fa fa-check"></i><b>6.2</b> Analys av två kvantitativa variabler</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#två-kontinuerliga-variabler"><i class="fa fa-check"></i><b>6.2.1</b> Två kontinuerliga variabler</a></li>
<li class="chapter" data-level="6.2.2" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#en-kontinuerlig-och-en-diskret-variabel"><i class="fa fa-check"></i><b>6.2.2</b> En kontinuerlig och en diskret variabel</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#övningsuppgifter"><i class="fa fa-check"></i><b>6.3</b> Övningsuppgifter</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#uppgift-1-1"><i class="fa fa-check"></i><b>6.3.1</b> Uppgift 1</a></li>
<li class="chapter" data-level="6.3.2" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#uppgift-2-1"><i class="fa fa-check"></i><b>6.3.2</b> Uppgift 2</a></li>
<li class="chapter" data-level="6.3.3" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#uppgift-3-1"><i class="fa fa-check"></i><b>6.3.3</b> Uppgift 3</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="kvantitativa-variabler.html"><a href="kvantitativa-variabler.html#referenser-2"><i class="fa fa-check"></i><b>6.4</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tabeller-1.html"><a href="tabeller-1.html"><i class="fa fa-check"></i><b>7</b> Tabeller</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tabeller-1.html"><a href="tabeller-1.html#principer-för-tabeller"><i class="fa fa-check"></i><b>7.1</b> Principer för tabeller</a></li>
<li class="chapter" data-level="7.2" data-path="tabeller-1.html"><a href="tabeller-1.html#exportera-tabell-till-html-fil"><i class="fa fa-check"></i><b>7.2</b> Exportera tabell till HTML-fil</a></li>
<li class="chapter" data-level="7.3" data-path="tabeller-1.html"><a href="tabeller-1.html#paket-för-tabeller"><i class="fa fa-check"></i><b>7.3</b> Paket för tabeller</a></li>
<li class="chapter" data-level="7.4" data-path="tabeller-1.html"><a href="tabeller-1.html#övningsuppgifter-1"><i class="fa fa-check"></i><b>7.4</b> Övningsuppgifter</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="tabeller-1.html"><a href="tabeller-1.html#uppgift-1-2"><i class="fa fa-check"></i><b>7.4.1</b> Uppgift 1</a></li>
<li class="chapter" data-level="7.4.2" data-path="tabeller-1.html"><a href="tabeller-1.html#uppgift-2-2"><i class="fa fa-check"></i><b>7.4.2</b> Uppgift 2</a></li>
<li class="chapter" data-level="7.4.3" data-path="tabeller-1.html"><a href="tabeller-1.html#uppgift-3-2"><i class="fa fa-check"></i><b>7.4.3</b> Uppgift 3</a></li>
<li class="chapter" data-level="7.4.4" data-path="tabeller-1.html"><a href="tabeller-1.html#uppgift-4"><i class="fa fa-check"></i><b>7.4.4</b> Uppgift 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="figurer-1.html"><a href="figurer-1.html"><i class="fa fa-check"></i><b>8</b> Figurer</a>
<ul>
<li class="chapter" data-level="8.1" data-path="figurer-1.html"><a href="figurer-1.html#estetik"><i class="fa fa-check"></i><b>8.1</b> Estetik</a></li>
<li class="chapter" data-level="8.2" data-path="figurer-1.html"><a href="figurer-1.html#grundläggande-figurhantering"><i class="fa fa-check"></i><b>8.2</b> Grundläggande figurhantering</a></li>
<li class="chapter" data-level="8.3" data-path="figurer-1.html"><a href="figurer-1.html#färger-och-figurer"><i class="fa fa-check"></i><b>8.3</b> Färger och figurer</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="figurer-1.html"><a href="figurer-1.html#presentation-av-aggregerade-data"><i class="fa fa-check"></i><b>8.3.1</b> Presentation av aggregerade data</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="figurer-1.html"><a href="figurer-1.html#cirkeldigram"><i class="fa fa-check"></i><b>8.4</b> Cirkeldigram</a></li>
<li class="chapter" data-level="8.5" data-path="figurer-1.html"><a href="figurer-1.html#figurer-för-fördelningar"><i class="fa fa-check"></i><b>8.5</b> Figurer för fördelningar</a></li>
<li class="chapter" data-level="8.6" data-path="figurer-1.html"><a href="figurer-1.html#lådagram-1"><i class="fa fa-check"></i><b>8.6</b> Lådagram</a></li>
<li class="chapter" data-level="8.7" data-path="figurer-1.html"><a href="figurer-1.html#spridningsdiagram-1"><i class="fa fa-check"></i><b>8.7</b> Spridningsdiagram</a></li>
<li class="chapter" data-level="8.8" data-path="figurer-1.html"><a href="figurer-1.html#exportera-figurer"><i class="fa fa-check"></i><b>8.8</b> Exportera figurer</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tillämpad Statistik</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-objekt-och-funktioner" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Kapitel 3</span> Data, objekt och funktioner<a href="data-objekt-och-funktioner.html#data-objekt-och-funktioner" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<style>
body {
text-align: justify}
</style>
<p>För att kunna arbeta med statistik och dataanalys är det viktigt att inte enbart förstå den statistiska metoden och kunna lösa problem med hjälp av en miniräknare. I praktiken är det även nödvändigt att förstå hur data hanteras, lagras och struktureras. I detta kapitel introduceras typer av data som normalt hanteras i <code>R</code>, sedan följer avsnitt om de olika typer av objekt som finns i R. I kapitlets slut avhandlas <em>funktioner</em>, dels introduceras vad en funktion är i <code>R</code>, dels visas hur funktioner kan användas för att hantera olika objekt. Kapitlet är mycket omfattande, men det är likväl viktigt att lära sig hantera <strong>allt</strong> som presenteras i det. Avsikten med kaptitlet är att ta upp de vanliga saker i <code>R</code> som används vädligt ofta generellt, men även specifikt under just denna kurs.</p>
<div id="data-och-objekt" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Data och objekt<a href="data-objekt-och-funktioner.html#data-och-objekt" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Utan data är statistik innehållslöst. På samma sätt är data grundläggande för arbete i <code>R</code>. De vanligaste datatyperna i <code>R</code> är</p>
<ul>
<li><code>character</code> (text), som anges med citationstecken, t.ex. <code>"a"</code> , <code>"3"</code>.</li>
<li><code>numeric</code> (decimaltal), t ex är <code>3</code>, <code>32.1</code>. Notera att 3 kan skrivas som 3.0.</li>
<li><code>integer</code> (heltal). <code>3L</code>, <code>32L</code>. Skillnaden mellan numeric och integer är att inga decimaler sparas, vilket använder mindre minne.</li>
<li><code>logical</code> (data indikerar om något är sant eller falskt, <code>TRUE</code>/ <code>FALSE</code>).</li>
</ul>
<p>Observera att dessa datatyper beskriver hur data är lagrad och hur <code>R</code> ska tolka data. Det säger sig kanske självt att det inte går att använda räkneoperation om data är <code>character</code>, till exempel. Datatyper ska inte förväxlas med de datanivåer (nominal, ordinal, intervall och kvotskala) som man normalt förknippar med statistiska analyser. Datatyper ska inte heller förväxlas med om data är diskreta, kontinuerliga, kategorier eller kvantitativa.</p>
<p>Det är <strong>mycket viktigt</strong> för alla som arbetar med statistiska analyser av data att kunna tillämpa alla ovanstående begrepp i rätt situation. Ofta överlappar begreppen, men det är vanligt att begreppen inte gör det. Tabellen nedan ger en översikt av begreppen som används, men notera att det finns undantag från denna klassificering och det finns andra sätt att klassificera.</p>
<table>
<colgroup>
<col width="11%" />
<col width="47%" />
<col width="41%" />
</colgroup>
<thead>
<tr class="header">
<th>Mätskala</th>
<th>Variabeltyp</th>
<th>Datatyp i R</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Nominal</td>
<td>Kategori, kvalitativ</td>
<td>Character, factor med ordered = <code>FALSE</code></td>
</tr>
<tr class="even">
<td>Ordinal</td>
<td>Kategori, kvalitativ</td>
<td>Character, factor med ordered = <code>TRUE</code></td>
</tr>
<tr class="odd">
<td>Intervall</td>
<td>Kvantitativ, kontinuerlig, heltal, diskret</td>
<td>Numeric, integer</td>
</tr>
<tr class="even">
<td>Kvot</td>
<td>Kvantitativ, kontinuerlig, heltal, diskret</td>
<td>Numeric, integer</td>
</tr>
</tbody>
</table>
<p>Data hanteras och sparas som <strong>objekt</strong>. För att skapa ett objekt används <strong>assignment</strong>-operatorn <code>&lt;-</code>. Objektet sparas därmed i minnet i <code>R</code>, men inget resultat redovisas i Console. Om <code>R</code> stängs ner måste objektet skapas på nytt såvida användaren inte har angett att objektet ska sparas.</p>
<p>I <code>R</code> används nästan alltid flera olika objekt samtidigt. Objekten måste därför namnges, och precis som Vid all programmering är noggrannhet a och o. Objektnamn inleds med en bokstav och får endast innehålla bokstäver, siffror, <code>_</code> och <code>.</code>. Dessutom skiljer <code>R</code> på versaler och gemener. Det är inte alltid enkelt att namnge objekt, men det
viktigaste är att vara konsekvent. På denna kurs rekommenderas följande principer för namngivning av objekt. Använd</p>
<ul>
<li>endast <strong>gemener</strong>.</li>
<li><strong>korta</strong> och <strong>logiska</strong> namn, t.ex. kan objektet <strong>population</strong> förkortas till <strong>pop</strong>.</li>
<li>gärna understreck <code>_</code> för sammanbinda långa objektnamn. Objektet ålder för kvinnor skulle kunna betecknas <strong>age_women</strong> och motsvarande för män är då <strong>age_men</strong>.</li>
<li>inte å, ä och ö.</li>
<li>inte namn som redan är upptagna i R, t ex <code>exp</code> eller <code>log</code>.</li>
</ul>
<p>Det tre vanligaste objekten för hantering av data är:</p>
<ul>
<li>vektorer,</li>
<li>matriser,</li>
<li>data frames.</li>
</ul>
<p>I närmast följande avsnitt kommer dessa objekt diskuteras mer ingående var för sig.</p>
</div>
<div id="vektorer" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Vektorer<a href="data-objekt-och-funktioner.html#vektorer" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En vektor är ett dataobjekt som är endimensionellt och består av <span class="math inline">\(n\)</span> element. En vektor skapas med kommandot <code>c()</code> (‘’Combine Values into a Vector’’). Anta att vi observerar värdena <span class="math inline">\(3, -1, 1, 5, 0\)</span>. Med hjälp av nedanstående kod skapas ett vektor-objekt med med 5 element:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-objekt-och-funktioner.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa din första numeriska vektor</span></span>
<span id="cb36-2"><a href="data-objekt-och-funktioner.html#cb36-2" aria-hidden="true" tabindex="-1"></a>my_first_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">0</span>)</span></code></pre></div>
<p>Som synes anges de olika värdena åskilda av kommatecken. När en vektor skapas tolkar <code>R</code> kommatecken som avskiljare mellan element. Notera att inget visas i Console, men att objektet finns sparat i minnet upptäcker man i RStudio genom att observera den övre högra panelen under fliken <strong>Environment</strong>. Där listas alla objekt som finns sparade i minnet i <code>R</code>. För att titta på objektet exekveras kod som enbart består av objektets namn, precis som nedan.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="data-objekt-och-funktioner.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa din första numeriska vektor</span></span>
<span id="cb37-2"><a href="data-objekt-och-funktioner.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> my_first_vec </span>
<span id="cb37-3"><a href="data-objekt-och-funktioner.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">3</span> <span class="sc">-</span><span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">5</span>  <span class="dv">0</span></span></code></pre></div>
<p>Du ska nu skapa ett antal vektorobjekt som sedan på olika sätt ska manipuleras.</p>
<ol style="list-style-type: decimal">
<li>Skapa ett script som heter <strong>kap3_objekt_och_funktioner.R</strong> genom att välja <strong>File &gt; New File &gt; R Script</strong> och sedan direkt spara scriptet med <strong>File &gt; Save As</strong> i mappen <strong>A5Rkod</strong>.<br />
</li>
<li>Skriv in koden nedan i scriptet och spara med <strong>File &gt; Save</strong> (ett alternativ är att använda <strong>Ctrl/command + S</strong>, precis som i t.ex. ett Word-dokument). Det är bra att få rutin på att ofta spara sitt script så att inte kod råkar försvinna.</li>
</ol>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-objekt-och-funktioner.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapar två numeriska vektorer</span></span>
<span id="cb38-2"><a href="data-objekt-och-funktioner.html#cb38-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">0</span>)</span>
<span id="cb38-3"><a href="data-objekt-och-funktioner.html#cb38-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">9</span>)</span></code></pre></div>
<p>Generellt gäller i <code>R</code> att om <span class="math inline">\(x\)</span> är en vektor bestående av <span class="math inline">\(k\)</span> element
<span class="math display">\[x = (x_1,x_2,\ldots,x_k)\]</span>
och <span class="math inline">\(y\)</span> är en vektor bestående av <span class="math inline">\(l\)</span> element
<span class="math display">\[y = (y_1,y_2,\ldots,y_l)\]</span>
så skapar kommandot</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="data-objekt-och-funktioner.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Binder samman x och y till en </span></span>
<span id="cb39-2"><a href="data-objekt-och-funktioner.html#cb39-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(x,y)</span></code></pre></div>
<p>en vektor med <span class="math inline">\(k + l\)</span> element,
<span class="math display">\[z= (x_1,x_2,\ldots,x_k,y_1,y_2,\ldots,y_l)=(z_1,z_2,\ldots,z_{k+l}).\]</span>
För att se om detta stämmer tittar vi på objekten genom att exekvera dem.</p>
<ol start="3" style="list-style-type: decimal">
<li>Fortsätt scriptet genom att skriva in nedanstående kod. Spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-objekt-och-funktioner.html#cb40-1" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb40-2"><a href="data-objekt-och-funktioner.html#cb40-2" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb40-3"><a href="data-objekt-och-funktioner.html#cb40-3" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div>
<p>I Console ser du då följande:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data-objekt-och-funktioner.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x</span>
<span id="cb41-2"><a href="data-objekt-och-funktioner.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></span>
<span id="cb41-3"><a href="data-objekt-och-funktioner.html#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y</span>
<span id="cb41-4"><a href="data-objekt-och-funktioner.html#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></span>
<span id="cb41-5"><a href="data-objekt-och-funktioner.html#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z</span>
<span id="cb41-6"><a href="data-objekt-och-funktioner.html#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></span></code></pre></div>
<p>Som synes samlar vektorn <span class="math inline">\(z\)</span> alla element i <span class="math inline">\(x\)</span> och alla element i <span class="math inline">\(y\)</span> i en och samma vektor.</p>
<p>Både <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span> och <span class="math inline">\(z\)</span> är numeriska vektorer. Det går även att skapa en vektor bestående av bokstäver. För att skapa en sådan vektor (<code>character</code> vector) sätts de enskilda elementen inom citationstecken.</p>
<ol start="4" style="list-style-type: decimal">
<li>Fortsätt scriptet och skriv in nedanstående kod i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data-objekt-och-funktioner.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapar en vektor med ord</span></span>
<span id="cb42-2"><a href="data-objekt-och-funktioner.html#cb42-2" aria-hidden="true" tabindex="-1"></a>nordic_countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Denmark&quot;</span>, <span class="st">&quot;Finland&quot;</span>, <span class="st">&quot;Iceland&quot;</span>, <span class="st">&quot;Norway&quot;</span>, <span class="st">&quot;Sweden&quot;</span>)</span>
<span id="cb42-3"><a href="data-objekt-och-funktioner.html#cb42-3" aria-hidden="true" tabindex="-1"></a>nordic_countries</span></code></pre></div>
<p>I Console ser du då följande resultat.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-objekt-och-funktioner.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapar en vektor med ord</span></span>
<span id="cb43-2"><a href="data-objekt-och-funktioner.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> nordic_countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Denmark&quot;</span>, <span class="st">&quot;Finland&quot;</span>, <span class="st">&quot;Iceland&quot;</span>, <span class="st">&quot;Norway&quot;</span>, <span class="st">&quot;Sweden&quot;</span>)</span>
<span id="cb43-3"><a href="data-objekt-och-funktioner.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nordic_countries</span>
<span id="cb43-4"><a href="data-objekt-och-funktioner.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></span></code></pre></div>
<p>Kombineras en numerisk och en character-vektor blir hela vektorn en character-vector.</p>
<ol start="5" style="list-style-type: decimal">
<li>Skriv följande kod i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-objekt-och-funktioner.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Kombinera en numerisk vektor med en vektor med ord</span></span>
<span id="cb44-2"><a href="data-objekt-och-funktioner.html#cb44-2" aria-hidden="true" tabindex="-1"></a>x_nordic_countries <span class="ot">&lt;-</span> <span class="fu">c</span>(x, nordic_countries )</span>
<span id="cb44-3"><a href="data-objekt-och-funktioner.html#cb44-3" aria-hidden="true" tabindex="-1"></a>x_nordic_countries</span></code></pre></div>
<p>I Console erhålls följande output och vi ser att de tidigare numeriska värdena nu omges av citationstecken.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-objekt-och-funktioner.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Kombinera en numerisk vektor med en vektor med ord</span></span>
<span id="cb45-2"><a href="data-objekt-och-funktioner.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x_nordic_countries <span class="ot">&lt;-</span> <span class="fu">c</span>(x, nordic_countries )</span>
<span id="cb45-3"><a href="data-objekt-och-funktioner.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x_nordic_countries</span>
<span id="cb45-4"><a href="data-objekt-och-funktioner.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="st">&quot;3&quot;</span>       <span class="st">&quot;1&quot;</span>       <span class="st">&quot;1&quot;</span>       <span class="st">&quot;5&quot;</span>       <span class="st">&quot;0&quot;</span>       <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span></span>
<span id="cb45-5"><a href="data-objekt-och-funktioner.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">8</span>] <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></span></code></pre></div>
<p>Om en numerisk vektor kombineras med en vektor med bokstäver så blir hela vektorn en <code>character-vektor</code>. <code>R</code> tolkar alltså siffrorna som bokstäver/tecken utan relation till numeriska värden. Det ser vi genom att det finns finns citationstecken kring siffrorna.</p>
<p>Vi ska nu introducera hur man på andra sätt kan skapa vissa typer av vektorer.</p>
<ol start="6" style="list-style-type: decimal">
<li>Skriv in nedanstående kod i scriptet och spara. Kör koden.</li>
</ol>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-objekt-och-funktioner.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapar en vektor med värdena 1,2,3,4,5</span></span>
<span id="cb46-2"><a href="data-objekt-och-funktioner.html#cb46-2" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb46-3"><a href="data-objekt-och-funktioner.html#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapar en vektor med endast ett element</span></span>
<span id="cb46-4"><a href="data-objekt-och-funktioner.html#cb46-4" aria-hidden="true" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="dv">150</span></span>
<span id="cb46-5"><a href="data-objekt-och-funktioner.html#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapar en vektor med ett bortfall. </span></span>
<span id="cb46-6"><a href="data-objekt-och-funktioner.html#cb46-6" aria-hidden="true" tabindex="-1"></a>ymis <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">6</span>)</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-objekt-och-funktioner.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> v </span>
<span id="cb47-2"><a href="data-objekt-och-funktioner.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span></span>
<span id="cb47-3"><a href="data-objekt-och-funktioner.html#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> u </span>
<span id="cb47-4"><a href="data-objekt-och-funktioner.html#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">150</span></span>
<span id="cb47-5"><a href="data-objekt-och-funktioner.html#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> ymis</span>
<span id="cb47-6"><a href="data-objekt-och-funktioner.html#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">3</span> <span class="cn">NA</span>  <span class="dv">6</span>  <span class="dv">3</span>  <span class="dv">6</span></span></code></pre></div>
<p>För att sammanfatta har vi har hittills skapat numeriska vektorer, vektorer som enbart innehåller bokstäver och vektorer som skapats genom kortkommandon. Vidare finns vektorer med bortfall, som anges som <code>NA</code> (Not Available).</p>
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> </font>
<img src="docs/images/important.png" width="5%" style="display: block; margin: auto;" /></p>
<ul>
<li>En vektor som innehåller enbart en datatyp kallas för <strong>atomic</strong>. Detta kan vara värt att känna till eftersom eftersom det är vanligt att felmeddelande referar till just att en vektor inte är atomic.<br />
</li>
<li>Inled en rad med # för att kommentera kod. <em>Kommentera alltid kod!</em>. Vid all programmering är det viktigt att förklara kod så att du själv och andra snabbt förstår vad koden gör. Det är viktigt att få rutin på att kommentera, kommentera därför även enkel kod.</li>
</ul>
</div>
<p>Nya vektorer kan skapas med räkneoperationer. Beräkningarna sker då <strong>elementvis</strong>, till exempel adderas elementvärden i en vektor till elementvärden i en annan vektor som har motsvarade position. Vektorerna måste <strong>antingen</strong> ha lika många element <strong>eller</strong> så måste en av vektorerna bestå av enbart ett element.</p>
<ol start="7" style="list-style-type: decimal">
<li>Skriv in nedanstående i ditt script, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-objekt-och-funktioner.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Addition av x och y</span></span>
<span id="cb48-2"><a href="data-objekt-och-funktioner.html#cb48-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span>
<span id="cb48-3"><a href="data-objekt-och-funktioner.html#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiplikation av x och y</span></span>
<span id="cb48-4"><a href="data-objekt-och-funktioner.html#cb48-4" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> y</span>
<span id="cb48-5"><a href="data-objekt-och-funktioner.html#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Potenser skrivs med a^b</span></span>
<span id="cb48-6"><a href="data-objekt-och-funktioner.html#cb48-6" aria-hidden="true" tabindex="-1"></a>y<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb48-7"><a href="data-objekt-och-funktioner.html#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># En konstant u adderas till alla element i vektorn</span></span>
<span id="cb48-8"><a href="data-objekt-och-funktioner.html#cb48-8" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> u </span>
<span id="cb48-9"><a href="data-objekt-och-funktioner.html#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Räkneoperationer med NA ger NA</span></span>
<span id="cb48-10"><a href="data-objekt-och-funktioner.html#cb48-10" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> ymis </span>
<span id="cb48-11"><a href="data-objekt-och-funktioner.html#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Division med 0 är ej definierat. R anger det som Inf (infinity) </span></span>
<span id="cb48-12"><a href="data-objekt-och-funktioner.html#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="co"># eller NaN (Not a Number) om det är 0/0.</span></span>
<span id="cb48-13"><a href="data-objekt-och-funktioner.html#cb48-13" aria-hidden="true" tabindex="-1"></a>x<span class="sc">/</span><span class="dv">0</span></span>
<span id="cb48-14"><a href="data-objekt-och-funktioner.html#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Exempel på längre räkneoperationer. </span></span>
<span id="cb48-15"><a href="data-objekt-och-funktioner.html#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Notera att alla beräkningar är elementvisa.</span></span>
<span id="cb48-16"><a href="data-objekt-och-funktioner.html#cb48-16" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> x <span class="sc">+</span> (y<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> u)<span class="sc">/</span>v</span>
<span id="cb48-17"><a href="data-objekt-och-funktioner.html#cb48-17" aria-hidden="true" tabindex="-1"></a>w</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-objekt-och-funktioner.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Addition av x och y</span></span>
<span id="cb49-2"><a href="data-objekt-och-funktioner.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x <span class="sc">+</span> y</span>
<span id="cb49-3"><a href="data-objekt-och-funktioner.html#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">5</span>  <span class="dv">4</span>  <span class="dv">6</span> <span class="dv">11</span>  <span class="dv">9</span></span>
<span id="cb49-4"><a href="data-objekt-och-funktioner.html#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Multiplikation av x och y</span></span>
<span id="cb49-5"><a href="data-objekt-och-funktioner.html#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x <span class="sc">*</span> y</span>
<span id="cb49-6"><a href="data-objekt-och-funktioner.html#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">6</span>  <span class="dv">3</span>  <span class="dv">5</span> <span class="dv">30</span>  <span class="dv">0</span></span>
<span id="cb49-7"><a href="data-objekt-och-funktioner.html#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Potenser skrivs med a^b</span></span>
<span id="cb49-8"><a href="data-objekt-och-funktioner.html#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb49-9"><a href="data-objekt-och-funktioner.html#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">4</span>  <span class="dv">9</span> <span class="dv">25</span> <span class="dv">36</span> <span class="dv">81</span></span>
<span id="cb49-10"><a href="data-objekt-och-funktioner.html#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># En konstant u adderas till alla element i vektorn</span></span>
<span id="cb49-11"><a href="data-objekt-och-funktioner.html#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x <span class="sc">+</span> u </span>
<span id="cb49-12"><a href="data-objekt-och-funktioner.html#cb49-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">153</span> <span class="dv">151</span> <span class="dv">151</span> <span class="dv">155</span> <span class="dv">150</span></span>
<span id="cb49-13"><a href="data-objekt-och-funktioner.html#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Räkneoperationer med NA ger NA</span></span>
<span id="cb49-14"><a href="data-objekt-och-funktioner.html#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x <span class="sc">+</span> ymis </span>
<span id="cb49-15"><a href="data-objekt-och-funktioner.html#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">6</span> <span class="cn">NA</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">6</span></span>
<span id="cb49-16"><a href="data-objekt-och-funktioner.html#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Division med 0 är ej definierat. R anger det som Inf (infinity) </span></span>
<span id="cb49-17"><a href="data-objekt-och-funktioner.html#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># eller NaN (Not a Number) om det är 0/0.</span></span>
<span id="cb49-18"><a href="data-objekt-och-funktioner.html#cb49-18" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x<span class="sc">/</span><span class="dv">0</span></span>
<span id="cb49-19"><a href="data-objekt-och-funktioner.html#cb49-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">Inf</span> <span class="cn">Inf</span> <span class="cn">Inf</span> <span class="cn">Inf</span> <span class="cn">NaN</span></span>
<span id="cb49-20"><a href="data-objekt-och-funktioner.html#cb49-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Exempel på längre räkneoperationer. </span></span>
<span id="cb49-21"><a href="data-objekt-och-funktioner.html#cb49-21" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Notera att alla beräkningar är elementvisa.</span></span>
<span id="cb49-22"><a href="data-objekt-och-funktioner.html#cb49-22" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> w <span class="ot">&lt;-</span> x <span class="sc">+</span> (y<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> u)<span class="sc">/</span>v</span>
<span id="cb49-23"><a href="data-objekt-och-funktioner.html#cb49-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> w</span>
<span id="cb49-24"><a href="data-objekt-och-funktioner.html#cb49-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="sc">-</span><span class="fl">143.00000</span>  <span class="sc">-</span><span class="fl">69.50000</span>  <span class="sc">-</span><span class="fl">40.66667</span>  <span class="sc">-</span><span class="fl">23.50000</span>  <span class="sc">-</span><span class="fl">13.80000</span></span></code></pre></div>
<p>Ovanstående illustrerar anvädning av objekt kan medföra avsevärda förenklingar i olika beräkningar.</p>
<p>Nu ska vi se vad som händer om elemementen består av olika antal element. Kom ihåg att vektorn <span class="math inline">\(x\)</span> består av <strong>fem</strong> element, och skriv in nedanstående kod i Console och tryck enter.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-objekt-och-funktioner.html#cb50-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>)</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data-objekt-och-funktioner.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>)</span>
<span id="cb51-2"><a href="data-objekt-och-funktioner.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Warning <span class="cf">in</span> x <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>)<span class="sc">:</span> longer object length is not a multiple of shorter</span>
<span id="cb51-3"><a href="data-objekt-och-funktioner.html#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> object length</span>
<span id="cb51-4"><a href="data-objekt-och-funktioner.html#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">7</span> <span class="dv">5</span></span></code></pre></div>
<p>Eftersom vektorerna har olika många element (fem respektive tre) ger <code>R</code> ifrån sig en varning. Eftersom additionen sker elementvis blir <code>R</code> förvirrat då det inte finns några värden i vektorn <code>c(2, 5, 6)</code> som kan adderas till element 4 och 5 i <span class="math inline">\(x\)</span>. Detta gäller oavsett räknesätt. Om en av vektorerna enbart innehåller ett element, kommer detta element add användas för varje element i den motsvarande vektor. Se, till exempel, koden nedan. Operationen medför att <code>2</code> subtraheras från varje element i <span class="math inline">\(x\)</span></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-objekt-och-funktioner.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="sc">-</span> <span class="fu">c</span>(<span class="dv">2</span>)</span>
<span id="cb52-2"><a href="data-objekt-och-funktioner.html#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">1</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">-</span><span class="dv">1</span>  <span class="dv">3</span> <span class="sc">-</span><span class="dv">2</span></span></code></pre></div>
<div id="vektorer-och-indexering" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Vektorer och indexering<a href="data-objekt-och-funktioner.html#vektorer-och-indexering" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ibland är det intressant eller nödvändigt att välja ut enskilda element ur en vektor. Eftersom data i praktiken alltid måste anpassas för planerade analyser är detta nödvändigt för en statistiker att kunna. Varje element i en vektor har en egen position. I vektorn <span class="math inline">\(x = \{3, 1, 1, 5, 0\}\)</span> ligger trean på position 1, den första ettan på position 2, etc. Med hjälp av hakparenteser kan ett eller flera element i en vektor väljas ut, detta kallas i kursen för <strong>indexering</strong>. Använd nedanstående kod som exempel på detta.</p>
<ol style="list-style-type: decimal">
<li>Skriv in nedanstående i ditt script, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="data-objekt-och-funktioner.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element nummer 2 i vektorn x </span></span>
<span id="cb53-2"><a href="data-objekt-och-funktioner.html#cb53-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]</span>
<span id="cb53-3"><a href="data-objekt-och-funktioner.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element 2, 3 och 4 i vektorn y</span></span>
<span id="cb53-4"><a href="data-objekt-och-funktioner.html#cb53-4" aria-hidden="true" tabindex="-1"></a>y[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span></code></pre></div>
<p>I Console redovisas</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-objekt-och-funktioner.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element nummer 2 i vektorn x </span></span>
<span id="cb54-2"><a href="data-objekt-och-funktioner.html#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x[<span class="dv">2</span>]</span>
<span id="cb54-3"><a href="data-objekt-och-funktioner.html#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb54-4"><a href="data-objekt-och-funktioner.html#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element 2, 3 och 4 i vektorn y</span></span>
<span id="cb54-5"><a href="data-objekt-och-funktioner.html#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb54-6"><a href="data-objekt-och-funktioner.html#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span></span></code></pre></div>
<p>Det går även att spara utvalda element till en ny vektor.</p>
<ol start="2" style="list-style-type: decimal">
<li>Skriv in nedanstående i ditt script.</li>
</ol>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="data-objekt-och-funktioner.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Spara element nummer 2 i vektorn x2 </span></span>
<span id="cb55-2"><a href="data-objekt-och-funktioner.html#cb55-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> x[<span class="dv">2</span>]</span>
<span id="cb55-3"><a href="data-objekt-och-funktioner.html#cb55-3" aria-hidden="true" tabindex="-1"></a>x2</span>
<span id="cb55-4"><a href="data-objekt-och-funktioner.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element 2, 3 och 4 i vektorn y234</span></span>
<span id="cb55-5"><a href="data-objekt-och-funktioner.html#cb55-5" aria-hidden="true" tabindex="-1"></a>y234 <span class="ot">&lt;-</span> y[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb55-6"><a href="data-objekt-och-funktioner.html#cb55-6" aria-hidden="true" tabindex="-1"></a>y234</span></code></pre></div>
<p>I Console redovisas</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-objekt-och-funktioner.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Spara element nummer 2 till vektorn x2 </span></span>
<span id="cb56-2"><a href="data-objekt-och-funktioner.html#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x2 <span class="ot">&lt;-</span> x[<span class="dv">2</span>]</span>
<span id="cb56-3"><a href="data-objekt-och-funktioner.html#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x2</span>
<span id="cb56-4"><a href="data-objekt-och-funktioner.html#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb56-5"><a href="data-objekt-och-funktioner.html#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Spara element 2, 3 och 4 till vektorn y234</span></span>
<span id="cb56-6"><a href="data-objekt-och-funktioner.html#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y234 <span class="ot">&lt;-</span> y[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb56-7"><a href="data-objekt-och-funktioner.html#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y234</span>
<span id="cb56-8"><a href="data-objekt-och-funktioner.html#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span></span></code></pre></div>
<p>Det går att tillämpa <strong>negativ indexering</strong> för att <strong>exkludera</strong> angivna element. Resterande element i en vektor behålls då.</p>
<ol start="3" style="list-style-type: decimal">
<li>Skriv in nedanstående i scriptet, spara, och kör.</li>
</ol>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data-objekt-och-funktioner.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Spara element nummer 1,3,4,5 till vektorn x1345 </span></span>
<span id="cb57-2"><a href="data-objekt-och-funktioner.html#cb57-2" aria-hidden="true" tabindex="-1"></a>x1345 <span class="ot">&lt;-</span> x[<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb57-3"><a href="data-objekt-och-funktioner.html#cb57-3" aria-hidden="true" tabindex="-1"></a>x1345</span>
<span id="cb57-4"><a href="data-objekt-och-funktioner.html#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Spara element 1 och 5 till vektorn y15</span></span>
<span id="cb57-5"><a href="data-objekt-och-funktioner.html#cb57-5" aria-hidden="true" tabindex="-1"></a>y15 <span class="ot">&lt;-</span> y[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb57-6"><a href="data-objekt-och-funktioner.html#cb57-6" aria-hidden="true" tabindex="-1"></a>y15</span></code></pre></div>
<p>I Console redovisas nedanstående.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data-objekt-och-funktioner.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Spara element nummer 1,3,4,5 till vektorn x1345 </span></span>
<span id="cb58-2"><a href="data-objekt-och-funktioner.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x1345 <span class="ot">&lt;-</span> x[<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb58-3"><a href="data-objekt-och-funktioner.html#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x1345</span>
<span id="cb58-4"><a href="data-objekt-och-funktioner.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></span>
<span id="cb58-5"><a href="data-objekt-och-funktioner.html#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Spara element 1 och 5 till vektorn y15</span></span>
<span id="cb58-6"><a href="data-objekt-och-funktioner.html#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y15 <span class="ot">&lt;-</span> y[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span>
<span id="cb58-7"><a href="data-objekt-och-funktioner.html#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y15</span>
<span id="cb58-8"><a href="data-objekt-och-funktioner.html#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">9</span></span></code></pre></div>
<p>En fördel med indexering är att det blir väldigt lätt att byta värden på olika element i en vektor. Detta blir relevant när variabler ska kodas om, eller när bortfall ska kodas på något specifikt sätt. Koden nedan byter värde på det tredje elementet i en specifik vektor</p>
<ol start="4" style="list-style-type: decimal">
<li>Skriv i nedanstående i scriptet, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="data-objekt-och-funktioner.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Ändra element 3 från 1 till 4</span></span>
<span id="cb59-2"><a href="data-objekt-och-funktioner.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x_new <span class="ot">&lt;-</span> x     <span class="co"># Skapar en ny vektor x_new</span></span>
<span id="cb59-3"><a href="data-objekt-och-funktioner.html#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x_new          <span class="co"># Skriver ut den nya vektorn. Notera vilket värde element nr. 3 har.</span></span>
<span id="cb59-4"><a href="data-objekt-och-funktioner.html#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></span>
<span id="cb59-5"><a href="data-objekt-och-funktioner.html#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x_new[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">4</span>  <span class="co"># Byter värde på element nr. 3 i x_new. Det nya värdet är 4</span></span>
<span id="cb59-6"><a href="data-objekt-och-funktioner.html#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x_new          <span class="co"># Skriver ut x_new igen. Notera att värdet på element nr. 3 har ändrats</span></span>
<span id="cb59-7"><a href="data-objekt-och-funktioner.html#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">0</span></span>
<span id="cb59-8"><a href="data-objekt-och-funktioner.html#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb59-9"><a href="data-objekt-och-funktioner.html#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb59-10"><a href="data-objekt-och-funktioner.html#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Ändra element 3 från &quot;Iceland&quot; till 4</span></span>
<span id="cb59-11"><a href="data-objekt-och-funktioner.html#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> nordic_countries_new <span class="ot">&lt;-</span> nordic_countries</span>
<span id="cb59-12"><a href="data-objekt-och-funktioner.html#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb59-13"><a href="data-objekt-och-funktioner.html#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> nordic_countries_new</span>
<span id="cb59-14"><a href="data-objekt-och-funktioner.html#cb59-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></span>
<span id="cb59-15"><a href="data-objekt-och-funktioner.html#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nordic_countries_new[<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb59-16"><a href="data-objekt-och-funktioner.html#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nordic_countries_new </span>
<span id="cb59-17"><a href="data-objekt-och-funktioner.html#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;4&quot;</span>       <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></span></code></pre></div>
<p>Ovanstående kod illustrerar två vanliga företeelser:</p>
<ul>
<li>Vektorerna <strong>x_new</strong> och <strong>nordic_countries_new</strong> skapas på grund av att användaren ofta önskar behålla originalvektorerna <strong>x</strong> och <strong>nordic_countries</strong>. För säkerhets skull är det alltid bra att behålla ursprungsdata.</li>
<li>Om ett numeriskt värde läggs till en vektor med bokstäver så tolkas det numeriska värdet som ett tecken, dvs <code>"4"</code>. Det illustrerar vikten av vara noga med om vektorerna är <code>numeric</code> eller <code>character</code></li>
</ul>
</div>
<div id="vektorer-och-logiska-operatorer" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Vektorer och logiska operatorer<a href="data-objekt-och-funktioner.html#vektorer-och-logiska-operatorer" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>I praktiken är det vanligt att vilja välja ut element som uppfyller vissa specifika krav ur en vektor, särskilt när variabler ska kodas om. För att underlätta denna typ indexering kan <strong>logiska operatorer</strong> operatorer användas. Logiska operatorer används för att låta <code>R</code> testa huruvida ett specifikt påstående är sant eller falskt. Några vanliga och viktiga logiska operatorer är:</p>
<ul>
<li><code>&gt;</code> är större än.</li>
<li><code>&lt;</code> är mindre än.</li>
<li><code>&gt;=</code> större än eller lika med</li>
<li><code>&lt;=</code> mindre än eller lika med</li>
<li><code>==</code> lika med.</li>
<li><code>!=</code> är ej lika med</li>
<li><code>x|y</code> <span class="math inline">\(x\)</span> eller <span class="math inline">\(y\)</span></li>
<li><code>x &amp; y</code> <span class="math inline">\(x\)</span> och <span class="math inline">\(y\)</span></li>
</ul>
<p>För att illustrera hur logiska operatorer används för att skriva <strong>logiska satser</strong> används ett par väldigt grundläggande exempel</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="data-objekt-och-funktioner.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="sc">&gt;</span> <span class="dv">1</span>  <span class="co"># Testar huruvida 2 är större än 1</span></span>
<span id="cb60-2"><a href="data-objekt-och-funktioner.html#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb60-3"><a href="data-objekt-och-funktioner.html#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb60-4"><a href="data-objekt-och-funktioner.html#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">2</span> <span class="sc">&lt;</span> <span class="dv">1</span> <span class="co"># Testar huruvida 2 är mindre än 1</span></span>
<span id="cb60-5"><a href="data-objekt-och-funktioner.html#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">FALSE</span></span>
<span id="cb60-6"><a href="data-objekt-och-funktioner.html#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb60-7"><a href="data-objekt-och-funktioner.html#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span> <span class="co"># Testar huruvida 2 är lika med 1</span></span>
<span id="cb60-8"><a href="data-objekt-och-funktioner.html#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">FALSE</span></span></code></pre></div>
<p>Som synes är resultaten precis vad som förväntas.</p>
<style>
div.yellow{ background-color:#FFFA94; border-radius: 5px; padding: 20px;}
</style>
<div class="yellow">
<p><font size="5"> <strong>Övningsuppgift</strong> </font></p>
<p>Antag att du har skapat objekten <code>a &lt;- 1</code>, <code>b &lt;- 4</code>, och <code>c &lt;- "Finland"</code>. Utan att använda <code>R</code>, försök komma på huruvida följande logiska satser kommer resultera i <code>TRUE</code> eller <code>FALSE</code></p>
<ol style="list-style-type: decimal">
<li><code>a &gt; b</code></li>
<li><code>a == b</code></li>
<li><code>(b - 3) &lt;= a</code></li>
<li><code>a &gt; 3</code></li>
<li><code>b &gt; 3</code></li>
<li><code>(a &gt; 2) | (b &gt; 3)</code></li>
<li><code>(a &gt; 0) &amp; (a &lt;= 1)</code></li>
<li><code>c == "Norge"</code></li>
<li><code>c == "Finland"</code></li>
</ol>
<p>När du har ett svar till varje rad kan du skapa objekten <code>a</code>, <code>b</code>, och <code>c</code> och köra de logiska satserna i <code>R</code> för att se om du kom fram till rätt svar.</p>
</div>
<p>Logiska operatorer kan även användas på hela vektorer, och de utvärderar då påståendet enskilt för vektorns alla element. Koden nedan exemplifierar detta</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="data-objekt-och-funktioner.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="sc">&gt;=</span> <span class="dv">3</span></span>
<span id="cb61-2"><a href="data-objekt-och-funktioner.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span></span>
<span id="cb61-3"><a href="data-objekt-och-funktioner.html#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb61-4"><a href="data-objekt-och-funktioner.html#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="sc">!=</span> <span class="dv">3</span></span>
<span id="cb61-5"><a href="data-objekt-och-funktioner.html#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span></span></code></pre></div>
<p>Logiska satser kan användas för att indexera vektorer. Se koden nedan som exempel.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="data-objekt-och-funktioner.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x</span>
<span id="cb62-2"><a href="data-objekt-och-funktioner.html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></span>
<span id="cb62-3"><a href="data-objekt-och-funktioner.html#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb62-4"><a href="data-objekt-och-funktioner.html#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x <span class="sc">&gt;</span> <span class="dv">3</span></span>
<span id="cb62-5"><a href="data-objekt-och-funktioner.html#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb62-6"><a href="data-objekt-och-funktioner.html#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb62-7"><a href="data-objekt-och-funktioner.html#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x[x <span class="sc">&gt;</span> <span class="dv">3</span>]</span>
<span id="cb62-8"><a href="data-objekt-och-funktioner.html#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<p>Satsen <code>x &gt; 3</code> visar <code>TRUE</code> för de element i <span class="math inline">\(x\)</span> som är större än 3, och <code>FALSE</code> för övriga element. När en logisk sats används inuti en hakparentes tolkar <code>R</code> det som att användaren vill välja ut de värden för vilka den logiska satsen är sann. I den logiska satsen ovan är det bara det fjärde elementet som är <code>TRUE</code>, och därför väljs bara det fjärde elementet ur <span class="math inline">\(x\)</span>. På liknande sätt kan vektorn <span class="math inline">\(x\)</span> användas för att välja ut vissa specifika värden ur vektorn <span class="math inline">\(y\)</span>, som i koden nedan.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data-objekt-och-funktioner.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y</span>
<span id="cb63-2"><a href="data-objekt-och-funktioner.html#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></span>
<span id="cb63-3"><a href="data-objekt-och-funktioner.html#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb63-4"><a href="data-objekt-och-funktioner.html#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x <span class="sc">&gt;</span> <span class="dv">3</span></span>
<span id="cb63-5"><a href="data-objekt-och-funktioner.html#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb63-6"><a href="data-objekt-och-funktioner.html#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb63-7"><a href="data-objekt-och-funktioner.html#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y[x <span class="sc">&gt;</span> <span class="dv">3</span>]</span>
<span id="cb63-8"><a href="data-objekt-och-funktioner.html#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">6</span></span></code></pre></div>
<p>Den sista raden i kodsnutten ovan väljer ut de element i <span class="math inline">\(y\)</span>, för vilka motsvarande element i <span class="math inline">\(x\)</span> är större än 3. Detta kan låta lite påhittat och ganska abstrakt, men denna typ av indexering fyller en viktig funktion i <code>R</code>. Antag, till exempel, att en forskare studerar ingångslöner för studenter som tagit examen i statsvetenskap vid UU. Forskaren frågar ett urval av gamla studenter vad de fick för ingångslön på sin första jobb efter examen och även vilken typ av examen de tog ut. Säg att informationen matas in i två vektorer, <code>lon</code> och <code>examen</code> för lön respektive examenstyp. Med hjälp av logiska operatorer är det då enkelt att göra analyser grupp för grupp, eftersom löner för studenter med masterexamen lätt kan plockas ut som <code>lon[examen == "master"]</code>. Om det är många studenter i urvalet är det mycket smidigare att göra på detta sättet än att gå igenom datamaterialet och ange vilka positioner studenterna i varje grupp har. Fler exempel på hur logiska operatorer kan användas för indexering följer nedan.</p>
<ol style="list-style-type: decimal">
<li>Fortsätt scriptet genom att skriva in nedanstående kod. Spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data-objekt-och-funktioner.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element i vektor y som är större än 6</span></span>
<span id="cb64-2"><a href="data-objekt-och-funktioner.html#cb64-2" aria-hidden="true" tabindex="-1"></a>y[y <span class="sc">&gt;</span> <span class="dv">6</span>]</span>
<span id="cb64-3"><a href="data-objekt-och-funktioner.html#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element i vektor y som är större än eller lika med 6</span></span>
<span id="cb64-4"><a href="data-objekt-och-funktioner.html#cb64-4" aria-hidden="true" tabindex="-1"></a>y[y <span class="sc">&gt;=</span> <span class="dv">6</span>]</span>
<span id="cb64-5"><a href="data-objekt-och-funktioner.html#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element i vektor y från positioner där x har värden lika med 1. </span></span>
<span id="cb64-6"><a href="data-objekt-och-funktioner.html#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="co"># (Kräver att x och y har lika många element) </span></span>
<span id="cb64-7"><a href="data-objekt-och-funktioner.html#cb64-7" aria-hidden="true" tabindex="-1"></a>y[x <span class="sc">==</span> <span class="dv">1</span>]</span>
<span id="cb64-8"><a href="data-objekt-och-funktioner.html#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element i vektor där x är ej lika med 1.</span></span>
<span id="cb64-9"><a href="data-objekt-och-funktioner.html#cb64-9" aria-hidden="true" tabindex="-1"></a>y[x <span class="sc">!=</span> <span class="dv">1</span>]</span>
<span id="cb64-10"><a href="data-objekt-och-funktioner.html#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element i vektor y från positioner där nordic_countries == &quot;Finland&quot;</span></span>
<span id="cb64-11"><a href="data-objekt-och-funktioner.html#cb64-11" aria-hidden="true" tabindex="-1"></a>y[nordic_countries <span class="sc">==</span> <span class="st">&quot;Finland&quot;</span>]</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="data-objekt-och-funktioner.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element i vektor y som är större än 6</span></span>
<span id="cb65-2"><a href="data-objekt-och-funktioner.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y[y <span class="sc">&gt;</span> <span class="dv">6</span>]</span>
<span id="cb65-3"><a href="data-objekt-och-funktioner.html#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">9</span></span>
<span id="cb65-4"><a href="data-objekt-och-funktioner.html#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element i vektor y som är större än eller lika med 6</span></span>
<span id="cb65-5"><a href="data-objekt-och-funktioner.html#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y[y <span class="sc">&gt;=</span> <span class="dv">6</span>]</span>
<span id="cb65-6"><a href="data-objekt-och-funktioner.html#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">6</span> <span class="dv">9</span></span>
<span id="cb65-7"><a href="data-objekt-och-funktioner.html#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element i vektor y från positioner där x har värden lika med 1. </span></span>
<span id="cb65-8"><a href="data-objekt-och-funktioner.html#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># (Kräver att x och y har lika många element) </span></span>
<span id="cb65-9"><a href="data-objekt-och-funktioner.html#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y[x <span class="sc">==</span> <span class="dv">1</span>]</span>
<span id="cb65-10"><a href="data-objekt-och-funktioner.html#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">5</span></span>
<span id="cb65-11"><a href="data-objekt-och-funktioner.html#cb65-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element i vektor där x är ej lika med 1.</span></span>
<span id="cb65-12"><a href="data-objekt-och-funktioner.html#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y[x <span class="sc">!=</span> <span class="dv">1</span>]</span>
<span id="cb65-13"><a href="data-objekt-och-funktioner.html#cb65-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">6</span> <span class="dv">9</span></span>
<span id="cb65-14"><a href="data-objekt-och-funktioner.html#cb65-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element i vektor y från positioner där nordic_countries == &quot;Finland&quot;</span></span>
<span id="cb65-15"><a href="data-objekt-och-funktioner.html#cb65-15" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y[nordic_countries <span class="sc">==</span> <span class="st">&quot;Finland&quot;</span>]</span>
<span id="cb65-16"><a href="data-objekt-och-funktioner.html#cb65-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span></span></code></pre></div>
<p>Precis som förut skapas i regel nya vektorer när logiska operatorer tillämpas.</p>
<ol start="2" style="list-style-type: decimal">
<li>Skriv in nedanstående i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="data-objekt-och-funktioner.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Välj vektorn som är större än eller lika med 6</span></span>
<span id="cb66-2"><a href="data-objekt-och-funktioner.html#cb66-2" aria-hidden="true" tabindex="-1"></a>ysub <span class="ot">&lt;-</span> y[y <span class="sc">&gt;=</span> <span class="dv">6</span>] </span>
<span id="cb66-3"><a href="data-objekt-och-funktioner.html#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="data-objekt-och-funktioner.html#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en binär vektor x_bin som är 1 om x är större än eller lika med 3 och 0</span></span>
<span id="cb66-5"><a href="data-objekt-och-funktioner.html#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># om x är mindre än 3. Börja med att skapa en tom vektor med motsvarande antal element</span></span>
<span id="cb66-6"><a href="data-objekt-och-funktioner.html#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co"># och fyll sedan denna med saknade värden.</span></span>
<span id="cb66-7"><a href="data-objekt-och-funktioner.html#cb66-7" aria-hidden="true" tabindex="-1"></a>x_bin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>)</span>
<span id="cb66-8"><a href="data-objekt-och-funktioner.html#cb66-8" aria-hidden="true" tabindex="-1"></a>x_bin[x <span class="sc">&gt;=</span><span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb66-9"><a href="data-objekt-och-funktioner.html#cb66-9" aria-hidden="true" tabindex="-1"></a>x_bin[x <span class="sc">&lt;</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb66-10"><a href="data-objekt-och-funktioner.html#cb66-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-11"><a href="data-objekt-och-funktioner.html#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en tom vektor med 5 element och fyll därefter denna vektor med</span></span>
<span id="cb66-12"><a href="data-objekt-och-funktioner.html#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="co"># data om landet är skandinaviskt eller ej</span></span>
<span id="cb66-13"><a href="data-objekt-och-funktioner.html#cb66-13" aria-hidden="true" tabindex="-1"></a>scandinavia <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>) </span>
<span id="cb66-14"><a href="data-objekt-och-funktioner.html#cb66-14" aria-hidden="true" tabindex="-1"></a>scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Finland&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Not scandinavia&quot;</span></span>
<span id="cb66-15"><a href="data-objekt-och-funktioner.html#cb66-15" aria-hidden="true" tabindex="-1"></a>scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Denmark&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Scandinavia&quot;</span></span>
<span id="cb66-16"><a href="data-objekt-och-funktioner.html#cb66-16" aria-hidden="true" tabindex="-1"></a>scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Sweden&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Scandinavia&quot;</span></span>
<span id="cb66-17"><a href="data-objekt-och-funktioner.html#cb66-17" aria-hidden="true" tabindex="-1"></a>scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Norway&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Scandinavia&quot;</span></span>
<span id="cb66-18"><a href="data-objekt-och-funktioner.html#cb66-18" aria-hidden="true" tabindex="-1"></a>scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Iceland&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Not scandinavia&quot;</span></span>
<span id="cb66-19"><a href="data-objekt-och-funktioner.html#cb66-19" aria-hidden="true" tabindex="-1"></a>scandinavia</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="data-objekt-och-funktioner.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Välj vektorn som är större än eller lika med 6</span></span>
<span id="cb67-2"><a href="data-objekt-och-funktioner.html#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> ysub <span class="ot">&lt;-</span> y[y <span class="sc">&gt;=</span> <span class="dv">6</span>] </span>
<span id="cb67-3"><a href="data-objekt-och-funktioner.html#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb67-4"><a href="data-objekt-och-funktioner.html#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Skapa en binär vektor x_bin som är 1 om x är större än eller lika med 3 och 0</span></span>
<span id="cb67-5"><a href="data-objekt-och-funktioner.html#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># om x är mindre än 3. Börja med att skapa en tom vektor med motsvarande antal element</span></span>
<span id="cb67-6"><a href="data-objekt-och-funktioner.html#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># och fyll sedan denna med saknade värden.</span></span>
<span id="cb67-7"><a href="data-objekt-och-funktioner.html#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x_bin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>)</span>
<span id="cb67-8"><a href="data-objekt-och-funktioner.html#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x_bin[x <span class="sc">&gt;=</span><span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb67-9"><a href="data-objekt-och-funktioner.html#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x_bin[x <span class="sc">&lt;</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb67-10"><a href="data-objekt-och-funktioner.html#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x</span>
<span id="cb67-11"><a href="data-objekt-och-funktioner.html#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></span>
<span id="cb67-12"><a href="data-objekt-och-funktioner.html#cb67-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x_bin</span>
<span id="cb67-13"><a href="data-objekt-och-funktioner.html#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span></span>
<span id="cb67-14"><a href="data-objekt-och-funktioner.html#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en tom vektor med 5 element och fyll därefter denna vektor med</span></span>
<span id="cb67-15"><a href="data-objekt-och-funktioner.html#cb67-15" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># data om landet är skandinaviskt eller ej</span></span>
<span id="cb67-16"><a href="data-objekt-och-funktioner.html#cb67-16" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> scandinavia <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>) </span>
<span id="cb67-17"><a href="data-objekt-och-funktioner.html#cb67-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Finland&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Not scandinavia&quot;</span></span>
<span id="cb67-18"><a href="data-objekt-och-funktioner.html#cb67-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Denmark&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Scandinavia&quot;</span></span>
<span id="cb67-19"><a href="data-objekt-och-funktioner.html#cb67-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Sweden&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Scandinavia&quot;</span></span>
<span id="cb67-20"><a href="data-objekt-och-funktioner.html#cb67-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Norway&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Scandinavia&quot;</span></span>
<span id="cb67-21"><a href="data-objekt-och-funktioner.html#cb67-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> scandinavia[nordic_countries <span class="sc">==</span> <span class="st">&quot;Iceland&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Not scandinavia&quot;</span></span>
<span id="cb67-22"><a href="data-objekt-och-funktioner.html#cb67-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> scandinavia</span>
<span id="cb67-23"><a href="data-objekt-och-funktioner.html#cb67-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;Scandinavia&quot;</span>     <span class="st">&quot;Not scandinavia&quot;</span> <span class="st">&quot;Not scandinavia&quot;</span> <span class="st">&quot;Scandinavia&quot;</span>    </span>
<span id="cb67-24"><a href="data-objekt-och-funktioner.html#cb67-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">5</span>] <span class="st">&quot;Scandinavia&quot;</span></span></code></pre></div>
<p>Ovanstående moment är <strong>viktigt</strong>. Här illustreras nämligen en grundläggande princip för skapandet av nya variabel, dvs först skapa en tom vektor som sedans fylls med information. Även om det finns alternativa kompaktare sätt att koda om vektorer (och följaktligen variabler), är det ovanstående tillvägagångssätt som rekommenderas starkt på denna kurs.</p>
<p>Nästa steg är att använda den logiska operatorn <em>&amp;</em>.</p>
<ol start="3" style="list-style-type: decimal">
<li>Skriv in nedanstående i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data-objekt-och-funktioner.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en vektor z_trinary som är</span></span>
<span id="cb68-2"><a href="data-objekt-och-funktioner.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 om z är mindre än eller lika med 1</span></span>
<span id="cb68-3"><a href="data-objekt-och-funktioner.html#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 om z är större än 1 eller mindre än eller lika med 5 </span></span>
<span id="cb68-4"><a href="data-objekt-och-funktioner.html#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 3 om z är större än 5 </span></span>
<span id="cb68-5"><a href="data-objekt-och-funktioner.html#cb68-5" aria-hidden="true" tabindex="-1"></a>z_trinary <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb68-6"><a href="data-objekt-och-funktioner.html#cb68-6" aria-hidden="true" tabindex="-1"></a>z_trinary[z <span class="sc">&lt;=</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb68-7"><a href="data-objekt-och-funktioner.html#cb68-7" aria-hidden="true" tabindex="-1"></a>z_trinary[(z <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">&amp;</span> (z <span class="sc">&lt;=</span><span class="dv">5</span>)] <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb68-8"><a href="data-objekt-och-funktioner.html#cb68-8" aria-hidden="true" tabindex="-1"></a>z_trinary[z <span class="sc">&gt;</span> <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb68-9"><a href="data-objekt-och-funktioner.html#cb68-9" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb68-10"><a href="data-objekt-och-funktioner.html#cb68-10" aria-hidden="true" tabindex="-1"></a>z_trinary</span>
<span id="cb68-11"><a href="data-objekt-och-funktioner.html#cb68-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-12"><a href="data-objekt-och-funktioner.html#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en binära variabler z1, z2 och z3</span></span>
<span id="cb68-13"><a href="data-objekt-och-funktioner.html#cb68-13" aria-hidden="true" tabindex="-1"></a>z1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb68-14"><a href="data-objekt-och-funktioner.html#cb68-14" aria-hidden="true" tabindex="-1"></a>z1[z_trinary <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb68-15"><a href="data-objekt-och-funktioner.html#cb68-15" aria-hidden="true" tabindex="-1"></a>z1[z_trinary <span class="sc">==</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb68-16"><a href="data-objekt-och-funktioner.html#cb68-16" aria-hidden="true" tabindex="-1"></a>z1[z_trinary <span class="sc">==</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb68-17"><a href="data-objekt-och-funktioner.html#cb68-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-18"><a href="data-objekt-och-funktioner.html#cb68-18" aria-hidden="true" tabindex="-1"></a>z2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb68-19"><a href="data-objekt-och-funktioner.html#cb68-19" aria-hidden="true" tabindex="-1"></a>z2[z_trinary <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb68-20"><a href="data-objekt-och-funktioner.html#cb68-20" aria-hidden="true" tabindex="-1"></a>z2[z_trinary <span class="sc">==</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb68-21"><a href="data-objekt-och-funktioner.html#cb68-21" aria-hidden="true" tabindex="-1"></a>z2[z_trinary <span class="sc">==</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb68-22"><a href="data-objekt-och-funktioner.html#cb68-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-23"><a href="data-objekt-och-funktioner.html#cb68-23" aria-hidden="true" tabindex="-1"></a>z3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb68-24"><a href="data-objekt-och-funktioner.html#cb68-24" aria-hidden="true" tabindex="-1"></a>z3[z_trinary <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb68-25"><a href="data-objekt-och-funktioner.html#cb68-25" aria-hidden="true" tabindex="-1"></a>z3[z_trinary <span class="sc">==</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb68-26"><a href="data-objekt-och-funktioner.html#cb68-26" aria-hidden="true" tabindex="-1"></a>z3[z_trinary <span class="sc">==</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb68-27"><a href="data-objekt-och-funktioner.html#cb68-27" aria-hidden="true" tabindex="-1"></a>z1</span>
<span id="cb68-28"><a href="data-objekt-och-funktioner.html#cb68-28" aria-hidden="true" tabindex="-1"></a>z2</span>
<span id="cb68-29"><a href="data-objekt-och-funktioner.html#cb68-29" aria-hidden="true" tabindex="-1"></a>z3</span></code></pre></div>
<p>I Console redovisas följande.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data-objekt-och-funktioner.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en vektor z_trinary som är</span></span>
<span id="cb69-2"><a href="data-objekt-och-funktioner.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># 1 om z är mindre än eller lika med 1</span></span>
<span id="cb69-3"><a href="data-objekt-och-funktioner.html#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># 2 om z är större än 1 eller mindre än eller lika med 5 </span></span>
<span id="cb69-4"><a href="data-objekt-och-funktioner.html#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># 3 om z är större än 5 </span></span>
<span id="cb69-5"><a href="data-objekt-och-funktioner.html#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> z_trinary <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb69-6"><a href="data-objekt-och-funktioner.html#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z_trinary[z <span class="sc">&lt;=</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb69-7"><a href="data-objekt-och-funktioner.html#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z_trinary[(z <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">&amp;</span> (z <span class="sc">&lt;=</span> <span class="dv">5</span>)] <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb69-8"><a href="data-objekt-och-funktioner.html#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z_trinary[z <span class="sc">&gt;</span> <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb69-9"><a href="data-objekt-och-funktioner.html#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z</span>
<span id="cb69-10"><a href="data-objekt-och-funktioner.html#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></span>
<span id="cb69-11"><a href="data-objekt-och-funktioner.html#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z_trinary</span>
<span id="cb69-12"><a href="data-objekt-och-funktioner.html#cb69-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span></span>
<span id="cb69-13"><a href="data-objekt-och-funktioner.html#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb69-14"><a href="data-objekt-och-funktioner.html#cb69-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Skapa en binära variabler z1, z2 och z3</span></span>
<span id="cb69-15"><a href="data-objekt-och-funktioner.html#cb69-15" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> z1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb69-16"><a href="data-objekt-och-funktioner.html#cb69-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z1[z_trinary <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb69-17"><a href="data-objekt-och-funktioner.html#cb69-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z1[z_trinary <span class="sc">==</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb69-18"><a href="data-objekt-och-funktioner.html#cb69-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z1[z_trinary <span class="sc">==</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb69-19"><a href="data-objekt-och-funktioner.html#cb69-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb69-20"><a href="data-objekt-och-funktioner.html#cb69-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> z2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb69-21"><a href="data-objekt-och-funktioner.html#cb69-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z2[z_trinary <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb69-22"><a href="data-objekt-och-funktioner.html#cb69-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z2[z_trinary <span class="sc">==</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb69-23"><a href="data-objekt-och-funktioner.html#cb69-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z2[z_trinary <span class="sc">==</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb69-24"><a href="data-objekt-och-funktioner.html#cb69-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb69-25"><a href="data-objekt-och-funktioner.html#cb69-25" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> z3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb69-26"><a href="data-objekt-och-funktioner.html#cb69-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z3[z_trinary <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb69-27"><a href="data-objekt-och-funktioner.html#cb69-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z3[z_trinary <span class="sc">==</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb69-28"><a href="data-objekt-och-funktioner.html#cb69-28" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z3[z_trinary <span class="sc">==</span> <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb69-29"><a href="data-objekt-och-funktioner.html#cb69-29" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z1</span>
<span id="cb69-30"><a href="data-objekt-och-funktioner.html#cb69-30" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb69-31"><a href="data-objekt-och-funktioner.html#cb69-31" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z2</span>
<span id="cb69-32"><a href="data-objekt-och-funktioner.html#cb69-32" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb69-33"><a href="data-objekt-och-funktioner.html#cb69-33" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z3</span>
<span id="cb69-34"><a href="data-objekt-och-funktioner.html#cb69-34" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span></span></code></pre></div>
<p>Ett par viktiga punkter att komma ihåg är</p>
<ul>
<li>Arbetsgången är att en ny vektor skapas, vilken sedan fylls på. För en binär variabel skulle vi teoretiskt kunna använda operatorn <em>!=</em>, men detta kan dels leda till att NA i en vektor kodas till 0, dels att datatvätten blir mindre noggrann. Ovanstående metodik för att skapa ny variabler är transparent.</li>
<li>Använd parenteser för att undvika eventuella fel, som till exempel var fallet med <em>(z &gt; 1) &amp; (z &lt;= 5)</em>.</li>
</ul>
<p>Avslutningsvis ska vi använda den logiska operatorn <em>|</em>.</p>
<ol start="4" style="list-style-type: decimal">
<li>Skriv in nedanstående i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data-objekt-och-funktioner.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Om z1 = 1 eller z3 = 1, så ska w_bin = 1.</span></span>
<span id="cb70-2"><a href="data-objekt-och-funktioner.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Om z2 = 1 så ska d_bin = 0.</span></span>
<span id="cb70-3"><a href="data-objekt-och-funktioner.html#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="data-objekt-och-funktioner.html#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en tom vektor w_bin</span></span>
<span id="cb70-5"><a href="data-objekt-och-funktioner.html#cb70-5" aria-hidden="true" tabindex="-1"></a>d_bin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb70-6"><a href="data-objekt-och-funktioner.html#cb70-6" aria-hidden="true" tabindex="-1"></a>d_bin[(z1 <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|</span> (z3 <span class="sc">==</span> <span class="dv">1</span>)] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb70-7"><a href="data-objekt-och-funktioner.html#cb70-7" aria-hidden="true" tabindex="-1"></a>d_bin[z2 <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb70-8"><a href="data-objekt-och-funktioner.html#cb70-8" aria-hidden="true" tabindex="-1"></a>z1</span>
<span id="cb70-9"><a href="data-objekt-och-funktioner.html#cb70-9" aria-hidden="true" tabindex="-1"></a>z2</span>
<span id="cb70-10"><a href="data-objekt-och-funktioner.html#cb70-10" aria-hidden="true" tabindex="-1"></a>z3</span>
<span id="cb70-11"><a href="data-objekt-och-funktioner.html#cb70-11" aria-hidden="true" tabindex="-1"></a>d_bin</span>
<span id="cb70-12"><a href="data-objekt-och-funktioner.html#cb70-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-13"><a href="data-objekt-och-funktioner.html#cb70-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-14"><a href="data-objekt-och-funktioner.html#cb70-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Om landet är Norge eller Island och x &gt; 4 eller w &gt; -50 så ska vi sätta NA</span></span>
<span id="cb70-15"><a href="data-objekt-och-funktioner.html#cb70-15" aria-hidden="true" tabindex="-1"></a>y_new <span class="ot">&lt;-</span> y</span>
<span id="cb70-16"><a href="data-objekt-och-funktioner.html#cb70-16" aria-hidden="true" tabindex="-1"></a>y_new[( (nordic_countries <span class="sc">==</span> <span class="st">&quot;Iceland&quot;</span>) <span class="sc">|</span> (nordic_countries <span class="sc">==</span> <span class="st">&quot;Norway&quot;</span>) ) <span class="sc">&amp;</span> </span>
<span id="cb70-17"><a href="data-objekt-och-funktioner.html#cb70-17" aria-hidden="true" tabindex="-1"></a>        ( (x <span class="sc">&gt;</span> <span class="dv">4</span>) <span class="sc">|</span> (w <span class="sc">&gt;</span> <span class="sc">-</span><span class="dv">50</span>) ) ] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb70-18"><a href="data-objekt-och-funktioner.html#cb70-18" aria-hidden="true" tabindex="-1"></a>nordic_countries</span>
<span id="cb70-19"><a href="data-objekt-och-funktioner.html#cb70-19" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb70-20"><a href="data-objekt-och-funktioner.html#cb70-20" aria-hidden="true" tabindex="-1"></a>y_new</span></code></pre></div>
<p>I Console ser vi utskrifterna. Om du inte har förstått koden, så kan du jämföra vektorerna och se varför <em>d_bin</em> och <em>y_new</em> har fått de värden som de har.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-objekt-och-funktioner.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Om z1 = 1 eller z3 = 1, så ska w_bin = 1.</span></span>
<span id="cb71-2"><a href="data-objekt-och-funktioner.html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Om z2 = 1 så ska d_bin = 0.</span></span>
<span id="cb71-3"><a href="data-objekt-och-funktioner.html#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb71-4"><a href="data-objekt-och-funktioner.html#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Skapa en tom vektor w_bin</span></span>
<span id="cb71-5"><a href="data-objekt-och-funktioner.html#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> d_bin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb71-6"><a href="data-objekt-och-funktioner.html#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> d_bin[(z1 <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|</span> (z3 <span class="sc">==</span> <span class="dv">1</span>)] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb71-7"><a href="data-objekt-och-funktioner.html#cb71-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> d_bin[z2 <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb71-8"><a href="data-objekt-och-funktioner.html#cb71-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z1</span>
<span id="cb71-9"><a href="data-objekt-och-funktioner.html#cb71-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb71-10"><a href="data-objekt-och-funktioner.html#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z2</span>
<span id="cb71-11"><a href="data-objekt-och-funktioner.html#cb71-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb71-12"><a href="data-objekt-och-funktioner.html#cb71-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z3</span>
<span id="cb71-13"><a href="data-objekt-och-funktioner.html#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span></span>
<span id="cb71-14"><a href="data-objekt-och-funktioner.html#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> d_bin</span>
<span id="cb71-15"><a href="data-objekt-och-funktioner.html#cb71-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span></span>
<span id="cb71-16"><a href="data-objekt-och-funktioner.html#cb71-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb71-17"><a href="data-objekt-och-funktioner.html#cb71-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> </span>
<span id="cb71-18"><a href="data-objekt-och-funktioner.html#cb71-18" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Om landet är Norge eller Island och x &gt; 4 eller w &gt; -50 så ska vi sätta NA</span></span>
<span id="cb71-19"><a href="data-objekt-och-funktioner.html#cb71-19" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> y_new <span class="ot">&lt;-</span> y</span>
<span id="cb71-20"><a href="data-objekt-och-funktioner.html#cb71-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y_new[( (nordic_countries <span class="sc">==</span> <span class="st">&quot;Iceland&quot;</span>) <span class="sc">|</span> (nordic_countries <span class="sc">==</span> <span class="st">&quot;Norway&quot;</span>) ) <span class="sc">&amp;</span> </span>
<span id="cb71-21"><a href="data-objekt-och-funktioner.html#cb71-21" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>         ( (x <span class="sc">&gt;</span> <span class="dv">4</span>) <span class="sc">|</span> (w <span class="sc">&gt;</span> <span class="sc">-</span><span class="dv">50</span>) ) ] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb71-22"><a href="data-objekt-och-funktioner.html#cb71-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nordic_countries</span>
<span id="cb71-23"><a href="data-objekt-och-funktioner.html#cb71-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></span>
<span id="cb71-24"><a href="data-objekt-och-funktioner.html#cb71-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x</span>
<span id="cb71-25"><a href="data-objekt-och-funktioner.html#cb71-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></span>
<span id="cb71-26"><a href="data-objekt-och-funktioner.html#cb71-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y_new</span>
<span id="cb71-27"><a href="data-objekt-och-funktioner.html#cb71-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>]  <span class="dv">2</span>  <span class="dv">3</span> <span class="cn">NA</span> <span class="cn">NA</span>  <span class="dv">9</span></span></code></pre></div>
<p>Ovanstående sätt att förändra och skapa vektorer används <strong>mycket ofta</strong> i R och kan hantera mycket av den praktiska datahantering som du kommer att stöta på under denna kurs, men också ute i arbetslivet. Som tidigare nämnts finns andra sätt att åstadkomma samma resultat, som kanske till och med i specifika avseenden är bättre, men utgå på denna kurs från kod som presenteras här.</p>
<p>Det bör nämnas att det naturligtvis finns mycket mer att lära sig om hur logiska operatorer fungerar. Till exempel skapar nedanstående kod den sista datatypen som nämndes inledningsvis, dvs logical data.</p>
<ol start="5" style="list-style-type: decimal">
<li>Skriv in nedanstående i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-objekt-och-funktioner.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ger en logisk vektor</span></span>
<span id="cb72-2"><a href="data-objekt-och-funktioner.html#cb72-2" aria-hidden="true" tabindex="-1"></a>(x <span class="sc">&gt;</span> <span class="dv">4</span>) </span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="data-objekt-och-funktioner.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiplikation med en logisk vektor</span></span>
<span id="cb74-2"><a href="data-objekt-och-funktioner.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">*</span>(x <span class="sc">&gt;</span> <span class="dv">4</span>) </span></code></pre></div>
<pre><code>## [1] 0 0 0 1 0</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="data-objekt-och-funktioner.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="sc">*</span>(x <span class="sc">&gt;</span> <span class="dv">4</span>) </span></code></pre></div>
<pre><code>## [1] 0 0 0 4 0</code></pre>
<p>Spara scriptet <strong>kap3_objekt_och_funktioner.R</strong>.</p>
</div>
</div>
<div id="matriser" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Matriser<a href="data-objekt-och-funktioner.html#matriser" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En matris är ett tvådimensionellt dataobjekt bestående av <strong>rader</strong> och <strong>kolumner</strong>, till skillnad från en vektor som bara består av en rad. Notera ordningen, dvs en matris storlek anges <strong>först</strong> med rader, <strong>sedan</strong> med kolumner. Analogt med <strong>c()</strong>, som kombinerar element till en vektor, används <code>cbind()</code> och <code>rbind()</code> för att binda ihop vektorer radvis eller kolumnvis till matriser. En matris måste innehålla element av samma datatyp, vilket innebär att det <strong>inte</strong> går att binda samman numeriska vektorer med vektorer som innehåller bokstäver. En matris kan även skapas direkt med kommandot <strong>matrix()</strong> som transformerar en vektor med <span class="math inline">\(k\)</span> antal element till en matris bestående motsvarande antal element fördelat på antal rader och kolumner. I regel är det enklast att använda <code>cbind()</code> eller <code>rbind()</code>, och det är dessa två som rekommenderas under denna kurs.</p>
<p>För två vektorer <span class="math inline">\(x\)</span> och <span class="math inline">\(y\)</span> kommer <code>rbind(x, y)</code> skapa en matris där varje vektor utgör en egen rad, och <code>cbind(x, y)</code> skapa en matris där varje vektor utgör en rad. Såväl matriser som <code>rbind()</code> och <code>cbind()</code> förstås bäst med hjälp av exempel. Se koden nedan får ett par sådana.</p>
<ol style="list-style-type: decimal">
<li>Fortsätt scriptet <strong>kap3_objekt_och_funktioner.R</strong> och skriv in nedanstående kod. Spara scriptet och kör.</li>
</ol>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="data-objekt-och-funktioner.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en matris genom att binda samman x och y radvis. Matrisen får 2 rader och 5 kolumner</span></span>
<span id="cb78-2"><a href="data-objekt-och-funktioner.html#cb78-2" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(x, y)</span>
<span id="cb78-3"><a href="data-objekt-och-funktioner.html#cb78-3" aria-hidden="true" tabindex="-1"></a>m1</span>
<span id="cb78-4"><a href="data-objekt-och-funktioner.html#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en matris genom att binda samman x, y, n och x radvis. Matrisen får 5 rader och 4 kolumner. </span></span>
<span id="cb78-5"><a href="data-objekt-och-funktioner.html#cb78-5" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(x, y, n, x)</span>
<span id="cb78-6"><a href="data-objekt-och-funktioner.html#cb78-6" aria-hidden="true" tabindex="-1"></a>m2</span>
<span id="cb78-7"><a href="data-objekt-och-funktioner.html#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en matris genom att binda samman x och ymis radvis. Matrisen får 5 rader och 2 kolumner. </span></span>
<span id="cb78-8"><a href="data-objekt-och-funktioner.html#cb78-8" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(x, ymis)</span>
<span id="cb78-9"><a href="data-objekt-och-funktioner.html#cb78-9" aria-hidden="true" tabindex="-1"></a>m3</span>
<span id="cb78-10"><a href="data-objekt-och-funktioner.html#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa med matrix() en matris med två rader och 5 kolumner. </span></span>
<span id="cb78-11"><a href="data-objekt-och-funktioner.html#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Matrisen fylls på kolumnvis och notera att detta inte blir samma som m1. </span></span>
<span id="cb78-12"><a href="data-objekt-och-funktioner.html#cb78-12" aria-hidden="true" tabindex="-1"></a>m4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(z, <span class="dv">2</span>, <span class="dv">5</span>)</span>
<span id="cb78-13"><a href="data-objekt-och-funktioner.html#cb78-13" aria-hidden="true" tabindex="-1"></a>m4</span>
<span id="cb78-14"><a href="data-objekt-och-funktioner.html#cb78-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa med matrix() en matris med fem rader och 2 kolumner.</span></span>
<span id="cb78-15"><a href="data-objekt-och-funktioner.html#cb78-15" aria-hidden="true" tabindex="-1"></a><span class="co"># I detta fall är de två första kolumnerna i m2 samma som m5.</span></span>
<span id="cb78-16"><a href="data-objekt-och-funktioner.html#cb78-16" aria-hidden="true" tabindex="-1"></a>m5 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(z, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb78-17"><a href="data-objekt-och-funktioner.html#cb78-17" aria-hidden="true" tabindex="-1"></a>m5</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="data-objekt-och-funktioner.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en matris genom att binda samman x och y radvis. Matrisen får 2 rader och 5 kolumner</span></span>
<span id="cb79-2"><a href="data-objekt-och-funktioner.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m1 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(x, y)</span>
<span id="cb79-3"><a href="data-objekt-och-funktioner.html#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> m1</span>
<span id="cb79-4"><a href="data-objekt-och-funktioner.html#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb79-5"><a href="data-objekt-och-funktioner.html#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x    <span class="dv">3</span>    <span class="dv">1</span>    <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">0</span></span>
<span id="cb79-6"><a href="data-objekt-och-funktioner.html#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y    <span class="dv">2</span>    <span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>    <span class="dv">9</span></span>
<span id="cb79-7"><a href="data-objekt-och-funktioner.html#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en matris genom att binda samman x, y, n och x radvis. Matrisen får 5 rader och 4 kolumner. </span></span>
<span id="cb79-8"><a href="data-objekt-och-funktioner.html#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(x, y, u, x)</span>
<span id="cb79-9"><a href="data-objekt-och-funktioner.html#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> m2</span>
<span id="cb79-10"><a href="data-objekt-och-funktioner.html#cb79-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>      x y   u x</span>
<span id="cb79-11"><a href="data-objekt-och-funktioner.html#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>,] <span class="dv">3</span> <span class="dv">2</span> <span class="dv">150</span> <span class="dv">3</span></span>
<span id="cb79-12"><a href="data-objekt-och-funktioner.html#cb79-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">2</span>,] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">150</span> <span class="dv">1</span></span>
<span id="cb79-13"><a href="data-objekt-och-funktioner.html#cb79-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">3</span>,] <span class="dv">1</span> <span class="dv">5</span> <span class="dv">150</span> <span class="dv">1</span></span>
<span id="cb79-14"><a href="data-objekt-och-funktioner.html#cb79-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">4</span>,] <span class="dv">5</span> <span class="dv">6</span> <span class="dv">150</span> <span class="dv">5</span></span>
<span id="cb79-15"><a href="data-objekt-och-funktioner.html#cb79-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">5</span>,] <span class="dv">0</span> <span class="dv">9</span> <span class="dv">150</span> <span class="dv">0</span></span>
<span id="cb79-16"><a href="data-objekt-och-funktioner.html#cb79-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en matris genom att binda samman x och ymis radvis. Matrisen får 5 rader och 2 kolumner. </span></span>
<span id="cb79-17"><a href="data-objekt-och-funktioner.html#cb79-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m3 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(x, ymis)</span>
<span id="cb79-18"><a href="data-objekt-och-funktioner.html#cb79-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> m3</span>
<span id="cb79-19"><a href="data-objekt-och-funktioner.html#cb79-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>      [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb79-20"><a href="data-objekt-och-funktioner.html#cb79-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x       <span class="dv">3</span>    <span class="dv">1</span>    <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">0</span></span>
<span id="cb79-21"><a href="data-objekt-och-funktioner.html#cb79-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> ymis    <span class="dv">3</span>   <span class="cn">NA</span>    <span class="dv">6</span>    <span class="dv">3</span>    <span class="dv">6</span></span>
<span id="cb79-22"><a href="data-objekt-och-funktioner.html#cb79-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa med matrix() en matris med två rader och 5 kolumner. </span></span>
<span id="cb79-23"><a href="data-objekt-och-funktioner.html#cb79-23" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Matrisen fylls på kolumnvis och notera att detta inte blir samma som m1. </span></span>
<span id="cb79-24"><a href="data-objekt-och-funktioner.html#cb79-24" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(z, <span class="dv">2</span>, <span class="dv">5</span>)</span>
<span id="cb79-25"><a href="data-objekt-och-funktioner.html#cb79-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> m4</span>
<span id="cb79-26"><a href="data-objekt-och-funktioner.html#cb79-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>      [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb79-27"><a href="data-objekt-och-funktioner.html#cb79-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>,]    <span class="dv">3</span>    <span class="dv">1</span>    <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">6</span></span>
<span id="cb79-28"><a href="data-objekt-och-funktioner.html#cb79-28" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">2</span>,]    <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span>    <span class="dv">5</span>    <span class="dv">9</span></span>
<span id="cb79-29"><a href="data-objekt-och-funktioner.html#cb79-29" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa med matrix() en matris med fem rader och 2 kolumner.</span></span>
<span id="cb79-30"><a href="data-objekt-och-funktioner.html#cb79-30" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># I detta fall är de två första kolumnerna i m2 samma som m5.</span></span>
<span id="cb79-31"><a href="data-objekt-och-funktioner.html#cb79-31" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m5 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(z, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb79-32"><a href="data-objekt-och-funktioner.html#cb79-32" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> m5</span>
<span id="cb79-33"><a href="data-objekt-och-funktioner.html#cb79-33" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>      [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb79-34"><a href="data-objekt-och-funktioner.html#cb79-34" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>,]    <span class="dv">3</span>    <span class="dv">2</span></span>
<span id="cb79-35"><a href="data-objekt-och-funktioner.html#cb79-35" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">2</span>,]    <span class="dv">1</span>    <span class="dv">3</span></span>
<span id="cb79-36"><a href="data-objekt-och-funktioner.html#cb79-36" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">3</span>,]    <span class="dv">1</span>    <span class="dv">5</span></span>
<span id="cb79-37"><a href="data-objekt-och-funktioner.html#cb79-37" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">4</span>,]    <span class="dv">5</span>    <span class="dv">6</span></span>
<span id="cb79-38"><a href="data-objekt-och-funktioner.html#cb79-38" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">5</span>,]    <span class="dv">0</span>    <span class="dv">9</span></span></code></pre></div>
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> </font></p>
<p><img src="docs/images/tip.png" width="5%" style="display: block; margin: auto;" /></p>
<p>Använd på denna kurs <strong>rbind()</strong> och <strong>cbind()</strong> vid skapande av matriser. Det är då mindre risk för
för missförstånd var elementen hamnar i matrisen.</p>
</div>
<p>Ibland är det, precis som var fallet med vektorer, önskvärt att välja ut ett eller flera enskilda element i en matris. Precis som tidigare används hakparenteser, men eftersom matriser har såväl rader som kolumner indexeras de på ett liter annorlunda sätt. Ta matrisen <code>m2</code> från ovan som exempel. Matrisen har fem rader och fyra kolumner, och som synes kan varje element identifieras med hjälp av ett radnummer och ett kolumnnumer. Elementet längst upp till vänster, till exempel, finns på <strong>rad 1</strong> i <strong>kolumn 1</strong>. Generellt gäller att en matris indexeras som <code>matris[rad, kolumn]</code>. och precis som för vektorer går det att plocka ut flera element på en gång. Se koden nedan för exempel.</p>
<p>För åtkomst till element krävs nu, eftersom matriser består av rader och kolumner, att bägge dimensionerna anges. Först anges
radnummer, sedan kolumnnummer.</p>
<ol start="2" style="list-style-type: decimal">
<li>Skriv in nedanstående kod i scriptet, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="data-objekt-och-funktioner.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element på rad 2 och kolumn 3</span></span>
<span id="cb80-2"><a href="data-objekt-och-funktioner.html#cb80-2" aria-hidden="true" tabindex="-1"></a>m1[<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb80-3"><a href="data-objekt-och-funktioner.html#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element på rad 2 och alla kolumner</span></span>
<span id="cb80-4"><a href="data-objekt-och-funktioner.html#cb80-4" aria-hidden="true" tabindex="-1"></a>m1[<span class="dv">2</span>,]</span>
<span id="cb80-5"><a href="data-objekt-och-funktioner.html#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa element på alla rader och kolumner 3</span></span>
<span id="cb80-6"><a href="data-objekt-och-funktioner.html#cb80-6" aria-hidden="true" tabindex="-1"></a>m1[,<span class="dv">3</span>]</span>
<span id="cb80-7"><a href="data-objekt-och-funktioner.html#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa </span></span>
<span id="cb80-8"><a href="data-objekt-och-funktioner.html#cb80-8" aria-hidden="true" tabindex="-1"></a>m2[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),]</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="data-objekt-och-funktioner.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element på rad 2 och kolumn 3</span></span>
<span id="cb81-2"><a href="data-objekt-och-funktioner.html#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m1[<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb81-3"><a href="data-objekt-och-funktioner.html#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y </span>
<span id="cb81-4"><a href="data-objekt-och-funktioner.html#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span></span>
<span id="cb81-5"><a href="data-objekt-och-funktioner.html#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element på rad 2 och alla kolumner</span></span>
<span id="cb81-6"><a href="data-objekt-och-funktioner.html#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m1[<span class="dv">2</span>,]</span>
<span id="cb81-7"><a href="data-objekt-och-funktioner.html#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></span>
<span id="cb81-8"><a href="data-objekt-och-funktioner.html#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa element på alla rader och kolumner 3</span></span>
<span id="cb81-9"><a href="data-objekt-och-funktioner.html#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m1[,<span class="dv">3</span>]</span>
<span id="cb81-10"><a href="data-objekt-och-funktioner.html#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x y </span>
<span id="cb81-11"><a href="data-objekt-och-funktioner.html#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">5</span></span>
<span id="cb81-12"><a href="data-objekt-och-funktioner.html#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa </span></span>
<span id="cb81-13"><a href="data-objekt-och-funktioner.html#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m2[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),]</span>
<span id="cb81-14"><a href="data-objekt-och-funktioner.html#cb81-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>      x y   u x</span>
<span id="cb81-15"><a href="data-objekt-och-funktioner.html#cb81-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>,] <span class="dv">3</span> <span class="dv">2</span> <span class="dv">150</span> <span class="dv">3</span></span>
<span id="cb81-16"><a href="data-objekt-och-funktioner.html#cb81-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">2</span>,] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">150</span> <span class="dv">1</span></span></code></pre></div>
<p>Notera att de mellersta raderna <code>m1[2,]</code> och <code>m1[,3]</code> lämnar en indexposition blank. I det första fallet tolkar <code>R</code> den tomma positionen som “alla kolumner”, och kommer därför välja ut hela rad två. Motsvarande gäller för det andra fallet.</p>
<p>Precis som vad gäller vektorer går det att utföra elementvisa beräkningar. Det kräver att matriserna har samma antal rader och kolumner. Det går även att utföra räkneoperationer med en konstant. Observera att elementvis multiplikation <strong>inte</strong> är detsamma som matematikens <strong>matrismultiplikation</strong>. Det är naturligtvis inga problem att i R använda matrismultiplikation, men detta går utanför kursens avgränsning.</p>
<ol start="3" style="list-style-type: decimal">
<li>För att exemplfiera räkneoperationer med matriser, skriv in nedanstående kod i scriptet, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="data-objekt-och-funktioner.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Addera element i matris 1 med element i matris 3</span></span>
<span id="cb82-2"><a href="data-objekt-och-funktioner.html#cb82-2" aria-hidden="true" tabindex="-1"></a>m1 <span class="sc">+</span> m3</span>
<span id="cb82-3"><a href="data-objekt-och-funktioner.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiplicera element i matris 1 med element i matris 3. OBS! Detta är inte matrismultiplikation!</span></span>
<span id="cb82-4"><a href="data-objekt-och-funktioner.html#cb82-4" aria-hidden="true" tabindex="-1"></a>m1 <span class="sc">*</span> m3</span>
<span id="cb82-5"><a href="data-objekt-och-funktioner.html#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Dividera element i matris 1 med en konstant u</span></span>
<span id="cb82-6"><a href="data-objekt-och-funktioner.html#cb82-6" aria-hidden="true" tabindex="-1"></a>m1 <span class="sc">/</span> u</span>
<span id="cb82-7"><a href="data-objekt-och-funktioner.html#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Nedanstående är INTE det som inom matematiken benämns inversen av en matris, utan är 1/elementvärde</span></span>
<span id="cb82-8"><a href="data-objekt-och-funktioner.html#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span>m1 </span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-objekt-och-funktioner.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Addera element i matris 1 med element i matris 3</span></span>
<span id="cb83-2"><a href="data-objekt-och-funktioner.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m1 <span class="sc">+</span> m3</span>
<span id="cb83-3"><a href="data-objekt-och-funktioner.html#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb83-4"><a href="data-objekt-och-funktioner.html#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x    <span class="dv">6</span>    <span class="dv">2</span>    <span class="dv">2</span>   <span class="dv">10</span>    <span class="dv">0</span></span>
<span id="cb83-5"><a href="data-objekt-och-funktioner.html#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y    <span class="dv">5</span>   <span class="cn">NA</span>   <span class="dv">11</span>    <span class="dv">9</span>   <span class="dv">15</span></span>
<span id="cb83-6"><a href="data-objekt-och-funktioner.html#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Multiplicera element i matris 1 med element i matris 3. OBS! Detta är inte matrismultiplikation!</span></span>
<span id="cb83-7"><a href="data-objekt-och-funktioner.html#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m1 <span class="sc">*</span> m3</span>
<span id="cb83-8"><a href="data-objekt-och-funktioner.html#cb83-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb83-9"><a href="data-objekt-och-funktioner.html#cb83-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x    <span class="dv">9</span>    <span class="dv">1</span>    <span class="dv">1</span>   <span class="dv">25</span>    <span class="dv">0</span></span>
<span id="cb83-10"><a href="data-objekt-och-funktioner.html#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y    <span class="dv">6</span>   <span class="cn">NA</span>   <span class="dv">30</span>   <span class="dv">18</span>   <span class="dv">54</span></span>
<span id="cb83-11"><a href="data-objekt-och-funktioner.html#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Dividera element i matris 1 med en konstant n</span></span>
<span id="cb83-12"><a href="data-objekt-och-funktioner.html#cb83-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> m1 <span class="sc">/</span> u</span>
<span id="cb83-13"><a href="data-objekt-och-funktioner.html#cb83-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>         [,<span class="dv">1</span>]        [,<span class="dv">2</span>]        [,<span class="dv">3</span>]       [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb83-14"><a href="data-objekt-och-funktioner.html#cb83-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="fl">0.02000000</span> <span class="fl">0.006666667</span> <span class="fl">0.006666667</span> <span class="fl">0.03333333</span> <span class="fl">0.00</span></span>
<span id="cb83-15"><a href="data-objekt-och-funktioner.html#cb83-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y <span class="fl">0.01333333</span> <span class="fl">0.020000000</span> <span class="fl">0.033333333</span> <span class="fl">0.04000000</span> <span class="fl">0.06</span></span>
<span id="cb83-16"><a href="data-objekt-och-funktioner.html#cb83-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Nedanstående är INTE det som inom matematiken benämns inversen av en matris, utan är 1/elementvärde</span></span>
<span id="cb83-17"><a href="data-objekt-och-funktioner.html#cb83-17" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="dv">1</span><span class="sc">/</span>m1</span>
<span id="cb83-18"><a href="data-objekt-och-funktioner.html#cb83-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>        [,<span class="dv">1</span>]      [,<span class="dv">2</span>] [,<span class="dv">3</span>]      [,<span class="dv">4</span>]      [,<span class="dv">5</span>]</span>
<span id="cb83-19"><a href="data-objekt-och-funktioner.html#cb83-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="fl">0.3333333</span> <span class="fl">1.0000000</span>  <span class="fl">1.0</span> <span class="fl">0.2000000</span>       <span class="cn">Inf</span></span>
<span id="cb83-20"><a href="data-objekt-och-funktioner.html#cb83-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y <span class="fl">0.5000000</span> <span class="fl">0.3333333</span>  <span class="fl">0.2</span> <span class="fl">0.1666667</span> <span class="fl">0.1111111</span></span></code></pre></div>
<p>Spara scriptet <strong>kap3_objekt_och_funktioner.R</strong>.</p>
<p>Det går att tillämpa logiska operatorer även på matriser, men den extra dimensionen gör detta omständligt. Dessutom konstaterade vi att matrisen endast kan hantera en datatyp. Därför introduceras en tredje typ av dataobjekt som bättre sätt hanterar datamaterial. Det är dock bra att känna till att vid mer avancerad användning av R är matriser dock ett mycket viktigt verktyg.</p>
</div>
<div id="data-frames" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Data frames<a href="data-objekt-och-funktioner.html#data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En <strong>data frame</strong> är i praktiken det vanligaste objektet för dataanalys. En data frame har två dimensioner (rader och kolumner) precis som en matris, men kan till skillnad från matrisen måste inte alla kolumner ha samma datatyp. Vad som dock krävs är att alla element i en och samma kolumn har samma datatyp. Vidare innehåller en data frame detaljerad information om exempelvis <strong>variabelnamn</strong> och <strong>variabeltyp</strong>.</p>
<p>För att skapa en data frame används <strong>data.frame()</strong> och vi ska nu se på några exempel. Observera att en data frame även anger information om radnummer, dessa nummer är dock inte definierade som en sepearat kolumn.</p>
<ol style="list-style-type: decimal">
<li>Skriv nedanstående kod i <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-objekt-och-funktioner.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en data frame genom att ange vektorer </span></span>
<span id="cb84-2"><a href="data-objekt-och-funktioner.html#cb84-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, y, nordic_countries)</span>
<span id="cb84-3"><a href="data-objekt-och-funktioner.html#cb84-3" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb84-4"><a href="data-objekt-och-funktioner.html#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en data frame genom att transformera en matris.</span></span>
<span id="cb84-5"><a href="data-objekt-och-funktioner.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(m3)</span></code></pre></div>
<p>I Console erhålls följande resultat.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="data-objekt-och-funktioner.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en data frame genom att ange vektorer </span></span>
<span id="cb85-2"><a href="data-objekt-och-funktioner.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, y, nordic_countries)</span>
<span id="cb85-3"><a href="data-objekt-och-funktioner.html#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df</span>
<span id="cb85-4"><a href="data-objekt-och-funktioner.html#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries</span>
<span id="cb85-5"><a href="data-objekt-och-funktioner.html#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark</span>
<span id="cb85-6"><a href="data-objekt-och-funktioner.html#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland</span>
<span id="cb85-7"><a href="data-objekt-och-funktioner.html#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland</span>
<span id="cb85-8"><a href="data-objekt-och-funktioner.html#cb85-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway</span>
<span id="cb85-9"><a href="data-objekt-och-funktioner.html#cb85-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden</span>
<span id="cb85-10"><a href="data-objekt-och-funktioner.html#cb85-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en data frame genom att transformera en matris.</span></span>
<span id="cb85-11"><a href="data-objekt-och-funktioner.html#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">data.frame</span>(m3)</span>
<span id="cb85-12"><a href="data-objekt-och-funktioner.html#cb85-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>      X1 X2 X3 X4 X5</span>
<span id="cb85-13"><a href="data-objekt-och-funktioner.html#cb85-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x     <span class="dv">3</span>  <span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">5</span>  <span class="dv">0</span></span>
<span id="cb85-14"><a href="data-objekt-och-funktioner.html#cb85-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> ymis  <span class="dv">3</span> <span class="cn">NA</span>  <span class="dv">6</span>  <span class="dv">3</span>  <span class="dv">6</span></span></code></pre></div>
<p>För åtkomst till element finns nu flera alternativ och vi ska se på de två vanligaste:</p>
<ul>
<li>Precis som för matriser kan användaren använda hakparenteserna ´[]´</li>
<li>Genom att använda <code>$</code> väljs en variabel i en dataframe. Det går sedan att använda hakparentes för att välja ett element i denna variabel.</li>
</ul>
<p>Nedanstående kod illustrerar de bägge metoderna.</p>
<ol start="2" style="list-style-type: decimal">
<li>Skriv nedanstående kod i <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="data-objekt-och-funktioner.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa kolumn 3 </span></span>
<span id="cb86-2"><a href="data-objekt-och-funktioner.html#cb86-2" aria-hidden="true" tabindex="-1"></a>df[,<span class="dv">3</span>]</span>
<span id="cb86-3"><a href="data-objekt-och-funktioner.html#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa variabeln nordic countries, dvs kolumn 3 </span></span>
<span id="cb86-4"><a href="data-objekt-och-funktioner.html#cb86-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>nordic_countries</span>
<span id="cb86-5"><a href="data-objekt-och-funktioner.html#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa värdet i rad 2 och kolumn 1 </span></span>
<span id="cb86-6"><a href="data-objekt-och-funktioner.html#cb86-6" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>,<span class="dv">1</span>]</span>
<span id="cb86-7"><a href="data-objekt-och-funktioner.html#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Visa värdet för element 2 i variabeln x.</span></span>
<span id="cb86-8"><a href="data-objekt-och-funktioner.html#cb86-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>x[<span class="dv">2</span>]</span></code></pre></div>
<p>I Console erhålls följande resultat.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data-objekt-och-funktioner.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa kolumn 3 </span></span>
<span id="cb87-2"><a href="data-objekt-och-funktioner.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df[,<span class="dv">3</span>]</span>
<span id="cb87-3"><a href="data-objekt-och-funktioner.html#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></span>
<span id="cb87-4"><a href="data-objekt-och-funktioner.html#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df<span class="sc">$</span>nordic_countries</span>
<span id="cb87-5"><a href="data-objekt-och-funktioner.html#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></span>
<span id="cb87-6"><a href="data-objekt-och-funktioner.html#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Visa värdet i rad 2 och kolumn 1 </span></span>
<span id="cb87-7"><a href="data-objekt-och-funktioner.html#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df[<span class="dv">2</span>,<span class="dv">1</span>]</span>
<span id="cb87-8"><a href="data-objekt-och-funktioner.html#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb87-9"><a href="data-objekt-och-funktioner.html#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df<span class="sc">$</span>x[<span class="dv">2</span>]</span>
<span id="cb87-10"><a href="data-objekt-och-funktioner.html#cb87-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">1</span></span></code></pre></div>
<p>Användning av enbart hakparentes är alltså ekvivalent med datahantering med hjälp av <code>$</code> och sedan position.</p>
<p>Även om koden med <code>$</code> ofta blir längre, så blir koden mer lättförståelig jämfört med indexering för kolumn. Dessutom slipper man problemet med att indexeringen kan ändras om nya variabler adderas till det data frame man arbetar med eller om det på något annat sätt förändras.</p>
<p>Med <code>$</code> går det även enkelt att addera nya variabler till en data frame.</p>
<ol start="3" style="list-style-type: decimal">
<li>Skriv nedanstående kod i <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="data-objekt-och-funktioner.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa variabeln sample_size baserat på n som bara har ett värde</span></span>
<span id="cb88-2"><a href="data-objekt-och-funktioner.html#cb88-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>sample_size <span class="ot">&lt;-</span> u</span>
<span id="cb88-3"><a href="data-objekt-och-funktioner.html#cb88-3" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb88-4"><a href="data-objekt-och-funktioner.html#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en variabel som heter ysq baserat på y i samma data frame.</span></span>
<span id="cb88-5"><a href="data-objekt-och-funktioner.html#cb88-5" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>ysq <span class="ot">&lt;-</span> df<span class="sc">$</span>y<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb88-6"><a href="data-objekt-och-funktioner.html#cb88-6" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb88-7"><a href="data-objekt-och-funktioner.html#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en tom variabel som heter x_cat</span></span>
<span id="cb88-8"><a href="data-objekt-och-funktioner.html#cb88-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>x_cat <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb88-9"><a href="data-objekt-och-funktioner.html#cb88-9" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<p>I Console visas nedanstående.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-objekt-och-funktioner.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa variabeln sample_size baserat på n som bara har ett värde</span></span>
<span id="cb89-2"><a href="data-objekt-och-funktioner.html#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df<span class="sc">$</span>sample_size <span class="ot">&lt;-</span> u</span>
<span id="cb89-3"><a href="data-objekt-och-funktioner.html#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df</span>
<span id="cb89-4"><a href="data-objekt-och-funktioner.html#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries sample_size</span>
<span id="cb89-5"><a href="data-objekt-och-funktioner.html#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">150</span></span>
<span id="cb89-6"><a href="data-objekt-och-funktioner.html#cb89-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span></span>
<span id="cb89-7"><a href="data-objekt-och-funktioner.html#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span></span>
<span id="cb89-8"><a href="data-objekt-och-funktioner.html#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span></span>
<span id="cb89-9"><a href="data-objekt-och-funktioner.html#cb89-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span></span>
<span id="cb89-10"><a href="data-objekt-och-funktioner.html#cb89-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en variabel som heter ysq baserat på y i samma data frame.</span></span>
<span id="cb89-11"><a href="data-objekt-och-funktioner.html#cb89-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df<span class="sc">$</span>ysq <span class="ot">&lt;-</span> df<span class="sc">$</span>y<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb89-12"><a href="data-objekt-och-funktioner.html#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df</span>
<span id="cb89-13"><a href="data-objekt-och-funktioner.html#cb89-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries sample_size ysq</span>
<span id="cb89-14"><a href="data-objekt-och-funktioner.html#cb89-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">150</span>   <span class="dv">4</span></span>
<span id="cb89-15"><a href="data-objekt-och-funktioner.html#cb89-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span></span>
<span id="cb89-16"><a href="data-objekt-och-funktioner.html#cb89-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span></span>
<span id="cb89-17"><a href="data-objekt-och-funktioner.html#cb89-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span></span>
<span id="cb89-18"><a href="data-objekt-och-funktioner.html#cb89-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span></span>
<span id="cb89-19"><a href="data-objekt-och-funktioner.html#cb89-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en tom variabel som heter x_bin</span></span>
<span id="cb89-20"><a href="data-objekt-och-funktioner.html#cb89-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df<span class="sc">$</span>x_bin <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb89-21"><a href="data-objekt-och-funktioner.html#cb89-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df</span>
<span id="cb89-22"><a href="data-objekt-och-funktioner.html#cb89-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries sample_size ysq x_bin</span>
<span id="cb89-23"><a href="data-objekt-och-funktioner.html#cb89-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">150</span>   <span class="dv">4</span>    <span class="cn">NA</span></span>
<span id="cb89-24"><a href="data-objekt-och-funktioner.html#cb89-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>    <span class="cn">NA</span></span>
<span id="cb89-25"><a href="data-objekt-och-funktioner.html#cb89-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>    <span class="cn">NA</span></span>
<span id="cb89-26"><a href="data-objekt-och-funktioner.html#cb89-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>    <span class="cn">NA</span></span>
<span id="cb89-27"><a href="data-objekt-och-funktioner.html#cb89-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="cn">NA</span></span></code></pre></div>
<p>Med <code>$</code> förenklas även användningen av de logiska operatorerna och det blir enkelt att transformera variabler och även skapa mindre data frames.</p>
<ol start="4" style="list-style-type: decimal">
<li>Skriv nedanstående kod i <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="data-objekt-och-funktioner.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ändra värdet på sample_size för Danmark från 150 till 300</span></span>
<span id="cb90-2"><a href="data-objekt-och-funktioner.html#cb90-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>sample_size[df<span class="sc">$</span>nordic_countries <span class="sc">==</span> <span class="st">&quot;Denmark&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb90-3"><a href="data-objekt-och-funktioner.html#cb90-3" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb90-4"><a href="data-objekt-och-funktioner.html#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Ändra värden från NA till 1 i x_cat om x är större än 2</span></span>
<span id="cb90-5"><a href="data-objekt-och-funktioner.html#cb90-5" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>x_cat[x <span class="sc">&gt;</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb90-6"><a href="data-objekt-och-funktioner.html#cb90-6" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb90-7"><a href="data-objekt-och-funktioner.html#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ändra värden från NA till 0 i x_cat om x är mindre än eller lika 2</span></span>
<span id="cb90-8"><a href="data-objekt-och-funktioner.html#cb90-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>x_cat[x <span class="sc">&lt;=</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb90-9"><a href="data-objekt-och-funktioner.html#cb90-9" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb90-10"><a href="data-objekt-och-funktioner.html#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa ett nytt data frame som vi kallas df_sweden bestående av bara rader för Sverige</span></span>
<span id="cb90-11"><a href="data-objekt-och-funktioner.html#cb90-11" aria-hidden="true" tabindex="-1"></a>df_sweden <span class="ot">&lt;-</span> df[df<span class="sc">$</span>nordic_countries<span class="sc">==</span> <span class="st">&quot;Sweden&quot;</span>, ]</span>
<span id="cb90-12"><a href="data-objekt-och-funktioner.html#cb90-12" aria-hidden="true" tabindex="-1"></a>df_sweden</span></code></pre></div>
<p>I Console visas nedanstående.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="data-objekt-och-funktioner.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Ändra värdet på sample_size för Danmark från 150 till 300</span></span>
<span id="cb91-2"><a href="data-objekt-och-funktioner.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df<span class="sc">$</span>sample_size[df<span class="sc">$</span>nordic_countries <span class="sc">==</span> <span class="st">&quot;Denmark&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb91-3"><a href="data-objekt-och-funktioner.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df</span>
<span id="cb91-4"><a href="data-objekt-och-funktioner.html#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries sample_size ysq x_bin</span>
<span id="cb91-5"><a href="data-objekt-och-funktioner.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">300</span>   <span class="dv">4</span>    <span class="cn">NA</span></span>
<span id="cb91-6"><a href="data-objekt-och-funktioner.html#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>    <span class="cn">NA</span></span>
<span id="cb91-7"><a href="data-objekt-och-funktioner.html#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>    <span class="cn">NA</span></span>
<span id="cb91-8"><a href="data-objekt-och-funktioner.html#cb91-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>    <span class="cn">NA</span></span>
<span id="cb91-9"><a href="data-objekt-och-funktioner.html#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="cn">NA</span></span>
<span id="cb91-10"><a href="data-objekt-och-funktioner.html#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Ändra värden från NA till 1 i x_cat om x är större än 2</span></span>
<span id="cb91-11"><a href="data-objekt-och-funktioner.html#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df<span class="sc">$</span>x_cat[x <span class="sc">&gt;</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb91-12"><a href="data-objekt-och-funktioner.html#cb91-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df</span>
<span id="cb91-13"><a href="data-objekt-och-funktioner.html#cb91-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries sample_size ysq x_bin x_cat</span>
<span id="cb91-14"><a href="data-objekt-och-funktioner.html#cb91-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">300</span>   <span class="dv">4</span>    <span class="cn">NA</span>     <span class="dv">1</span></span>
<span id="cb91-15"><a href="data-objekt-och-funktioner.html#cb91-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>    <span class="cn">NA</span>    <span class="cn">NA</span></span>
<span id="cb91-16"><a href="data-objekt-och-funktioner.html#cb91-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>    <span class="cn">NA</span>    <span class="cn">NA</span></span>
<span id="cb91-17"><a href="data-objekt-och-funktioner.html#cb91-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>    <span class="cn">NA</span>     <span class="dv">1</span></span>
<span id="cb91-18"><a href="data-objekt-och-funktioner.html#cb91-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="cn">NA</span>    <span class="cn">NA</span></span>
<span id="cb91-19"><a href="data-objekt-och-funktioner.html#cb91-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Ändra värden från NA till 0 i x_cat om x är mindre än eller lika 2</span></span>
<span id="cb91-20"><a href="data-objekt-och-funktioner.html#cb91-20" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df<span class="sc">$</span>x_cat[x <span class="sc">&lt;=</span> <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb91-21"><a href="data-objekt-och-funktioner.html#cb91-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df</span>
<span id="cb91-22"><a href="data-objekt-och-funktioner.html#cb91-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries sample_size ysq x_bin x_cat</span>
<span id="cb91-23"><a href="data-objekt-och-funktioner.html#cb91-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">300</span>   <span class="dv">4</span>    <span class="cn">NA</span>     <span class="dv">1</span></span>
<span id="cb91-24"><a href="data-objekt-och-funktioner.html#cb91-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>    <span class="cn">NA</span>     <span class="dv">0</span></span>
<span id="cb91-25"><a href="data-objekt-och-funktioner.html#cb91-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>    <span class="cn">NA</span>     <span class="dv">0</span></span>
<span id="cb91-26"><a href="data-objekt-och-funktioner.html#cb91-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>    <span class="cn">NA</span>     <span class="dv">1</span></span>
<span id="cb91-27"><a href="data-objekt-och-funktioner.html#cb91-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="cn">NA</span>     <span class="dv">0</span></span>
<span id="cb91-28"><a href="data-objekt-och-funktioner.html#cb91-28" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa ett nytt data frame som vi kallas df_sweden bestående av bara rader för Sverige</span></span>
<span id="cb91-29"><a href="data-objekt-och-funktioner.html#cb91-29" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> df_sweden <span class="ot">&lt;-</span> df[df<span class="sc">$</span>nordic_countries<span class="sc">==</span> <span class="st">&quot;Sweden&quot;</span>, ]</span>
<span id="cb91-30"><a href="data-objekt-och-funktioner.html#cb91-30" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df_sweden</span>
<span id="cb91-31"><a href="data-objekt-och-funktioner.html#cb91-31" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>   x y nordic_countries sample_size ysq x_bin x_cat</span>
<span id="cb91-32"><a href="data-objekt-och-funktioner.html#cb91-32" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="cn">NA</span>     <span class="dv">0</span></span></code></pre></div>
<p>Vi kommer under kursens gång upprepade gånger att återkomma till data frames och titta närmare olika typer av sätt att hantera detta objekt.</p>
<p>Vi avslutar med några grundläggande kommandon för att hantera data frames.</p>
<ol start="5" style="list-style-type: decimal">
<li>Skriv in nedanstående i scriptet <strong>kap3_objekt_och_funktioner.R</strong>. Spara och kör.</li>
</ol>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-objekt-och-funktioner.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Med names() anges namnen i ett dataframe. </span></span>
<span id="cb92-2"><a href="data-objekt-och-funktioner.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span>
<span id="cb92-3"><a href="data-objekt-och-funktioner.html#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Med colnames() namnges variablerna i en data frame</span></span>
<span id="cb92-4"><a href="data-objekt-och-funktioner.html#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;nordic_countries&quot;</span>)</span>
<span id="cb92-5"><a href="data-objekt-och-funktioner.html#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code></pre></div>
<p>Vi ser nu i Console att variabelnamnen har ändrats.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data-objekt-och-funktioner.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Med names() anges namnen i ett dataframe. </span></span>
<span id="cb93-2"><a href="data-objekt-och-funktioner.html#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">names</span>(df)</span>
<span id="cb93-3"><a href="data-objekt-och-funktioner.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;x&quot;</span>                <span class="st">&quot;y&quot;</span>                <span class="st">&quot;nordic_countries&quot;</span> <span class="st">&quot;sample_size&quot;</span>     </span>
<span id="cb93-4"><a href="data-objekt-och-funktioner.html#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">5</span>] <span class="st">&quot;ysq&quot;</span>              <span class="st">&quot;x_bin&quot;</span>            <span class="st">&quot;x_cat&quot;</span></span>
<span id="cb93-5"><a href="data-objekt-och-funktioner.html#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Med colnames() namnges variablerna i en data frame</span></span>
<span id="cb93-6"><a href="data-objekt-och-funktioner.html#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;nordic_countries&quot;</span>)</span>
<span id="cb93-7"><a href="data-objekt-och-funktioner.html#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">names</span>(df)</span>
<span id="cb93-8"><a href="data-objekt-och-funktioner.html#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;age&quot;</span>              <span class="st">&quot;income&quot;</span>           <span class="st">&quot;nordic_countries&quot;</span> <span class="cn">NA</span>                </span>
<span id="cb93-9"><a href="data-objekt-och-funktioner.html#cb93-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">5</span>] <span class="cn">NA</span>                 <span class="cn">NA</span>                 <span class="cn">NA</span></span></code></pre></div>
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> </font>
<img src="docs/images/important.png" width="5%" style="display: block; margin: auto;" /></p>
<p>Hantering av data är av lättförklarliga skäl väldigt viktigt i R. Det tar inledningsvis tid att lära, men är samtidigt något som varje användare måste vara trygg med. Värt att nämna är att nästan alltid finns alternativa sätt arbeta med data i R och vad som presentas här är är endast ett alternativ. På denna kurs <strong>rekommenderas starkt </strong>att ni följer den metodik som presenteras här. Visserligen är den inte effektivast, varken i termer av beräkningstid eller längd på kod, men det är ett transparent arbetssätt som minimerar risken för att fel uppkommer.</p>
<p>Datahanteringen är ofta en tidskrävande del i statistisk undersökning och stor noggrannhet är viktigt. Det går inte att tillräckligt betona hur betydelsefull datahanteringen är i en undersökning. En korrekt analys kräver ju korrekt data.</p>
</div>
</div>
<div id="funktioner" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Funktioner<a href="data-objekt-och-funktioner.html#funktioner" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En funktion utför en eller flera operationer på objekt i <code>R</code>. Exakt vad funktionen gör varierar från fall till fall, det vara allt från att utföra enkla räkneoperationer på data i en vektor, till komplicerade beräkningar och förändringar av data. Oftast sparas resultatet från en funktion som ett nytt objekt. En funktion har i regel också olika <strong>argument</strong> som gör det möjligt för användaren att anpassa specifika delar av funktiones verkan, till exempel har vissa funktioner argument som gör att alla beräkningar bortser från data som är <code>NA</code>. Den något mer avancerade <code>R</code>-användaren kan enkelt skapa egna funktioner, vilket är styrka eftersom <code>R</code> då blir väldigt flexibelt. Att skapa egna funktioner ingår emellertid inte på denna kurs utan analyserna som utförs på kursen kommer hanteras av redan implementerade funktioner i <code>R</code>. Denna introduktionen till funktioner är därför relativt kortfattad. Det enklaste sättet att introducera funktioner är genom ett antal exempel.</p>
<ol style="list-style-type: decimal">
<li>Skriv in nedanstående kod i scriptet <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="data-objekt-och-funktioner.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sum() är en funktion för att summera värdera i en vektor. Summan sparas i objektet summax</span></span>
<span id="cb94-2"><a href="data-objekt-och-funktioner.html#cb94-2" aria-hidden="true" tabindex="-1"></a>summax <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)</span>
<span id="cb94-3"><a href="data-objekt-och-funktioner.html#cb94-3" aria-hidden="true" tabindex="-1"></a>summax</span>
<span id="cb94-4"><a href="data-objekt-och-funktioner.html#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co"># length() beräknar antalet element i en vektor och spara i objektet n</span></span>
<span id="cb94-5"><a href="data-objekt-och-funktioner.html#cb94-5" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb94-6"><a href="data-objekt-och-funktioner.html#cb94-6" aria-hidden="true" tabindex="-1"></a>n</span></code></pre></div>
<p>I Console får erhålls följande.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-objekt-och-funktioner.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># sum() är en funktion för att summera värdera i en vektor. Summan sparas i objektet sumx</span></span>
<span id="cb95-2"><a href="data-objekt-och-funktioner.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> sumx <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)</span>
<span id="cb95-3"><a href="data-objekt-och-funktioner.html#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> sumx</span>
<span id="cb95-4"><a href="data-objekt-och-funktioner.html#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">10</span></span>
<span id="cb95-5"><a href="data-objekt-och-funktioner.html#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># length() beräknar antalet element i en vektor och spara i objektet n</span></span>
<span id="cb95-6"><a href="data-objekt-och-funktioner.html#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb95-7"><a href="data-objekt-och-funktioner.html#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> n</span>
<span id="cb95-8"><a href="data-objekt-och-funktioner.html#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<p>Du har nu tillämpat funktionen <code>sum()</code> som summerar alla elementvärden i en vektor, dvs <span class="math inline">\(\sum_{i=1}^n x_i=x_1 + x_2 + \cdots + x_k\)</span>. Funktionen <code>length()</code> räknar antalet element i en given vektor.</p>
<p>Med hjälp av dessa funktioner går det nu på enkelt sätt att beräkna medelvärdet, <span class="math inline">\(\bar{x}=\dfrac{1}{n}\sum_{i=1}^n x_i\)</span>, och stickprovsvariansen, <span class="math inline">\(s^2=\dfrac{1}{n-1}\sum_{i=1}^n(x_i - \bar{x})^2\)</span>, för <span class="math inline">\(x\)</span>. Notera att standardavvikelsen är <span class="math inline">\(s = \sqrt{s^2}\)</span>.</p>
<ol start="2" style="list-style-type: decimal">
<li>Skriv in nedanstående kod i scriptet <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="data-objekt-och-funktioner.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beräkna medelvärdet av en vektor</span></span>
<span id="cb96-2"><a href="data-objekt-och-funktioner.html#cb96-2" aria-hidden="true" tabindex="-1"></a>sample.mean <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">/</span>n)<span class="sc">*</span>sumx</span>
<span id="cb96-3"><a href="data-objekt-och-funktioner.html#cb96-3" aria-hidden="true" tabindex="-1"></a>sample.mean</span>
<span id="cb96-4"><a href="data-objekt-och-funktioner.html#cb96-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-5"><a href="data-objekt-och-funktioner.html#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Beräkna stickprovsvarians s^2 med det sum() samt de sparade objekten xbar och n</span></span>
<span id="cb96-6"><a href="data-objekt-och-funktioner.html#cb96-6" aria-hidden="true" tabindex="-1"></a>sample.variance <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>))<span class="sc">*</span><span class="fu">sum</span>( (x <span class="sc">-</span> xbar)<span class="sc">^</span><span class="dv">2</span> )</span>
<span id="cb96-7"><a href="data-objekt-och-funktioner.html#cb96-7" aria-hidden="true" tabindex="-1"></a>sample.variance</span></code></pre></div>
<p>I Console visas nedanstående.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-objekt-och-funktioner.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Beräkna medelvärdet av en vektor</span></span>
<span id="cb97-2"><a href="data-objekt-och-funktioner.html#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> sample.mean <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">/</span>n)<span class="sc">*</span>sumx</span>
<span id="cb97-3"><a href="data-objekt-och-funktioner.html#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> sample.mean</span>
<span id="cb97-4"><a href="data-objekt-och-funktioner.html#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb97-5"><a href="data-objekt-och-funktioner.html#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb97-6"><a href="data-objekt-och-funktioner.html#cb97-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co"># Beräkna stickprovsvarians s^2 med hjälp av sum() samt de sparade objekten xbar och n</span></span>
<span id="cb97-7"><a href="data-objekt-och-funktioner.html#cb97-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> sample.variance <span class="ot">&lt;-</span>  (<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>))<span class="sc">*</span><span class="fu">sum</span>( (x <span class="sc">-</span> sample.mean)<span class="sc">^</span><span class="dv">2</span> )</span>
<span id="cb97-8"><a href="data-objekt-och-funktioner.html#cb97-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> sample.variance</span>
<span id="cb97-9"><a href="data-objekt-och-funktioner.html#cb97-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">4</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Naturligtvis finns i <code>R</code> färdiga funktioner för beräkning av såväl medelvärde som stickprovsvarians. Skriv in nedanstående kod i scriptet <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="data-objekt-och-funktioner.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beräkna medelvärdet av en vektor</span></span>
<span id="cb98-2"><a href="data-objekt-och-funktioner.html#cb98-2" aria-hidden="true" tabindex="-1"></a>xbar <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb98-3"><a href="data-objekt-och-funktioner.html#cb98-3" aria-hidden="true" tabindex="-1"></a>xbar</span>
<span id="cb98-4"><a href="data-objekt-och-funktioner.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Beräkna stickprovsvariansen av en vektor</span></span>
<span id="cb98-5"><a href="data-objekt-och-funktioner.html#cb98-5" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="fu">var</span>(x)</span>
<span id="cb98-6"><a href="data-objekt-och-funktioner.html#cb98-6" aria-hidden="true" tabindex="-1"></a>s2</span></code></pre></div>
<p>I Console visas nedanstående.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="data-objekt-och-funktioner.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Beräkna medelvärdet av en vektor</span></span>
<span id="cb99-2"><a href="data-objekt-och-funktioner.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> xbar <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb99-3"><a href="data-objekt-och-funktioner.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> xbar</span>
<span id="cb99-4"><a href="data-objekt-och-funktioner.html#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb99-5"><a href="data-objekt-och-funktioner.html#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Beräkna stickprovsvariansen av en vektor</span></span>
<span id="cb99-6"><a href="data-objekt-och-funktioner.html#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> s2 <span class="ot">&lt;-</span> <span class="fu">var</span>(x)</span>
<span id="cb99-7"><a href="data-objekt-och-funktioner.html#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> s2</span>
<span id="cb99-8"><a href="data-objekt-och-funktioner.html#cb99-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">4</span></span></code></pre></div>
<p>Resultatet är samma som det tidigare, den enda skillnaden är att funktionerna <code>mean()</code> och <code>var()</code> förenklar ytterligare. Men vi genom genom detta också en förståelse för vilka formler som <code>mean()</code> och <code>var()</code> använder sig av.</p>
<ol start="4" style="list-style-type: decimal">
<li>Skriv in nedanstående kod i scriptet <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="data-objekt-och-funktioner.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beräkna medelvärdet av ymis, en vektor med att bortfall</span></span>
<span id="cb100-2"><a href="data-objekt-och-funktioner.html#cb100-2" aria-hidden="true" tabindex="-1"></a>ymis.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(ymis)</span>
<span id="cb100-3"><a href="data-objekt-och-funktioner.html#cb100-3" aria-hidden="true" tabindex="-1"></a>ymis.mean</span>
<span id="cb100-4"><a href="data-objekt-och-funktioner.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Beräkna medelvärdet av ymis, en vektor med att bortfall</span></span>
<span id="cb100-5"><a href="data-objekt-och-funktioner.html#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb100-6"><a href="data-objekt-och-funktioner.html#cb100-6" aria-hidden="true" tabindex="-1"></a>ymisbar <span class="ot">&lt;-</span> <span class="fu">mean</span>(ymis, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb100-7"><a href="data-objekt-och-funktioner.html#cb100-7" aria-hidden="true" tabindex="-1"></a>ymisbar</span></code></pre></div>
<p>I Console presenteras följande.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="data-objekt-och-funktioner.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Beräkna medelvärdet av ymis, en vektor med att bortfall</span></span>
<span id="cb101-2"><a href="data-objekt-och-funktioner.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> ymis.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(ymis)</span>
<span id="cb101-3"><a href="data-objekt-och-funktioner.html#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> ymis.mean</span>
<span id="cb101-4"><a href="data-objekt-och-funktioner.html#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">NA</span></span>
<span id="cb101-5"><a href="data-objekt-och-funktioner.html#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Beräkna medelvärdet av ymis, en vektor med att bortfall</span></span>
<span id="cb101-6"><a href="data-objekt-och-funktioner.html#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="co">#</span></span>
<span id="cb101-7"><a href="data-objekt-och-funktioner.html#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> ymisbar <span class="ot">&lt;-</span> <span class="fu">mean</span>(ymis, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb101-8"><a href="data-objekt-och-funktioner.html#cb101-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> ymisbar</span>
<span id="cb101-9"><a href="data-objekt-och-funktioner.html#cb101-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="fl">4.5</span></span></code></pre></div>
<p>Eftersom <code>R</code> ger att <span class="math inline">\(y_1 + y_2 + NA + \cdots + y_k = NA\)</span> blir även medelvärdet NA. För att komma runt detta problem kan argumentet <code>na.rm</code> sättas till <code>TRUE</code> i funktionen. När <code>na.rm = TRUE</code> inkluderas tar funktionen före beräkning bort saknade värden. Default-inställningen är dock att detta argument är satt till <code>FALSE</code>. Det innebär att medelvärdet <code>ymisbar</code> är beräknat på de fyra element som inte är <code>NA</code>.</p>
<p>Många av funktionerna som finns i <code>R</code> har ett flertal argument, som alla kan användas för att påverka hur/vad funktionen räknar eller bär sig åt. I regel är det svårt att hålla reda på alla argument som finns i olika funktioner även för en person som har flera års erfarenhet av programmering i <code>R</code>, och det är absolut inget som krävs av studenter på denna kurs. För att underlätta tillämpning av funktioner har <code>R</code> en mängd hjälpfiler som lätt går att läsa i RStudio, i princip finns alltid en hjälpfil per funktion. Dessa filer innehåller information om vad funktionen gör, vanliga argument, och ibland även exempel på hur funktionen kan användas. För att få tillgång till en hjälpfil används kommandot <code>help()</code>, och inom parenteserna anges namet på den funktion som är av intresse. För att öppna hjälpfunktionen för <code>mean()</code> används koden <code>help(mean)</code>. I nedre högra panelen i Rstudio under fliken <strong>Help</strong> visas nu information om den funktionen.</p>
<p><img src="docs/images/helpmean.PNG" width="100%" style="display: block; margin: auto;" /></p>
<p>I hjälpfilen står under <strong>Usage</strong> hur funktionen kan användas, alltså <code>mean(x, ...)</code>, där de tre punkterna betyder att fler argument kan specificeras om så behövs. Under <code>## Default S3 method:</code> anges funktionens grundinställningar. I koden <code>mean(x, trim = 0, na.rm = FALSE, ...)</code> syns alltså att argumentet <code>trim</code> specificeras som 0, och argumentet <code>na.rm</code> specificeras som <code>FALSE</code> om inget annat anges. Under <em>Arguments</em> beskrivs vad argumenten har för funktion. Till exempel står det att</p>
<p><code>na.rm:  a logical value indicating whether NA values should be stripped before the computation proceeds.</code></p>
<p>Detta stämmer överens med det sätt <code>na.rm</code> användes tidigare. Hjälpfilerna är ofta svåra att förstå vid första anblick, men exemplen längst ner är i regel lite mer klargörande.</p>
<p>På denna kurs kommer funktioner att introduceras efterhand. Funktioner är nämligen något som man lär sig genom tillämpning och inte genom att lära sig utantill i förväg. Dock kan det vara bra att ha en lista över de vanliga funktionerna så man vet vilka möjligheter som finns. En sådan lista finns att hitta <a href="https://cran.r-project.org/doc/contrib/Short-refcard.pdf">här</a></p>
<p>Vi börjar här med några grundläggande funktioner som är användbara.</p>
<ol start="5" style="list-style-type: decimal">
<li>Skriv in nedanstående kod i scriptet <strong>kap3_objekt_och_funktioner.R</strong>, spara och kör.</li>
</ol>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-objekt-och-funktioner.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en vektor som repeterar värde 3 fem gånger</span></span>
<span id="cb102-2"><a href="data-objekt-och-funktioner.html#cb102-2" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb102-3"><a href="data-objekt-och-funktioner.html#cb102-3" aria-hidden="true" tabindex="-1"></a>x1</span>
<span id="cb102-4"><a href="data-objekt-och-funktioner.html#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en vektor som repeterar NA fem gånger</span></span>
<span id="cb102-5"><a href="data-objekt-och-funktioner.html#cb102-5" aria-hidden="true" tabindex="-1"></a>xNA <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">5</span>)</span>
<span id="cb102-6"><a href="data-objekt-och-funktioner.html#cb102-6" aria-hidden="true" tabindex="-1"></a>xNA</span>
<span id="cb102-7"><a href="data-objekt-och-funktioner.html#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion som skapar en sekvens från 2 till 3 med steglängd 0.25</span></span>
<span id="cb102-8"><a href="data-objekt-och-funktioner.html#cb102-8" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">2</span>, <span class="at">to =</span> <span class="dv">3</span>, <span class="at">by =</span> <span class="fl">0.25</span>)</span>
<span id="cb102-9"><a href="data-objekt-och-funktioner.html#cb102-9" aria-hidden="true" tabindex="-1"></a>x2</span>
<span id="cb102-10"><a href="data-objekt-och-funktioner.html#cb102-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en en vektor av element som repeterats </span></span>
<span id="cb102-11"><a href="data-objekt-och-funktioner.html#cb102-11" aria-hidden="true" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="dv">4</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="dv">9</span>, <span class="dv">10</span>))</span>
<span id="cb102-12"><a href="data-objekt-och-funktioner.html#cb102-12" aria-hidden="true" tabindex="-1"></a>x3</span>
<span id="cb102-13"><a href="data-objekt-och-funktioner.html#cb102-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion för att summera information i ett objekt</span></span>
<span id="cb102-14"><a href="data-objekt-och-funktioner.html#cb102-14" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ymis)</span>
<span id="cb102-15"><a href="data-objekt-och-funktioner.html#cb102-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion skapar ett histogram</span></span>
<span id="cb102-16"><a href="data-objekt-och-funktioner.html#cb102-16" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(x)</span>
<span id="cb102-17"><a href="data-objekt-och-funktioner.html#cb102-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion som skapar ett spridningsdiagram</span></span>
<span id="cb102-18"><a href="data-objekt-och-funktioner.html#cb102-18" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, y)</span></code></pre></div>
<p>I Console visas</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="data-objekt-och-funktioner.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en vektor som repeterar värde 3 fem gånger</span></span>
<span id="cb103-2"><a href="data-objekt-och-funktioner.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb103-3"><a href="data-objekt-och-funktioner.html#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x1</span>
<span id="cb103-4"><a href="data-objekt-och-funktioner.html#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span></span>
<span id="cb103-5"><a href="data-objekt-och-funktioner.html#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en vektor som repeterar NA 10 fem gånger</span></span>
<span id="cb103-6"><a href="data-objekt-och-funktioner.html#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> xNA <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">5</span>)</span>
<span id="cb103-7"><a href="data-objekt-och-funktioner.html#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> xNA</span>
<span id="cb103-8"><a href="data-objekt-och-funktioner.html#cb103-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span></span>
<span id="cb103-9"><a href="data-objekt-och-funktioner.html#cb103-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktion som skapar en sekvens från 2 till 3 med steglängd 0.25</span></span>
<span id="cb103-10"><a href="data-objekt-och-funktioner.html#cb103-10" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">2</span>, <span class="at">to =</span> <span class="dv">3</span>, <span class="at">by =</span> <span class="fl">0.25</span>)</span>
<span id="cb103-11"><a href="data-objekt-och-funktioner.html#cb103-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x2</span>
<span id="cb103-12"><a href="data-objekt-och-funktioner.html#cb103-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="fl">2.00</span> <span class="fl">2.25</span> <span class="fl">2.50</span> <span class="fl">2.75</span> <span class="fl">3.00</span></span>
<span id="cb103-13"><a href="data-objekt-och-funktioner.html#cb103-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Skapa en en vektor av element som repeterats </span></span>
<span id="cb103-14"><a href="data-objekt-och-funktioner.html#cb103-14" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> x3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="dv">4</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="dv">9</span>, <span class="dv">10</span>))</span>
<span id="cb103-15"><a href="data-objekt-och-funktioner.html#cb103-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x3</span>
<span id="cb103-16"><a href="data-objekt-och-funktioner.html#cb103-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">4</span> <span class="dv">4</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span> <span class="dv">9</span></span>
<span id="cb103-17"><a href="data-objekt-och-funktioner.html#cb103-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktion för att summera information i ett objekt</span></span>
<span id="cb103-18"><a href="data-objekt-och-funktioner.html#cb103-18" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">summary</span>(ymis)</span>
<span id="cb103-19"><a href="data-objekt-och-funktioner.html#cb103-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA<span class="st">&#39;s </span></span>
<span id="cb103-20"><a href="data-objekt-och-funktioner.html#cb103-20" aria-hidden="true" tabindex="-1"></a><span class="st">&gt;     3.0     3.0     4.5     4.5     6.0     6.0       1</span></span>
<span id="cb103-21"><a href="data-objekt-och-funktioner.html#cb103-21" aria-hidden="true" tabindex="-1"></a><span class="st">&gt; # Funktion skapar ett histogram</span></span>
<span id="cb103-22"><a href="data-objekt-och-funktioner.html#cb103-22" aria-hidden="true" tabindex="-1"></a><span class="st">&gt; hist(x)</span></span></code></pre></div>
<p><img src="docs/images/unnamed-chunk-115-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-objekt-och-funktioner.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktion som skapar ett spridningsdiagram</span></span>
<span id="cb104-2"><a href="data-objekt-och-funktioner.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">plot</span>(x, y)</span></code></pre></div>
<p><img src="docs/images/unnamed-chunk-115-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Ett antal frekvent använda samt viktiga funktioner för dataobjekt listas här nedan. Titta igenom koden här nedan och försök förstå vad funktionerna gör.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-objekt-och-funktioner.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktion för att beskriva datatyp </span></span>
<span id="cb105-2"><a href="data-objekt-och-funktioner.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">class</span>(y)</span>
<span id="cb105-3"><a href="data-objekt-och-funktioner.html#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;numeric&quot;</span></span>
<span id="cb105-4"><a href="data-objekt-och-funktioner.html#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">class</span>(nordic_countries)</span>
<span id="cb105-5"><a href="data-objekt-och-funktioner.html#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">&quot;character&quot;</span></span>
<span id="cb105-6"><a href="data-objekt-och-funktioner.html#cb105-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktion för att beskriva objekt </span></span>
<span id="cb105-7"><a href="data-objekt-och-funktioner.html#cb105-7" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">str</span>(y)</span>
<span id="cb105-8"><a href="data-objekt-och-funktioner.html#cb105-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  num [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></span>
<span id="cb105-9"><a href="data-objekt-och-funktioner.html#cb105-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">str</span>(nordic_countries)</span>
<span id="cb105-10"><a href="data-objekt-och-funktioner.html#cb105-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span> <span class="st">&quot;Sweden&quot;</span></span>
<span id="cb105-11"><a href="data-objekt-och-funktioner.html#cb105-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktion för att ta reda på storleken på matris eller data frame</span></span>
<span id="cb105-12"><a href="data-objekt-och-funktioner.html#cb105-12" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">dim</span>(m1)</span>
<span id="cb105-13"><a href="data-objekt-och-funktioner.html#cb105-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">5</span></span>
<span id="cb105-14"><a href="data-objekt-och-funktioner.html#cb105-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">dim</span>(df)</span>
<span id="cb105-15"><a href="data-objekt-och-funktioner.html#cb105-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">7</span></span>
<span id="cb105-16"><a href="data-objekt-och-funktioner.html#cb105-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">dim</span>(df)[<span class="dv">1</span>]</span>
<span id="cb105-17"><a href="data-objekt-och-funktioner.html#cb105-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">5</span></span>
<span id="cb105-18"><a href="data-objekt-och-funktioner.html#cb105-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">dim</span>(df)[<span class="dv">2</span>]</span>
<span id="cb105-19"><a href="data-objekt-och-funktioner.html#cb105-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">7</span></span>
<span id="cb105-20"><a href="data-objekt-och-funktioner.html#cb105-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktion för att beräkna längden av en vektor</span></span>
<span id="cb105-21"><a href="data-objekt-och-funktioner.html#cb105-21" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">length</span>(x)</span>
<span id="cb105-22"><a href="data-objekt-och-funktioner.html#cb105-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="dv">5</span></span>
<span id="cb105-23"><a href="data-objekt-och-funktioner.html#cb105-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktionen ls() listar alla objekt i minnet</span></span>
<span id="cb105-24"><a href="data-objekt-och-funktioner.html#cb105-24" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">ls</span>()</span>
<span id="cb105-25"><a href="data-objekt-och-funktioner.html#cb105-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="st">&quot;d_bin&quot;</span>                <span class="st">&quot;df&quot;</span>                   <span class="st">&quot;df_sweden&quot;</span>           </span>
<span id="cb105-26"><a href="data-objekt-och-funktioner.html#cb105-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">4</span>] <span class="st">&quot;m1&quot;</span>                   <span class="st">&quot;m2&quot;</span>                   <span class="st">&quot;m3&quot;</span>                  </span>
<span id="cb105-27"><a href="data-objekt-och-funktioner.html#cb105-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">7</span>] <span class="st">&quot;m4&quot;</span>                   <span class="st">&quot;m5&quot;</span>                   <span class="st">&quot;my_first_vec&quot;</span>        </span>
<span id="cb105-28"><a href="data-objekt-och-funktioner.html#cb105-28" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">10</span>] <span class="st">&quot;n&quot;</span>                    <span class="st">&quot;nordic_countries&quot;</span>     <span class="st">&quot;nordic_countries_new&quot;</span></span>
<span id="cb105-29"><a href="data-objekt-och-funktioner.html#cb105-29" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">13</span>] <span class="st">&quot;s2&quot;</span>                   <span class="st">&quot;sample.mean&quot;</span>          <span class="st">&quot;sample.variance&quot;</span>     </span>
<span id="cb105-30"><a href="data-objekt-och-funktioner.html#cb105-30" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">16</span>] <span class="st">&quot;scandinavia&quot;</span>          <span class="st">&quot;sumx&quot;</span>                 <span class="st">&quot;u&quot;</span>                   </span>
<span id="cb105-31"><a href="data-objekt-och-funktioner.html#cb105-31" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">19</span>] <span class="st">&quot;v&quot;</span>                    <span class="st">&quot;w&quot;</span>                    <span class="st">&quot;x&quot;</span>                   </span>
<span id="cb105-32"><a href="data-objekt-och-funktioner.html#cb105-32" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">22</span>] <span class="st">&quot;x_bin&quot;</span>                <span class="st">&quot;x_new&quot;</span>                <span class="st">&quot;x_nordic_countries&quot;</span>  </span>
<span id="cb105-33"><a href="data-objekt-och-funktioner.html#cb105-33" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">25</span>] <span class="st">&quot;x1&quot;</span>                   <span class="st">&quot;x1345&quot;</span>                <span class="st">&quot;x2&quot;</span>                  </span>
<span id="cb105-34"><a href="data-objekt-och-funktioner.html#cb105-34" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">28</span>] <span class="st">&quot;x3&quot;</span>                   <span class="st">&quot;xbar&quot;</span>                 <span class="st">&quot;xNA&quot;</span>                 </span>
<span id="cb105-35"><a href="data-objekt-och-funktioner.html#cb105-35" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">31</span>] <span class="st">&quot;y&quot;</span>                    <span class="st">&quot;y_new&quot;</span>                <span class="st">&quot;y15&quot;</span>                 </span>
<span id="cb105-36"><a href="data-objekt-och-funktioner.html#cb105-36" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">34</span>] <span class="st">&quot;y234&quot;</span>                 <span class="st">&quot;ymis&quot;</span>                 <span class="st">&quot;ymis.mean&quot;</span>           </span>
<span id="cb105-37"><a href="data-objekt-och-funktioner.html#cb105-37" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">37</span>] <span class="st">&quot;ymisbar&quot;</span>              <span class="st">&quot;ysub&quot;</span>                 <span class="st">&quot;z&quot;</span>                   </span>
<span id="cb105-38"><a href="data-objekt-och-funktioner.html#cb105-38" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">40</span>] <span class="st">&quot;z_trinary&quot;</span>            <span class="st">&quot;z1&quot;</span>                   <span class="st">&quot;z2&quot;</span>                  </span>
<span id="cb105-39"><a href="data-objekt-och-funktioner.html#cb105-39" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">43</span>] <span class="st">&quot;z3&quot;</span></span>
<span id="cb105-40"><a href="data-objekt-och-funktioner.html#cb105-40" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Funktionen rm() raderar ett objekt</span></span>
<span id="cb105-41"><a href="data-objekt-och-funktioner.html#cb105-41" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">rm</span>(y)</span>
<span id="cb105-42"><a href="data-objekt-och-funktioner.html#cb105-42" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="co"># Se om objektet y finns kvar</span></span>
<span id="cb105-43"><a href="data-objekt-och-funktioner.html#cb105-43" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="fu">ls</span>()</span>
<span id="cb105-44"><a href="data-objekt-och-funktioner.html#cb105-44" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="st">&quot;d_bin&quot;</span>                <span class="st">&quot;df&quot;</span>                   <span class="st">&quot;df_sweden&quot;</span>           </span>
<span id="cb105-45"><a href="data-objekt-och-funktioner.html#cb105-45" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">4</span>] <span class="st">&quot;m1&quot;</span>                   <span class="st">&quot;m2&quot;</span>                   <span class="st">&quot;m3&quot;</span>                  </span>
<span id="cb105-46"><a href="data-objekt-och-funktioner.html#cb105-46" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">7</span>] <span class="st">&quot;m4&quot;</span>                   <span class="st">&quot;m5&quot;</span>                   <span class="st">&quot;my_first_vec&quot;</span>        </span>
<span id="cb105-47"><a href="data-objekt-och-funktioner.html#cb105-47" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">10</span>] <span class="st">&quot;n&quot;</span>                    <span class="st">&quot;nordic_countries&quot;</span>     <span class="st">&quot;nordic_countries_new&quot;</span></span>
<span id="cb105-48"><a href="data-objekt-och-funktioner.html#cb105-48" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">13</span>] <span class="st">&quot;s2&quot;</span>                   <span class="st">&quot;sample.mean&quot;</span>          <span class="st">&quot;sample.variance&quot;</span>     </span>
<span id="cb105-49"><a href="data-objekt-och-funktioner.html#cb105-49" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">16</span>] <span class="st">&quot;scandinavia&quot;</span>          <span class="st">&quot;sumx&quot;</span>                 <span class="st">&quot;u&quot;</span>                   </span>
<span id="cb105-50"><a href="data-objekt-och-funktioner.html#cb105-50" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">19</span>] <span class="st">&quot;v&quot;</span>                    <span class="st">&quot;w&quot;</span>                    <span class="st">&quot;x&quot;</span>                   </span>
<span id="cb105-51"><a href="data-objekt-och-funktioner.html#cb105-51" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">22</span>] <span class="st">&quot;x_bin&quot;</span>                <span class="st">&quot;x_new&quot;</span>                <span class="st">&quot;x_nordic_countries&quot;</span>  </span>
<span id="cb105-52"><a href="data-objekt-och-funktioner.html#cb105-52" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">25</span>] <span class="st">&quot;x1&quot;</span>                   <span class="st">&quot;x1345&quot;</span>                <span class="st">&quot;x2&quot;</span>                  </span>
<span id="cb105-53"><a href="data-objekt-och-funktioner.html#cb105-53" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">28</span>] <span class="st">&quot;x3&quot;</span>                   <span class="st">&quot;xbar&quot;</span>                 <span class="st">&quot;xNA&quot;</span>                 </span>
<span id="cb105-54"><a href="data-objekt-och-funktioner.html#cb105-54" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">31</span>] <span class="st">&quot;y_new&quot;</span>                <span class="st">&quot;y15&quot;</span>                  <span class="st">&quot;y234&quot;</span>                </span>
<span id="cb105-55"><a href="data-objekt-och-funktioner.html#cb105-55" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">34</span>] <span class="st">&quot;ymis&quot;</span>                 <span class="st">&quot;ymis.mean&quot;</span>            <span class="st">&quot;ymisbar&quot;</span>             </span>
<span id="cb105-56"><a href="data-objekt-och-funktioner.html#cb105-56" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">37</span>] <span class="st">&quot;ysub&quot;</span>                 <span class="st">&quot;z&quot;</span>                    <span class="st">&quot;z_trinary&quot;</span>           </span>
<span id="cb105-57"><a href="data-objekt-och-funktioner.html#cb105-57" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">40</span>] <span class="st">&quot;z1&quot;</span>                   <span class="st">&quot;z2&quot;</span>                   <span class="st">&quot;z3&quot;</span></span></code></pre></div>
<p>Avslutningsvis finns en viktig funktion som används för att <strong>radera alla objekt</strong>. Det är</p>
<ul>
<li><code>rm(list = ls())</code>.</li>
</ul>
<p>Var försiktig med denna funktion eftersom alla objekt i minnet försvinner! Emellertid är god idé inleda ett script för en dataanlys med denna kod för att säkerställa att minnet är tomt innan ny data läses in. På så vis undviker vi konflkter mellan objekt. Förslagsvis används denna funktion inför <strong>varje ny</strong> övningsuppgift, såvida inte uppgiftern bygger på information från tidigare uppgifter.</p>
<hr />
</div>
<div id="sammanfattning-2" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Sammanfattning<a href="data-objekt-och-funktioner.html#sammanfattning-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<style>
div.red{ background-color:#F5B7B1; border-radius: 5px; padding: 20px;}
</style>
<div class="red">
<p><font size="5"> </font>
Du ska kunna</p>
<ul>
<li>känna till de viktigaste datatyperna som R arbetar med.</li>
<li>känna till de tre olika typerna av dataobjekt.</li>
<li>genomföra enklare datahantering, till exempel förändra ett specifikt elements värde i ett dataobjekt eller att med logiska operationer välja ut data från ett objekt.</li>
<li>genomföra logiska operationer på vektorer och data frames.</li>
<li>använda <code>$</code> i data frames.</li>
<li>tillämpa några vanliga funktioner i R samt även informera dig om vad en funktion gör genom att använda hjälp-filen.</li>
</ul>
</div>
<hr />
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> </font>
<img src="docs/images/note.png" width="5%" style="display: block; margin: auto;" /></p>
<ul>
<li>Bortfall komplicerar analyser och kodas på olika sätt. Det hanteras separat i kapitlet om bortfall.</li>
<li>På denna kurs används baspaketen i R för datahantering. I R-universumet finns även en uppsättning paket som tillhör det så kallade <em>tidyverse()</em>. Här finns paket med en mängd funktioner som förenklar avancerad datahantering betydligt och som också följer en logik som många uppskattar. På denna kurs och för de flesta användare är dock baspaketen i R fullt tillräckligt.</li>
<li>Kategorivariabler kallas faktorer och kommer att hanteras utförligt i kapitlet om faktorer. Att ha en förståelse för hur man hanterar faktorer är nödvändigt inom all dataanlys.</li>
<li>I R används även typiska programmeringssatser innehållande <em>for</em>, <em>if</em>, <em>else</em>, <em>while</em>. Detta är emellertid inte något som vi kommer att arbeta med på denna kurs.</li>
</ul>
</div>
<hr />
</div>
<div id="övningar-1" class="section level2 hasAnchor" number="3.7">
<h2><span class="header-section-number">3.7</span> Övningar<a href="data-objekt-och-funktioner.html#övningar-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="övning-3.1" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.1<a href="data-objekt-och-funktioner.html#övning-3.1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Du har ett stickprov betående av observationerna <span class="math inline">\(4,-2,5,6,8\)</span>.</p>
<ol style="list-style-type: lower-alpha">
<li>Beräkna medelvärdet.</li>
<li>Beräkna standardavvikelsen.</li>
<li>Beräkna variationsbredden.</li>
<li>Beräkna det geometriska medelvärdet för de positiva värden <span class="math inline">\(4, 5, 6, 8\)</span>.</li>
<li>Beräkna det geometriska medelvärdet för alla värden <span class="math inline">\(4, -2, 5, 6, 8\)</span>.</li>
</ol>
<button title="q301" type="button" onclick="if(document.getElementById(&#39;q301&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q301&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q301&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q301" style="display:none">
<div class="alert alert-info">
<ol style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="data-objekt-och-funktioner.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför denna Övning 3.1 </span></span>
<span id="cb106-2"><a href="data-objekt-och-funktioner.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb106-3"><a href="data-objekt-och-funktioner.html#cb106-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="sc">-</span><span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">8</span>)</span>
<span id="cb106-4"><a href="data-objekt-och-funktioner.html#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span>
<span id="cb106-5"><a href="data-objekt-och-funktioner.html#cb106-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">4.2</span></span></code></pre></div>
<ul>
<li>Svar: Medelvärdet är 4.2</li>
</ul>
<ol start="2" style="list-style-type: lower-alpha">
<li>Standardavvikelsen <span class="math inline">\(s=\sqrt{\dfrac{\sum_{i=1}^n (x_i -\bar{x})^2}{n-1}}\)</span> beräknas med</li>
</ol>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-objekt-och-funktioner.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x)</span>
<span id="cb107-2"><a href="data-objekt-och-funktioner.html#cb107-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">3.768289</span></span></code></pre></div>
<ul>
<li>Svar: Standardavvikelsen är 3.768</li>
</ul>
<ol start="3" style="list-style-type: lower-alpha">
<li>Variationsbredden, dvs skillnaden mellan det största och det minsta värdet är</li>
</ol>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="data-objekt-och-funktioner.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<ul>
<li>Svar: Variationsbredden är är 10.</li>
</ul>
<ol start="4" style="list-style-type: lower-alpha">
<li>Det geometriska medelvärdet <span class="math inline">\(\bar{x}_g=(x_1\cdot x_2 \cdot \cdots \cdot x_n)^{1/n}\)</span> kan i R beräknas med</li>
</ol>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="data-objekt-och-funktioner.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Välj enbart positiva värden</span></span>
<span id="cb110-2"><a href="data-objekt-och-funktioner.html#cb110-2" aria-hidden="true" tabindex="-1"></a>xpos <span class="ot">&lt;-</span> x[x <span class="sc">&gt;</span> <span class="dv">0</span>] </span>
<span id="cb110-3"><a href="data-objekt-och-funktioner.html#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Du kan beräkna det geometriska medelvärdet med</span></span>
<span id="cb110-4"><a href="data-objekt-och-funktioner.html#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>( <span class="fu">mean</span>(<span class="fu">log</span>(xpos)) )</span></code></pre></div>
<pre><code>## [1] 5.566315</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="data-objekt-och-funktioner.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternativt kan du funktionen geometric.mean() </span></span>
<span id="cb112-2"><a href="data-objekt-och-funktioner.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="co"># i paketet psych. Aktivera paketet och beräkna.</span></span>
<span id="cb112-3"><a href="data-objekt-och-funktioner.html#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;psych&quot;</span>)</span>
<span id="cb112-4"><a href="data-objekt-och-funktioner.html#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geometric.mean</span>(xpos)</span></code></pre></div>
<pre><code>## [1] 5.566315</code></pre>
<ul>
<li>Svar: Det geometriska medelvärdet är 3.95.</li>
</ul>
<ol start="5" style="list-style-type: lower-alpha">
<li>Det geometriska medelvärdet <span class="math display">\[\bar{x}_g=(x_1\cdot x_2 \cdot \cdots \cdot x_n)^{1/n}\]</span> kan i R beräknas med</li>
</ol>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="data-objekt-och-funktioner.html#cb114-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">4</span>  <span class="sc">*</span> (<span class="sc">-</span><span class="dv">2</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">6</span> <span class="sc">*</span> <span class="dv">8</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="data-objekt-och-funktioner.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">geometric.mean</span>(x)</span></code></pre></div>
<pre><code>## Warning in log(x): NaNs produced</code></pre>
<pre><code>## [1] 5.566315</code></pre>
<ul>
<li>Svar: Eftersom en observation är negativ blir NaN, vilket betyder ‘’Not a Number’’. Det går alltså inte att beräkna.</li>
</ul>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.2" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.2<a href="data-objekt-och-funktioner.html#övning-3.2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ett slumpmässigt urval ger följande observationer <span class="math inline">\(0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1\)</span>,där <span class="math inline">\(1=Arbetslös\)</span> och <span class="math inline">\(0=Förvärvsarbetande\)</span>.
Beräkna andelen arbetslösa i stickprovet.</p>
<button title="q302" type="button" onclick="if(document.getElementById(&#39;q302&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q302&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q302&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q302" style="display:none">
<div class="alert alert-info">
<p>Andelen arbetslösa beräkna i R med</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="data-objekt-och-funktioner.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför denna Övning 3.2 </span></span>
<span id="cb119-2"><a href="data-objekt-och-funktioner.html#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb119-3"><a href="data-objekt-och-funktioner.html#cb119-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,  <span class="dv">1</span>,  <span class="dv">1</span>, <span class="dv">0</span>,  <span class="dv">0</span>,  <span class="dv">0</span>,  <span class="dv">0</span>,  <span class="dv">0</span>, <span class="dv">1</span>,  <span class="dv">0</span>,  <span class="dv">1</span>,  <span class="dv">0</span>,  <span class="dv">1</span>) </span>
<span id="cb119-4"><a href="data-objekt-och-funktioner.html#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code>## [1] 0.3846154</code></pre>
<ul>
<li>Svar: Andelen arbetslösa i stickprovet är 0.38.</li>
</ul>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.3" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.3<a href="data-objekt-och-funktioner.html#övning-3.3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Kosumentpriset 2006-2011 är</p>
<table>
<caption><span id="tab:unnamed-chunk-124">Table 3.1: </span>Konsumentprisindex (KPI) 2006-2011</caption>
<tbody>
<tr class="odd">
<td align="right">2006</td>
<td align="right">284.2</td>
</tr>
<tr class="even">
<td align="right">2007</td>
<td align="right">290.5</td>
</tr>
<tr class="odd">
<td align="right">2008</td>
<td align="right">300.6</td>
</tr>
<tr class="even">
<td align="right">2009</td>
<td align="right">299.7</td>
</tr>
<tr class="odd">
<td align="right">2010</td>
<td align="right">303.5</td>
</tr>
<tr class="even">
<td align="right">2011</td>
<td align="right">311.4</td>
</tr>
</tbody>
</table>
<p>Med hur många procent har prisnivån förändrats från 2007 till 2010?</p>
<button title="q303" type="button" onclick="if(document.getElementById(&#39;q303&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q303&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q303&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q303" style="display:none">
<div class="alert alert-info">
<p>Beräkning i R ger</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-objekt-och-funktioner.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför denna Övning 3.2 </span></span>
<span id="cb121-2"><a href="data-objekt-och-funktioner.html#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb121-3"><a href="data-objekt-och-funktioner.html#cb121-3" aria-hidden="true" tabindex="-1"></a>year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2006</span>, <span class="dv">2007</span>, <span class="dv">2008</span>, <span class="dv">2009</span>, <span class="dv">2010</span>, <span class="dv">2011</span>)</span>
<span id="cb121-4"><a href="data-objekt-och-funktioner.html#cb121-4" aria-hidden="true" tabindex="-1"></a>kpi <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">284.22</span>, <span class="fl">290.51</span>, <span class="fl">300.61</span>, <span class="fl">299.66</span>, <span class="fl">303.46</span>, <span class="fl">311.423</span>)</span>
<span id="cb121-5"><a href="data-objekt-och-funktioner.html#cb121-5" aria-hidden="true" tabindex="-1"></a>percent_change <span class="ot">&lt;-</span> <span class="dv">100</span><span class="sc">*</span>(kpi[year <span class="sc">==</span> <span class="dv">2010</span>]<span class="sc">/</span>kpi[year <span class="sc">==</span> <span class="dv">2007</span>])<span class="sc">-</span><span class="dv">100</span></span></code></pre></div>
<ul>
<li>Svar: Prisnivån har ökat med 4.458%.</li>
</ul>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.4" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.4<a href="data-objekt-och-funktioner.html#övning-3.4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Låt observationerna <span class="math inline">\(4,-2,5,6,8\)</span> vara obundet slumpmässigt urval från en normalfördelad population. Genomför en hypotesprövning på 5% signifikansnivå för att testa medelvärdet i population är skild från 1.</p>
<button title="q304" type="button" onclick="if(document.getElementById(&#39;q304&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q304&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q304&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q304" style="display:none">
<div class="alert alert-info">
<ol style="list-style-type: decimal">
<li>Vi observerar <span class="math inline">\(x=\{4,-2,5,6,8\}.\)</span></li>
<li>Hypoteser: <span class="math inline">\(H_0:\mu=1\)</span> vs <span class="math inline">\(H_1:\mu \neq 1\)</span></li>
<li>Antaganden: Variabeln <span class="math inline">\(x\)</span> är normalfördelad i populationen. Populationsvariansen <span class="math inline">\(\sigma^2\)</span> är okänd i populationen. Vi har ett litet stickprov, <span class="math inline">\(n=5\)</span>.</li>
<li>Testfunktionen ges av <span class="math inline">\(t=\dfrac{\bar{x}-\mu}{\sqrt{s^2/n}}\)</span>. Denna teststatistika är <span class="math inline">\(t\)</span>-fördelad med <span class="math inline">\(n-1\)</span> frihetsgrader om nollhypotesen är sann.</li>
<li>Beslutregel: <span class="math inline">\(\alpha=0.05\)</span>. Tvåsidigt test, förkasta därför <span class="math inline">\(H_0\)</span> om <span class="math inline">\(|t_{obs}| &gt; t_{krit} = t_{4,\alpha/2=0.025} = 2.776\)</span></li>
</ol>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-objekt-och-funktioner.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.4</span></span>
<span id="cb122-2"><a href="data-objekt-och-funktioner.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb122-3"><a href="data-objekt-och-funktioner.html#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Vi ska lösa uppgiften först illusterat med objekt i R</span></span>
<span id="cb122-4"><a href="data-objekt-och-funktioner.html#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sedan löser vi den med den inbyggda funktionen för t-test</span></span>
<span id="cb122-5"><a href="data-objekt-och-funktioner.html#cb122-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-6"><a href="data-objekt-och-funktioner.html#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Bestäm värden som ska in i testfunktionen</span></span>
<span id="cb122-7"><a href="data-objekt-och-funktioner.html#cb122-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="sc">-</span><span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">8</span>)</span>
<span id="cb122-8"><a href="data-objekt-och-funktioner.html#cb122-8" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb122-9"><a href="data-objekt-och-funktioner.html#cb122-9" aria-hidden="true" tabindex="-1"></a>xbar <span class="ot">&lt;-</span> <span class="fu">mean</span> (x)</span>
<span id="cb122-10"><a href="data-objekt-och-funktioner.html#cb122-10" aria-hidden="true" tabindex="-1"></a>s2 <span class="ot">&lt;-</span> <span class="fu">var</span>(x)</span>
<span id="cb122-11"><a href="data-objekt-och-funktioner.html#cb122-11" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb122-12"><a href="data-objekt-och-funktioner.html#cb122-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Beräkna testfunktionen</span></span>
<span id="cb122-13"><a href="data-objekt-och-funktioner.html#cb122-13" aria-hidden="true" tabindex="-1"></a>tobs <span class="ot">&lt;-</span> (xbar <span class="sc">-</span> mu)<span class="sc">/</span><span class="fu">sqrt</span>(s2<span class="sc">/</span>n)</span>
<span id="cb122-14"><a href="data-objekt-och-funktioner.html#cb122-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Se var testfunktionensvärde hamnar i en t-fördelning med n-1 frihetsgrader</span></span>
<span id="cb122-15"><a href="data-objekt-och-funktioner.html#cb122-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktionen pt() ger för ett givet t-värde vänstersvanssannolikheter i en t-fördelning med n-1 frihetsgrader </span></span>
<span id="cb122-16"><a href="data-objekt-och-funktioner.html#cb122-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Eftersom vi vill ha sannolikheten i högra svansen måste vi därför ta 1-pt().</span></span>
<span id="cb122-17"><a href="data-objekt-och-funktioner.html#cb122-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Slutligen, eftersom mothypotesen är två-sidig multipliceras p-värdet med 2.</span></span>
<span id="cb122-18"><a href="data-objekt-och-funktioner.html#cb122-18" aria-hidden="true" tabindex="-1"></a>p_value <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>(<span class="dv">1</span> <span class="sc">-</span> <span class="fu">pt</span>(tobs, (n<span class="dv">-1</span>)))</span>
<span id="cb122-19"><a href="data-objekt-och-funktioner.html#cb122-19" aria-hidden="true" tabindex="-1"></a>p_value</span>
<span id="cb122-20"><a href="data-objekt-och-funktioner.html#cb122-20" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.1304116</span></span>
<span id="cb122-21"><a href="data-objekt-och-funktioner.html#cb122-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-22"><a href="data-objekt-och-funktioner.html#cb122-22" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(x, <span class="at">mu =</span> <span class="dv">1</span>)</span>
<span id="cb122-23"><a href="data-objekt-och-funktioner.html#cb122-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-24"><a href="data-objekt-och-funktioner.html#cb122-24" aria-hidden="true" tabindex="-1"></a>    One Sample t<span class="sc">-</span>test</span>
<span id="cb122-25"><a href="data-objekt-och-funktioner.html#cb122-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-26"><a href="data-objekt-och-funktioner.html#cb122-26" aria-hidden="true" tabindex="-1"></a>data<span class="sc">:</span>  x</span>
<span id="cb122-27"><a href="data-objekt-och-funktioner.html#cb122-27" aria-hidden="true" tabindex="-1"></a>t <span class="ot">=</span> <span class="fl">1.8989</span>, df <span class="ot">=</span> <span class="dv">4</span>, p<span class="sc">-</span>value <span class="ot">=</span> <span class="fl">0.1304</span></span>
<span id="cb122-28"><a href="data-objekt-och-funktioner.html#cb122-28" aria-hidden="true" tabindex="-1"></a>alternative hypothesis<span class="sc">:</span> true mean is not equal to <span class="dv">1</span></span>
<span id="cb122-29"><a href="data-objekt-och-funktioner.html#cb122-29" aria-hidden="true" tabindex="-1"></a><span class="dv">95</span> percent confidence interval<span class="sc">:</span></span>
<span id="cb122-30"><a href="data-objekt-och-funktioner.html#cb122-30" aria-hidden="true" tabindex="-1"></a> <span class="sc">-</span><span class="fl">0.4789485</span>  <span class="fl">8.8789485</span></span>
<span id="cb122-31"><a href="data-objekt-och-funktioner.html#cb122-31" aria-hidden="true" tabindex="-1"></a>sample estimates<span class="sc">:</span></span>
<span id="cb122-32"><a href="data-objekt-och-funktioner.html#cb122-32" aria-hidden="true" tabindex="-1"></a>mean of x </span>
<span id="cb122-33"><a href="data-objekt-och-funktioner.html#cb122-33" aria-hidden="true" tabindex="-1"></a>      <span class="fl">4.2</span> </span>
<span id="cb122-34"><a href="data-objekt-och-funktioner.html#cb122-34" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(x, <span class="at">mu =</span> <span class="dv">1</span>)<span class="sc">$</span>p.value</span>
<span id="cb122-35"><a href="data-objekt-och-funktioner.html#cb122-35" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.1304116</span></span></code></pre></div>
<ul>
<li>Svar: Efterom <span class="math inline">\(p=0.13\)</span> kan vi på 5% signifikansnivå inte påvisa att medelvärdet i populationen är skilt från 1. Notera att detta <strong>inte</strong> innebär att vi visar att medelvärdet är 1.</li>
</ul>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.5" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.5<a href="data-objekt-och-funktioner.html#övning-3.5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Du observerar följande vektorer <span class="math inline">\(x = \{4,7,2,4,6,NA,89\}\)</span> och <span class="math inline">\(y=\{7,3, 2, 5,6, 5 , 7\}\)</span> och <span class="math inline">\(z=\{Alfa, bravo, Charlie, delta, Echo, Foxtrot, Golf\}\)</span></p>
<ol style="list-style-type: lower-alpha">
<li>Använd indexering för att summera element 2 och 3 i <span class="math inline">\(x\)</span> med element 6 och 7 i <span class="math inline">\(y\)</span>.</li>
<li>Använd indexering för att ändra NA i <span class="math inline">\(x\)</span> till 999.</li>
<li>Använd indexering för att korrigera så att bravo och delta inleds med versaler.</li>
<li>Exkludera Echo och Foxtrot från <span class="math inline">\(z\)</span>.</li>
</ol>
<button title="q305" type="button" onclick="if(document.getElementById(&#39;q305&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q305&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q305&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q305" style="display:none">
<div class="alert alert-info">
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-objekt-och-funktioner.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.5 </span></span>
<span id="cb123-2"><a href="data-objekt-och-funktioner.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb123-3"><a href="data-objekt-och-funktioner.html#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="co"># a)</span></span>
<span id="cb123-4"><a href="data-objekt-och-funktioner.html#cb123-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="cn">NA</span>,<span class="dv">89</span>)</span>
<span id="cb123-5"><a href="data-objekt-och-funktioner.html#cb123-5" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb123-6"><a href="data-objekt-och-funktioner.html#cb123-6" aria-hidden="true" tabindex="-1"></a>sumxy <span class="ot">&lt;-</span> x[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)] <span class="sc">+</span> y[<span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">7</span>)]</span>
<span id="cb123-7"><a href="data-objekt-och-funktioner.html#cb123-7" aria-hidden="true" tabindex="-1"></a>sumxy</span>
<span id="cb123-8"><a href="data-objekt-och-funktioner.html#cb123-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">12</span>  <span class="dv">9</span></span>
<span id="cb123-9"><a href="data-objekt-och-funktioner.html#cb123-9" aria-hidden="true" tabindex="-1"></a><span class="co"># b)</span></span>
<span id="cb123-10"><a href="data-objekt-och-funktioner.html#cb123-10" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="dv">999</span></span>
<span id="cb123-11"><a href="data-objekt-och-funktioner.html#cb123-11" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb123-12"><a href="data-objekt-och-funktioner.html#cb123-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]   <span class="dv">4</span>   <span class="dv">7</span>   <span class="dv">2</span>   <span class="dv">4</span>   <span class="dv">6</span> <span class="dv">999</span>  <span class="dv">89</span></span>
<span id="cb123-13"><a href="data-objekt-och-funktioner.html#cb123-13" aria-hidden="true" tabindex="-1"></a><span class="co"># c)</span></span>
<span id="cb123-14"><a href="data-objekt-och-funktioner.html#cb123-14" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Alfa&quot;</span>, <span class="st">&quot;Bravo&quot;</span>, <span class="st">&quot;Charlie&quot;</span>, <span class="st">&quot;Delta&quot;</span>, <span class="st">&quot;Echo&quot;</span>, <span class="st">&quot;Foxtrot&quot;</span>, <span class="st">&quot;Golf&quot;</span>)</span>
<span id="cb123-15"><a href="data-objekt-och-funktioner.html#cb123-15" aria-hidden="true" tabindex="-1"></a>z[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Bravo&quot;</span></span>
<span id="cb123-16"><a href="data-objekt-och-funktioner.html#cb123-16" aria-hidden="true" tabindex="-1"></a>z[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Delta&quot;</span></span>
<span id="cb123-17"><a href="data-objekt-och-funktioner.html#cb123-17" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb123-18"><a href="data-objekt-och-funktioner.html#cb123-18" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Alfa&quot;</span>    <span class="st">&quot;Bravo&quot;</span>   <span class="st">&quot;Charlie&quot;</span> <span class="st">&quot;Delta&quot;</span>   <span class="st">&quot;Echo&quot;</span>    <span class="st">&quot;Foxtrot&quot;</span> <span class="st">&quot;Golf&quot;</span>   </span>
<span id="cb123-19"><a href="data-objekt-och-funktioner.html#cb123-19" aria-hidden="true" tabindex="-1"></a><span class="co"># d)</span></span>
<span id="cb123-20"><a href="data-objekt-och-funktioner.html#cb123-20" aria-hidden="true" tabindex="-1"></a>zsub <span class="ot">&lt;-</span> z[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">6</span>)]</span>
<span id="cb123-21"><a href="data-objekt-och-funktioner.html#cb123-21" aria-hidden="true" tabindex="-1"></a>zsub</span>
<span id="cb123-22"><a href="data-objekt-och-funktioner.html#cb123-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Alfa&quot;</span>    <span class="st">&quot;Bravo&quot;</span>   <span class="st">&quot;Charlie&quot;</span> <span class="st">&quot;Delta&quot;</span>   <span class="st">&quot;Golf&quot;</span>   </span></code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.6" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.6<a href="data-objekt-och-funktioner.html#övning-3.6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Du observerar följande datapunkter <span class="math inline">\(x = \{4,7,2,4,6\}\)</span> och <span class="math inline">\(y=\{7,3, 2, 5,6\}\)</span>.</p>
<p><img src="docs/images/unnamed-chunk-128-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: lower-alpha">
<li>Använd minsta-kvadratmetoden och beräkna koefficienterna <span class="math inline">\(a\)</span> och <span class="math inline">\(b\)</span> i regressionslinjen <span class="math inline">\(y=a + bx\)</span>.</li>
<li>Använd koefficienterna och ge en prediktion för <span class="math inline">\(y\)</span> givet att <span class="math inline">\(x=7\)</span>.</li>
<li>Beräkna residualen för <span class="math inline">\(x=7\)</span></li>
<li>Beräkna residualspridningen.</li>
</ol>
<button title="q306" type="button" onclick="if(document.getElementById(&#39;q306&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q306&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q306&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q306" style="display:none">
<div class="alert alert-info">
<ol style="list-style-type: lower-alpha">
<li>Riktningskoefficienten ges av
<span class="math display">\[b=\dfrac{\sum_{i=1}^n(x_i-\bar{x})(y_i-\bar{y})}{\sum_{i=1}^n(x_i - \bar{x})^2}\]</span>
och interceptet ges av
<span class="math display">\[ a = \bar{y} - b \bar{x}\]</span>. Vi tillämpar formlerna i R.</li>
</ol>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-objekt-och-funktioner.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.5</span></span>
<span id="cb124-2"><a href="data-objekt-och-funktioner.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb124-3"><a href="data-objekt-och-funktioner.html#cb124-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>)</span>
<span id="cb124-4"><a href="data-objekt-och-funktioner.html#cb124-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>,<span class="dv">6</span>)</span>
<span id="cb124-5"><a href="data-objekt-och-funktioner.html#cb124-5" aria-hidden="true" tabindex="-1"></a>xbar <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb124-6"><a href="data-objekt-och-funktioner.html#cb124-6" aria-hidden="true" tabindex="-1"></a>ybar <span class="ot">&lt;-</span> <span class="fu">mean</span>(y)</span>
<span id="cb124-7"><a href="data-objekt-och-funktioner.html#cb124-7" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">sum</span>( (x <span class="sc">-</span> xbar)<span class="sc">*</span>(y <span class="sc">-</span> ybar))<span class="sc">/</span><span class="fu">sum</span>( (x <span class="sc">-</span> xbar)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb124-8"><a href="data-objekt-och-funktioner.html#cb124-8" aria-hidden="true" tabindex="-1"></a>b</span>
<span id="cb124-9"><a href="data-objekt-och-funktioner.html#cb124-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.2105263</span></span>
<span id="cb124-10"><a href="data-objekt-och-funktioner.html#cb124-10" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> ybar <span class="sc">-</span> b<span class="sc">*</span>xbar</span>
<span id="cb124-11"><a href="data-objekt-och-funktioner.html#cb124-11" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb124-12"><a href="data-objekt-och-funktioner.html#cb124-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">3.631579</span></span>
<span id="cb124-13"><a href="data-objekt-och-funktioner.html#cb124-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Det finns en inbyggd funktion i R för regressionsanalys, vilken används senare på kursen.</span></span></code></pre></div>
<ul>
<li>Svar: Riktningskoefficienten beräknas till <span class="math inline">\(b=0.2105\)</span>, vilket tolkas som att om <span class="math inline">\(x\)</span> ökar en enhet så ökar <span class="math inline">\(y\)</span> i <em>genomsnitt</em> med <span class="math inline">\(0.2105\)</span> enheter. Interceptet beräknas till <span class="math inline">\(a=3.632\)</span>, vilket tolkas som medelvärdet för <span class="math inline">\(y\)</span> när <span class="math inline">\(x=0\)</span>. Notera att det i beräkningarna</li>
</ul>
<ol start="2" style="list-style-type: lower-alpha">
<li>Använd koefficienterna från regressionslinjen och sätt in värdet <span class="math inline">\(x=7\)</span>.</li>
</ol>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-objekt-och-funktioner.html#cb125-1" aria-hidden="true" tabindex="-1"></a>xp <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb125-2"><a href="data-objekt-och-funktioner.html#cb125-2" aria-hidden="true" tabindex="-1"></a>yhat <span class="ot">&lt;-</span> a   <span class="sc">+</span>    b<span class="sc">*</span>xp  </span>
<span id="cb125-3"><a href="data-objekt-och-funktioner.html#cb125-3" aria-hidden="true" tabindex="-1"></a>yhat</span>
<span id="cb125-4"><a href="data-objekt-och-funktioner.html#cb125-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">5.105263</span></span></code></pre></div>
<ul>
<li>Svar: Prediktionen <span class="math inline">\(\hat{y}=\)</span> 5.105. Detta är punkten på regressionslinjen när <span class="math inline">\(x=7\)</span> och vår bästa gissning för det <span class="math inline">\(y\)</span>-värde en individ med värdet <span class="math inline">\(x=7\)</span> kommer att ha.</li>
</ul>
<ol start="3" style="list-style-type: lower-alpha">
<li>En residual är skillnaden mellan ett predicerat värde och det faktiska observerade värdet, <span class="math inline">\(\hat{\varepsilon}=y_i - \hat{y}\)</span>.
Eftersom <span class="math inline">\(y=3\)</span> när <span class="math inline">\(x=7\)</span> så residualen</li>
</ol>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-objekt-och-funktioner.html#cb126-1" aria-hidden="true" tabindex="-1"></a>residual <span class="ot">&lt;-</span> y[x <span class="sc">==</span> xp] <span class="sc">-</span> yhat</span></code></pre></div>
<ul>
<li>Svar: Residualen för <span class="math inline">\(x=7\)</span> är -2.105.</li>
</ul>
<ol start="4" style="list-style-type: lower-alpha">
<li>Residualspridningen ges av <span class="math display">\[s_\varepsilon=\sqrt{\dfrac{\sum_{i=1}^n(y_i - \hat{y}_i)^2}{n-2}}= \sqrt{\dfrac{\sum_{i=1}^n\hat{\varepsilon}_i^2}{n-2}}\]</span>. Vi beräknar på samma sätt som i c) övriga residualer, kvadrerar och summerar.</li>
</ol>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-objekt-och-funktioner.html#cb127-1" aria-hidden="true" tabindex="-1"></a>residuals <span class="ot">&lt;-</span> y <span class="sc">-</span> (<span class="fl">3.6316</span>   <span class="sc">+</span>    <span class="fl">0.2105</span><span class="sc">*</span>x)</span>
<span id="cb127-2"><a href="data-objekt-och-funktioner.html#cb127-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(residuals)</span>
<span id="cb127-3"><a href="data-objekt-och-funktioner.html#cb127-3" aria-hidden="true" tabindex="-1"></a>residual_spridning <span class="ot">&lt;-</span> <span class="fu">sqrt</span>( <span class="fu">sum</span>(residuals<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span>(n<span class="dv">-2</span>) )</span>
<span id="cb127-4"><a href="data-objekt-och-funktioner.html#cb127-4" aria-hidden="true" tabindex="-1"></a>residual_spridning</span>
<span id="cb127-5"><a href="data-objekt-och-funktioner.html#cb127-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">2.347077</span></span></code></pre></div>
<ul>
<li>Svar: Residualspridningen är 2.347</li>
</ul>
<p>(Notera att <span class="math inline">\(\sum_{i=1}^n \varepsilon_i^2\)</span> kallas för <em>residualkvadratsumman</em>.)</p>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.7" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.7<a href="data-objekt-och-funktioner.html#övning-3.7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Du observerar följande data frame</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="data-objekt-och-funktioner.html#cb128-1" aria-hidden="true" tabindex="-1"></a>income <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>)</span>
<span id="cb128-2"><a href="data-objekt-och-funktioner.html#cb128-2" aria-hidden="true" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Low&quot;</span>, <span class="st">&quot;Medium&quot;</span>, <span class="st">&quot;Low&quot;</span>, <span class="st">&quot;High&quot;</span>, <span class="st">&quot;High&quot;</span>, <span class="st">&quot;Low&quot;</span>, <span class="st">&quot;Medium&quot;</span>, <span class="st">&quot;High&quot;</span>)</span>
<span id="cb128-3"><a href="data-objekt-och-funktioner.html#cb128-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(income, education)</span></code></pre></div>
<p>Skapa en ny variabel som heter high_edu som tar värdet 1 om education är “High” och 0 annars.</p>
<button title="q307" type="button" onclick="if(document.getElementById(&#39;q307&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q307&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q307&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q307" style="display:none">
<div class="alert alert-info">
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="data-objekt-och-funktioner.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.6</span></span>
<span id="cb129-2"><a href="data-objekt-och-funktioner.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb129-3"><a href="data-objekt-och-funktioner.html#cb129-3" aria-hidden="true" tabindex="-1"></a>income <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">6</span>)</span>
<span id="cb129-4"><a href="data-objekt-och-funktioner.html#cb129-4" aria-hidden="true" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Low&quot;</span>, <span class="st">&quot;Medium&quot;</span>, <span class="st">&quot;Low&quot;</span>, <span class="st">&quot;High&quot;</span>, <span class="st">&quot;High&quot;</span>, <span class="st">&quot;Low&quot;</span>, <span class="st">&quot;Medium&quot;</span>, <span class="st">&quot;High&quot;</span>)</span>
<span id="cb129-5"><a href="data-objekt-och-funktioner.html#cb129-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(income, education)</span>
<span id="cb129-6"><a href="data-objekt-och-funktioner.html#cb129-6" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>high_edu <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb129-7"><a href="data-objekt-och-funktioner.html#cb129-7" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>high_edu[df<span class="sc">$</span>education <span class="sc">==</span> <span class="st">&quot;High&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb129-8"><a href="data-objekt-och-funktioner.html#cb129-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>high_edu[df<span class="sc">$</span>education <span class="sc">==</span> <span class="st">&quot;Low&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb129-9"><a href="data-objekt-och-funktioner.html#cb129-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>high_edu[df<span class="sc">$</span>education <span class="sc">==</span> <span class="st">&quot;Medium&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb129-10"><a href="data-objekt-och-funktioner.html#cb129-10" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb129-11"><a href="data-objekt-och-funktioner.html#cb129-11" aria-hidden="true" tabindex="-1"></a>  income education high_edu</span>
<span id="cb129-12"><a href="data-objekt-och-funktioner.html#cb129-12" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>      <span class="dv">4</span>       Low        <span class="dv">0</span></span>
<span id="cb129-13"><a href="data-objekt-och-funktioner.html#cb129-13" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      <span class="dv">7</span>    Medium        <span class="dv">0</span></span>
<span id="cb129-14"><a href="data-objekt-och-funktioner.html#cb129-14" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>      <span class="dv">2</span>       Low        <span class="dv">0</span></span>
<span id="cb129-15"><a href="data-objekt-och-funktioner.html#cb129-15" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>      <span class="dv">3</span>      High        <span class="dv">1</span></span>
<span id="cb129-16"><a href="data-objekt-och-funktioner.html#cb129-16" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>      <span class="dv">6</span>      High        <span class="dv">1</span></span>
<span id="cb129-17"><a href="data-objekt-och-funktioner.html#cb129-17" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>      <span class="dv">7</span>       Low        <span class="dv">0</span></span>
<span id="cb129-18"><a href="data-objekt-och-funktioner.html#cb129-18" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>      <span class="dv">8</span>    Medium        <span class="dv">0</span></span>
<span id="cb129-19"><a href="data-objekt-och-funktioner.html#cb129-19" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>      <span class="dv">6</span>      High        <span class="dv">1</span></span></code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.8" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.8<a href="data-objekt-och-funktioner.html#övning-3.8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ett oljebolag är intresserat av att för ett äldre bostadsområde med <span class="math inline">\(2\,000\)</span> hus skatta andelen hus utan oljeeldning. Sakkunskapen säger att det sanna antalet hus utan oljeeldning är mellan 300 och 800 stycken. Precisionskravet är formulerat så att ett 95% konfidensintervall för andelen hus utan oljeeldning inte får
bli längre än 0.05 procentenheter.</p>
<ol style="list-style-type: lower-alpha">
<li>Beräkna urvalsstorleken vid OSU om dragningen sker med återläggning.</li>
</ol>
<button title="q308" type="button" onclick="if(document.getElementById(&#39;q308&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q308&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q308&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q308" style="display:none">
<div class="alert alert-info">
<ul>
<li><p>Mål: Beräkna den nödvändiga stickprovsstorleken <span class="math inline">\(n\)</span> om längden för ett 95% konfidensintervall för andelen i populationen får vara maximalt 0.05.</p></li>
<li><p>Parameter: <span class="math inline">\(p\)</span> = andelen hus utan oljeeldning i populationen.</p></li>
<li><p>Estimator: <span class="math inline">\(\hat{p}\)</span> = andelen hus utan oljeeldning i stickprovet.</p></li>
<li><p>Förutsättningar:</p></li>
</ul>
<ol style="list-style-type: decimal">
<li>OSU-MÅ ger att <span class="math inline">\(E(\hat{p})=p\)</span>. Detta säger oss att andelen i stickprovprovet kan skatta andelen i populationen väntevärdesriktigt.</li>
<li><span class="math inline">\(V(\hat{p})=\frac{p(1-p)}{n}\)</span>. Detta är variansen i andelsestimatorns samplingfördelning.</li>
<li>Vi antar att <span class="math inline">\(p=\dfrac{800}{2000}=0.4\)</span> eftersom detta ger störst varians givet den information vi har.</li>
<li>Vi utgår från att <span class="math inline">\(np(1-p)&gt;5\)</span> kommer att vara uppfyllt. Vi måste sedan kontrollera att antagandet faktiskt är uppfyllt! Annars gäller inte CGS och approximativ normalfördelning.</li>
</ol>
<p>Precisionskravet i termer av konfidensintervallets längd kan nu formuleras
<span class="math display">\[
    0.05\geq 2\cdot 1.96\sqrt{\frac{0.4(1-0.4)}{n}}.
\]</span></p>
<p>Det går att ändra värdena på <span class="math inline">\(n\)</span> i R för att se vilket <span class="math inline">\(n\)</span> som ger vår önskade minsta stickprovsstorlek. Vi vill att uttrycket nedan ska vara lika med eller mindre än 0.05.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="data-objekt-och-funktioner.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.7</span></span>
<span id="cb130-2"><a href="data-objekt-och-funktioner.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb130-3"><a href="data-objekt-och-funktioner.html#cb130-3" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">10000</span>, <span class="dv">1</span>)</span>
<span id="cb130-4"><a href="data-objekt-och-funktioner.html#cb130-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fl">0.4</span></span>
<span id="cb130-5"><a href="data-objekt-och-funktioner.html#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Z-värdet från fördelning N(0,1) med sannolikheten 0.025 i högre svansen.</span></span>
<span id="cb130-6"><a href="data-objekt-och-funktioner.html#cb130-6" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>)</span>
<span id="cb130-7"><a href="data-objekt-och-funktioner.html#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Längden för ett konfidensintervall ges av följande formel:</span></span>
<span id="cb130-8"><a href="data-objekt-och-funktioner.html#cb130-8" aria-hidden="true" tabindex="-1"></a>KIlength <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> z <span class="sc">*</span> <span class="fu">sqrt</span>(  ( p<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>p)  ) <span class="sc">/</span> n   )</span>
<span id="cb130-9"><a href="data-objekt-och-funktioner.html#cb130-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Illustration över olika KIlength för olika värden stickprovsstorlekar n </span></span>
<span id="cb130-10"><a href="data-objekt-och-funktioner.html#cb130-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(n, KIlength, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>)</span></code></pre></div>
<p><img src="docs/images/unnamed-chunk-135-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="data-objekt-och-funktioner.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Välj den minsta stickprovsstorleken som uppfyller precisionskravet KIlength &lt; 0.05</span></span>
<span id="cb131-2"><a href="data-objekt-och-funktioner.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>( n[KIlength <span class="sc">&lt;</span> <span class="fl">0.05</span>] )</span>
<span id="cb131-3"><a href="data-objekt-och-funktioner.html#cb131-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1476</span></span></code></pre></div>
<ul>
<li>Svar: För att uppnå precisionskravet behövs ett stickprov med minst 1476 hus. Glöm inte att kontrollera CGS: <span class="math inline">\(np(1-p)=1476\cdot 0.4(1-0.4)=354.24 &gt; 5\)</span> så antagandet är uppfyllt. Det går även att lösa denna uppgift algebraiskt, genom att lösa ut $n i formeln ovan.</li>
</ul>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.9" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.9<a href="data-objekt-och-funktioner.html#övning-3.9" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En rikstäckande butikskedja säljer bland annat kompletta datorpaket. För ett visst paket tillåter man butikscheferna att själva sätta priset. För att centralt i företaget få en uppfattning om hur efterfrågan påverkas av priset gör man ett slumpmässigt urval om åtta butiker och inhämtar uppgifter om pris och försäljning under den närmast föregående månaden:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="data-objekt-och-funktioner.html#cb132-1" aria-hidden="true" tabindex="-1"></a>pris <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5500</span>, <span class="dv">6000</span>, <span class="dv">6500</span>, <span class="dv">6000</span>, <span class="dv">5000</span>, <span class="dv">6500</span>, <span class="dv">4500</span>, <span class="dv">5000</span>)</span>
<span id="cb132-2"><a href="data-objekt-och-funktioner.html#cb132-2" aria-hidden="true" tabindex="-1"></a>antal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">41</span>, <span class="dv">38</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">44</span>, <span class="dv">38</span>, <span class="dv">45</span>, <span class="dv">42</span>)</span></code></pre></div>
<p>Beräkna korrelationskoefficienten.</p>
<button title="q309" type="button" onclick="if(document.getElementById(&#39;q309&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q309&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q309&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q309" style="display:none">
<div class="alert alert-info">
<p>Korrelationskoefficentens ges av</p>
<p><span class="math display">\[r=\dfrac{\sum_{i=1}^n(x_i - \bar{x})(y_i-\bar{y})}{\sqrt{\sum_{i=1}^n(x_i - \bar{x})^2 \sum_{i=1}^n(y_i - \bar{y})^2}}.\]</span></p>
<p>Vi kan enkelt tillämpa formeln.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-objekt-och-funktioner.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.8</span></span>
<span id="cb133-2"><a href="data-objekt-och-funktioner.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb133-3"><a href="data-objekt-och-funktioner.html#cb133-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5500</span>, <span class="dv">6000</span>, <span class="dv">6500</span>, <span class="dv">6000</span>, <span class="dv">5000</span>, <span class="dv">6500</span>, <span class="dv">4500</span>, <span class="dv">5000</span>)</span>
<span id="cb133-4"><a href="data-objekt-och-funktioner.html#cb133-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">41</span>, <span class="dv">38</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">44</span>, <span class="dv">38</span>, <span class="dv">45</span>, <span class="dv">42</span>)</span>
<span id="cb133-5"><a href="data-objekt-och-funktioner.html#cb133-5" aria-hidden="true" tabindex="-1"></a>xbar <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb133-6"><a href="data-objekt-och-funktioner.html#cb133-6" aria-hidden="true" tabindex="-1"></a>ybar <span class="ot">&lt;-</span> <span class="fu">mean</span>(y)</span>
<span id="cb133-7"><a href="data-objekt-och-funktioner.html#cb133-7" aria-hidden="true" tabindex="-1"></a>sdx <span class="ot">&lt;-</span> <span class="fu">sd</span>(x)</span>
<span id="cb133-8"><a href="data-objekt-och-funktioner.html#cb133-8" aria-hidden="true" tabindex="-1"></a>sdy <span class="ot">&lt;-</span> <span class="fu">sd</span>(y)</span>
<span id="cb133-9"><a href="data-objekt-och-funktioner.html#cb133-9" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">sum</span>( (x <span class="sc">-</span> xbar)<span class="sc">*</span>(y <span class="sc">-</span> ybar) ) <span class="sc">/</span><span class="fu">sqrt</span>( <span class="fu">sum</span>( (x <span class="sc">-</span> xbar)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">*</span><span class="fu">sum</span>( (y <span class="sc">-</span> ybar)<span class="sc">^</span><span class="dv">2</span>) ) </span>
<span id="cb133-10"><a href="data-objekt-och-funktioner.html#cb133-10" aria-hidden="true" tabindex="-1"></a>r</span>
<span id="cb133-11"><a href="data-objekt-och-funktioner.html#cb133-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="fl">0.9426412</span></span></code></pre></div>
<ul>
<li>Svar: Pearsons produktmomentkorrelationskoefficient är <span class="math inline">\(-0.94\)</span>, vilket tyder på ett mkt starkt negativt samband mellan pris och antal.</li>
</ul>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.10" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.10<a href="data-objekt-och-funktioner.html#övning-3.10" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Betrakta nedanstående vektor:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="data-objekt-och-funktioner.html#cb134-1" aria-hidden="true" tabindex="-1"></a>some_letters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;A&quot;</span>)</span></code></pre></div>
<p>Använd R för att räkna hur många B det finns i vektorn.</p>
<button title="q310" type="button" onclick="if(document.getElementById(&#39;q310&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q310&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q310&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q310" style="display:none">
<div class="alert alert-info">
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="data-objekt-och-funktioner.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.8</span></span>
<span id="cb135-2"><a href="data-objekt-och-funktioner.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb135-3"><a href="data-objekt-och-funktioner.html#cb135-3" aria-hidden="true" tabindex="-1"></a>some_letters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;A&quot;</span>)</span>
<span id="cb135-4"><a href="data-objekt-och-funktioner.html#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>( some_letters[some_letters <span class="sc">==</span> <span class="st">&quot;B&quot;</span>] )</span>
<span id="cb135-5"><a href="data-objekt-och-funktioner.html#cb135-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span></code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.11" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.11<a href="data-objekt-och-funktioner.html#övning-3.11" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Betrakta nedanstående vektorer:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="data-objekt-och-funktioner.html#cb136-1" aria-hidden="true" tabindex="-1"></a>some_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;3&quot;</span>)</span>
<span id="cb136-2"><a href="data-objekt-och-funktioner.html#cb136-2" aria-hidden="true" tabindex="-1"></a>some_numbers_and_letters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2&quot;</span>, <span class="st">&quot;4&quot;</span>, <span class="st">&quot;-1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;D&quot;</span>)</span></code></pre></div>
<p>Använd R för att summera alla värdena i respektive vektor. Tips: Använd funktionen <em>as.numeric()</em>.</p>
<button title="q311" type="button" onclick="if(document.getElementById(&#39;q311&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q311&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q311&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q311" style="display:none">
<div class="alert alert-info">
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="data-objekt-och-funktioner.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.10</span></span>
<span id="cb137-2"><a href="data-objekt-och-funktioner.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb137-3"><a href="data-objekt-och-funktioner.html#cb137-3" aria-hidden="true" tabindex="-1"></a>some_numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;3&quot;</span>)</span>
<span id="cb137-4"><a href="data-objekt-och-funktioner.html#cb137-4" aria-hidden="true" tabindex="-1"></a>some_numerics <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>( some_numbers )</span>
<span id="cb137-5"><a href="data-objekt-och-funktioner.html#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(some_numbers)</span>
<span id="cb137-6"><a href="data-objekt-och-funktioner.html#cb137-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;character&quot;</span></span>
<span id="cb137-7"><a href="data-objekt-och-funktioner.html#cb137-7" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(some_numerics)</span>
<span id="cb137-8"><a href="data-objekt-och-funktioner.html#cb137-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;numeric&quot;</span></span>
<span id="cb137-9"><a href="data-objekt-och-funktioner.html#cb137-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(some_numerics)</span>
<span id="cb137-10"><a href="data-objekt-och-funktioner.html#cb137-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">11</span></span>
<span id="cb137-11"><a href="data-objekt-och-funktioner.html#cb137-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-12"><a href="data-objekt-och-funktioner.html#cb137-12" aria-hidden="true" tabindex="-1"></a>some_numbers_and_letters <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;2&quot;</span>, <span class="st">&quot;4&quot;</span>, <span class="st">&quot;-1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;D&quot;</span>)</span>
<span id="cb137-13"><a href="data-objekt-och-funktioner.html#cb137-13" aria-hidden="true" tabindex="-1"></a>some_numerics_2 <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(some_numbers_and_letters)</span>
<span id="cb137-14"><a href="data-objekt-och-funktioner.html#cb137-14" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> NAs introduced by coercion</span>
<span id="cb137-15"><a href="data-objekt-och-funktioner.html#cb137-15" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(some_numerics_2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb137-16"><a href="data-objekt-och-funktioner.html#cb137-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">11</span></span></code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.12" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.12<a href="data-objekt-och-funktioner.html#övning-3.12" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Betrakta nedanstående vektorer.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="data-objekt-och-funktioner.html#cb138-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.39</span>,  <span class="fl">0.76</span>, <span class="sc">-</span><span class="fl">1.25</span>,  <span class="fl">0.28</span>,  <span class="fl">0.60</span>,  <span class="fl">0.66</span>,  <span class="fl">0.94</span>, <span class="sc">-</span><span class="fl">0.18</span>, <span class="sc">-</span><span class="fl">0.26</span>, <span class="sc">-</span><span class="fl">1.83</span>, <span class="sc">-</span><span class="fl">1.13</span>,  <span class="fl">0.45</span>,  <span class="fl">0.11</span>, <span class="sc">-</span><span class="fl">1.03</span>,  <span class="fl">1.06</span>, <span class="sc">-</span><span class="fl">0.08</span>,  <span class="fl">1.68</span>, <span class="sc">-</span><span class="fl">1.02</span>,  <span class="fl">1.36</span>,  <span class="fl">1.58</span>)</span>
<span id="cb138-2"><a href="data-objekt-och-funktioner.html#cb138-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.0</span>,  <span class="fl">1.5</span>,  <span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">1.1</span>, <span class="sc">-</span><span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">1.0</span>, <span class="sc">-</span><span class="fl">1.3</span>, <span class="sc">-</span><span class="fl">1.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.4</span>, <span class="sc">-</span><span class="fl">1.3</span>, <span class="sc">-</span><span class="fl">0.3</span>, <span class="sc">-</span><span class="fl">0.7</span>,  <span class="fl">0.7</span>, <span class="sc">-</span><span class="fl">2.5</span>, <span class="sc">-</span><span class="fl">1.0</span>,  <span class="fl">2.1</span>,  <span class="fl">1.3</span>, <span class="sc">-</span><span class="fl">1.3</span>)</span>
<span id="cb138-3"><a href="data-objekt-och-funktioner.html#cb138-3" aria-hidden="true" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.94</span>, <span class="sc">-</span><span class="fl">2.38</span>, <span class="sc">-</span><span class="fl">0.16</span>, <span class="fl">0.44</span>, <span class="fl">0.70</span>, <span class="fl">2.54</span>, <span class="fl">2.12</span>, <span class="fl">8.33</span>, <span class="fl">0.57</span>, <span class="fl">1.24</span>, <span class="fl">0.05</span>, <span class="sc">-</span><span class="fl">1.78</span>, <span class="fl">2.53</span>, <span class="sc">-</span><span class="fl">1.60</span>, <span class="fl">2.77</span>, <span class="fl">0.26</span>, <span class="fl">1.48</span>, <span class="fl">1.10</span>, <span class="sc">-</span><span class="fl">8.00</span>, <span class="fl">4.57</span>)</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Skapa variabeln <span class="math inline">\(x = x_1 + x_2 + x_3\)</span>.</li>
<li>Skapa variabeln <span class="math inline">\(z\)</span>, där <span class="math inline">\(z=1\)</span> om <span class="math inline">\(x &lt; 0\)</span>, <span class="math inline">\(z=2\)</span> om <span class="math inline">\(0 \leq x &lt; 5\)</span> och <span class="math inline">\(z=3\)</span> om <span class="math inline">\(x \geq 5\)</span>.</li>
<li>Skapa de binära variblerna <span class="math inline">\(v_1\)</span> som är 1 om <span class="math inline">\(x_1 &gt; 0\)</span> och 0 annars, <span class="math inline">\(v_2\)</span> som är 1 om <span class="math inline">\(x_2 &gt; 0\)</span> och 0 annars, och <span class="math inline">\(v_3\)</span> som är 1 om <span class="math inline">\(x_3 &gt; 0\)</span> och 0 annars</li>
<li>Skapa variabeln <span class="math inline">\(v = v_1 + v_2 + v_3\)</span> som är en summa av de binära variablerna.</li>
<li>Skapa en frekvenstabell för <span class="math inline">\(v\)</span>.</li>
</ol>
<button title="q312" type="button" onclick="if(document.getElementById(&#39;q312&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q312&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q312&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q312" style="display:none">
<div class="alert alert-info">
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="data-objekt-och-funktioner.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Töm minnet inför uppgift 3.10</span></span>
<span id="cb139-2"><a href="data-objekt-och-funktioner.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb139-3"><a href="data-objekt-och-funktioner.html#cb139-3" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.39</span>,  <span class="fl">0.76</span>, <span class="sc">-</span><span class="fl">1.25</span>,  <span class="fl">0.28</span>,  <span class="fl">0.60</span>,  <span class="fl">0.66</span>,  <span class="fl">0.94</span>, <span class="sc">-</span><span class="fl">0.18</span>, <span class="sc">-</span><span class="fl">0.26</span>, <span class="sc">-</span><span class="fl">1.83</span>, <span class="sc">-</span><span class="fl">1.13</span>,  <span class="fl">0.45</span>,  <span class="fl">0.11</span>, <span class="sc">-</span><span class="fl">1.03</span>,  <span class="fl">1.06</span>, <span class="sc">-</span><span class="fl">0.08</span>,  <span class="fl">1.68</span>, <span class="sc">-</span><span class="fl">1.02</span>,  <span class="fl">1.36</span>,  <span class="fl">1.58</span>)</span>
<span id="cb139-4"><a href="data-objekt-och-funktioner.html#cb139-4" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.0</span>,  <span class="fl">1.5</span>,  <span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">0.5</span>, <span class="sc">-</span><span class="fl">1.1</span>, <span class="sc">-</span><span class="fl">0.2</span>, <span class="sc">-</span><span class="fl">1.0</span>, <span class="sc">-</span><span class="fl">1.3</span>, <span class="sc">-</span><span class="fl">1.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.4</span>, <span class="sc">-</span><span class="fl">1.3</span>, <span class="sc">-</span><span class="fl">0.3</span>, <span class="sc">-</span><span class="fl">0.7</span>,  <span class="fl">0.7</span>, <span class="sc">-</span><span class="fl">2.5</span>, <span class="sc">-</span><span class="fl">1.0</span>,  <span class="fl">2.1</span>,  <span class="fl">1.3</span>, <span class="sc">-</span><span class="fl">1.3</span>)</span>
<span id="cb139-5"><a href="data-objekt-och-funktioner.html#cb139-5" aria-hidden="true" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.94</span>, <span class="sc">-</span><span class="fl">2.38</span>, <span class="sc">-</span><span class="fl">0.16</span>, <span class="fl">0.44</span>, <span class="fl">0.70</span>, <span class="fl">2.54</span>, <span class="fl">2.12</span>, <span class="fl">8.33</span>, <span class="fl">0.57</span>, <span class="fl">1.24</span>, <span class="fl">0.05</span>, <span class="sc">-</span><span class="fl">1.78</span>, <span class="fl">2.53</span>, <span class="sc">-</span><span class="fl">1.60</span>, <span class="fl">2.77</span>, <span class="fl">0.26</span>, <span class="fl">1.48</span>, <span class="fl">1.10</span>, <span class="sc">-</span><span class="fl">8.00</span>, <span class="fl">4.57</span>)</span>
<span id="cb139-6"><a href="data-objekt-och-funktioner.html#cb139-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-7"><a href="data-objekt-och-funktioner.html#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="co"># a)</span></span>
<span id="cb139-8"><a href="data-objekt-och-funktioner.html#cb139-8" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3</span>
<span id="cb139-9"><a href="data-objekt-och-funktioner.html#cb139-9" aria-hidden="true" tabindex="-1"></a><span class="co"># b)</span></span>
<span id="cb139-10"><a href="data-objekt-och-funktioner.html#cb139-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Skapa en variabeln som består av NA som är lika lång som x</span></span>
<span id="cb139-11"><a href="data-objekt-och-funktioner.html#cb139-11" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(x))</span>
<span id="cb139-12"><a href="data-objekt-och-funktioner.html#cb139-12" aria-hidden="true" tabindex="-1"></a>z[x <span class="sc">&lt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb139-13"><a href="data-objekt-och-funktioner.html#cb139-13" aria-hidden="true" tabindex="-1"></a>z[(x <span class="sc">&gt;=</span> <span class="dv">0</span>) <span class="sc">&amp;</span> (x <span class="sc">&lt;</span> <span class="dv">5</span>)  ] <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb139-14"><a href="data-objekt-och-funktioner.html#cb139-14" aria-hidden="true" tabindex="-1"></a>z[x <span class="sc">&gt;</span> <span class="dv">10</span>] <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb139-15"><a href="data-objekt-och-funktioner.html#cb139-15" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb139-16"><a href="data-objekt-och-funktioner.html#cb139-16" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="cn">NA</span>  <span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">2</span>  <span class="dv">2</span>  <span class="dv">2</span> <span class="cn">NA</span>  <span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">2</span>  <span class="dv">1</span>  <span class="dv">2</span></span>
<span id="cb139-17"><a href="data-objekt-och-funktioner.html#cb139-17" aria-hidden="true" tabindex="-1"></a><span class="co"># c)</span></span>
<span id="cb139-18"><a href="data-objekt-och-funktioner.html#cb139-18" aria-hidden="true" tabindex="-1"></a>v1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(x1))</span>
<span id="cb139-19"><a href="data-objekt-och-funktioner.html#cb139-19" aria-hidden="true" tabindex="-1"></a>v1[x1 <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb139-20"><a href="data-objekt-och-funktioner.html#cb139-20" aria-hidden="true" tabindex="-1"></a>v1[x1 <span class="sc">&lt;=</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb139-21"><a href="data-objekt-och-funktioner.html#cb139-21" aria-hidden="true" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(x2))</span>
<span id="cb139-22"><a href="data-objekt-och-funktioner.html#cb139-22" aria-hidden="true" tabindex="-1"></a>v2[x2 <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb139-23"><a href="data-objekt-och-funktioner.html#cb139-23" aria-hidden="true" tabindex="-1"></a>v2[x2 <span class="sc">&lt;=</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb139-24"><a href="data-objekt-och-funktioner.html#cb139-24" aria-hidden="true" tabindex="-1"></a>v3 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(x3))</span>
<span id="cb139-25"><a href="data-objekt-och-funktioner.html#cb139-25" aria-hidden="true" tabindex="-1"></a>v3[x3 <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb139-26"><a href="data-objekt-och-funktioner.html#cb139-26" aria-hidden="true" tabindex="-1"></a>v3[x3 <span class="sc">&lt;=</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb139-27"><a href="data-objekt-och-funktioner.html#cb139-27" aria-hidden="true" tabindex="-1"></a><span class="co"># d)</span></span>
<span id="cb139-28"><a href="data-objekt-och-funktioner.html#cb139-28" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> v1 <span class="sc">+</span> v2 <span class="sc">+</span> v3</span>
<span id="cb139-29"><a href="data-objekt-och-funktioner.html#cb139-29" aria-hidden="true" tabindex="-1"></a>v</span>
<span id="cb139-30"><a href="data-objekt-och-funktioner.html#cb139-30" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span></span>
<span id="cb139-31"><a href="data-objekt-och-funktioner.html#cb139-31" aria-hidden="true" tabindex="-1"></a><span class="co"># e)</span></span>
<span id="cb139-32"><a href="data-objekt-och-funktioner.html#cb139-32" aria-hidden="true" tabindex="-1"></a>sumv0 <span class="ot">&lt;-</span> <span class="fu">sum</span>(v <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb139-33"><a href="data-objekt-och-funktioner.html#cb139-33" aria-hidden="true" tabindex="-1"></a>sumv1 <span class="ot">&lt;-</span> <span class="fu">sum</span>(v <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb139-34"><a href="data-objekt-och-funktioner.html#cb139-34" aria-hidden="true" tabindex="-1"></a>sumv2 <span class="ot">&lt;-</span> <span class="fu">sum</span>(v <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb139-35"><a href="data-objekt-och-funktioner.html#cb139-35" aria-hidden="true" tabindex="-1"></a>sumv3 <span class="ot">&lt;-</span> <span class="fu">sum</span>(v <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb139-36"><a href="data-objekt-och-funktioner.html#cb139-36" aria-hidden="true" tabindex="-1"></a>frequencies <span class="ot">&lt;-</span> <span class="fu">c</span>(sumv0, sumv1, sumv2, sumv3)</span>
<span id="cb139-37"><a href="data-objekt-och-funktioner.html#cb139-37" aria-hidden="true" tabindex="-1"></a>values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb139-38"><a href="data-objekt-och-funktioner.html#cb139-38" aria-hidden="true" tabindex="-1"></a>frequency.table <span class="ot">&lt;-</span> <span class="fu">cbind</span>(values, frequencies)</span>
<span id="cb139-39"><a href="data-objekt-och-funktioner.html#cb139-39" aria-hidden="true" tabindex="-1"></a>frequency.table </span>
<span id="cb139-40"><a href="data-objekt-och-funktioner.html#cb139-40" aria-hidden="true" tabindex="-1"></a>     values frequencies</span>
<span id="cb139-41"><a href="data-objekt-och-funktioner.html#cb139-41" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]      <span class="dv">0</span>           <span class="dv">1</span></span>
<span id="cb139-42"><a href="data-objekt-och-funktioner.html#cb139-42" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]      <span class="dv">1</span>           <span class="dv">7</span></span>
<span id="cb139-43"><a href="data-objekt-och-funktioner.html#cb139-43" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,]      <span class="dv">2</span>          <span class="dv">11</span></span>
<span id="cb139-44"><a href="data-objekt-och-funktioner.html#cb139-44" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>,]      <span class="dv">3</span>           <span class="dv">1</span></span>
<span id="cb139-45"><a href="data-objekt-och-funktioner.html#cb139-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Det finns i R också en inbyggd funktion table(), som vi ska använda oss av senare på kursen.</span></span></code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.13" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.13<a href="data-objekt-och-funktioner.html#övning-3.13" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Denna övning syftar till att förtydliga skillnaden mellan ett par summor som används ofta i statistiken, dessa är <span class="math inline">\(\sum_{i = 1}^{n}x_{i}^{2}\)</span> och <span class="math inline">\(\left(\sum_{i = 1}^{n} x_{i}\right)^{2}\)</span>.</p>
<p>Företäll dig att du har dragit ett stickprov av något slag, och att du samlat informationen i ditt stickprov i vektorn</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data-objekt-och-funktioner.html#cb140-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">4</span>)</span></code></pre></div>
<p>Föreställ dig även att du vill beräkna standardavvikelsen i vektorn, men att du inte känner till funktionen <code>sd()</code>. Därför behöver du beräkna de båda summorna som presenteras ovan. Din uppgift är nu att</p>
<ol style="list-style-type: lower-alpha">
<li>Beräkna de båda summorna manuellt i <code>R</code>, utan att använda funktionen <code>sum()</code></li>
</ol>
<button title="q313a" type="button" onclick="if(document.getElementById(&#39;q313a&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q313a&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q313a&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q313a" style="display:none">
<div class="alert alert-info">
<p>Börja med att rensa minnet och mata in vektorn i <code>R</code></p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="data-objekt-och-funktioner.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>()) <span class="co"># Rensar minnet</span></span>
<span id="cb141-2"><a href="data-objekt-och-funktioner.html#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="data-objekt-och-funktioner.html#cb141-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">4</span>) <span class="co"># Matar in vektor</span></span></code></pre></div>
<p>I beräkningen av <span class="math inline">\(\sum_{i = 1}^{n}x_{i}^{2}\)</span> är det viktigt att komma ihåg att kvadreringen sker först, och summeringen sedan. Summan räknas alltså ut som</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data-objekt-och-funktioner.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Kvadrera elementen först, summera sen</span></span>
<span id="cb142-2"><a href="data-objekt-och-funktioner.html#cb142-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>]<span class="sc">^</span>(<span class="dv">2</span>) <span class="sc">+</span> x[<span class="dv">2</span>]<span class="sc">^</span>(<span class="dv">2</span>) <span class="sc">+</span> x[<span class="dv">3</span>]<span class="sc">^</span>(<span class="dv">2</span>) <span class="sc">+</span> x[<span class="dv">4</span>]<span class="sc">^</span>(<span class="dv">2</span>) <span class="sc">+</span> x[<span class="dv">5</span>]<span class="sc">^</span>(<span class="dv">2</span>) <span class="sc">+</span> x[<span class="dv">6</span>]<span class="sc">^</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 134</code></pre>
<p>I beräkningen av <span class="math inline">\(\left(\sum_{i = 1}^{n} x_{i}\right)^{2}\)</span> sitter summan inom parenteser, och därför sker summering här innan kvadrering. Summan beräknas som</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="data-objekt-och-funktioner.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summera elementen först, kvadrera sen</span></span>
<span id="cb144-2"><a href="data-objekt-och-funktioner.html#cb144-2" aria-hidden="true" tabindex="-1"></a>(x[<span class="dv">1</span>] <span class="sc">+</span> x[<span class="dv">2</span>] <span class="sc">+</span> x[<span class="dv">3</span>] <span class="sc">+</span> x[<span class="dv">4</span>] <span class="sc">+</span> x[<span class="dv">5</span>] <span class="sc">+</span> x[<span class="dv">6</span>])<span class="sc">^</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 676</code></pre>
</div>
</div>
<p></br></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>Förenkla nu beräkningarna i <strong>a</strong> genom att använda <code>sum()</code> och räkna på vektorerna i sin helhet</li>
</ol>
<button title="q313b" type="button" onclick="if(document.getElementById(&#39;q313b&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q313b&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q313b&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q313b" style="display:none">
<div class="alert alert-info">
<p>Kom ihåg att <span class="math inline">\(\sum_{i = 1}^{n}x_{i}^{2}\)</span> kräver kvadrering innan summering. Börja därför med att kvadrera alla element i <code>x</code>. Resultatet blir</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="data-objekt-och-funktioner.html#cb146-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">^</span>(<span class="dv">2</span>) <span class="co"># Ser att elementen kvadreras var för sig</span></span></code></pre></div>
<pre><code>## [1]  4 16 25  9 64 16</code></pre>
<p>För att slutföra beräkningen av den första summan återstår bara att stoppa in ovanstående uttryck i summeringsfunktionen</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="data-objekt-och-funktioner.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x<span class="sc">^</span>(<span class="dv">2</span>)) <span class="co"># Summerar över kvadrerade x</span></span></code></pre></div>
<pre><code>## [1] 134</code></pre>
<p>Som synes blir resultatet samma som i <strong>a</strong>, men koden är mer kompakt och lättare att skriva</p>
<p>För att beräkna den andra summan summeras värdena först, och sedan kvadreras hela summan. Detta innebär att kvadraten i detta fall måste sättas utanför summeringsfunktionen, precis som i koden här nedan</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="data-objekt-och-funktioner.html#cb150-1" aria-hidden="true" tabindex="-1"></a>x             <span class="co"># Skriver ut x</span></span></code></pre></div>
<pre><code>## [1] 2 4 5 3 8 4</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="data-objekt-och-funktioner.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x)        <span class="co"># Summerar över alla x</span></span></code></pre></div>
<pre><code>## [1] 26</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="data-objekt-och-funktioner.html#cb154-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">sum</span>(x))<span class="sc">^</span>(<span class="dv">2</span>)  <span class="co"># Summerar alla x och kvadrerar summan</span></span></code></pre></div>
<pre><code>## [1] 676</code></pre>
<p>Beräkningen ger samma resultat som i <strong>a</strong>, men koden är återigen mer kompakt och lättare att skriva</p>
</div>
</div>
<p></br></p>
</div>
<div id="övning-3.14" class="section level3 unnumbered hasAnchor">
<h3>Övning 3.14<a href="data-objekt-och-funktioner.html#övning-3.14" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Denna uppgift rör beräkningen av en stickprovsvarians, och syftar till att tydliggöra att likheten</p>
<p><span class="math display">\[
\frac{\sum_{i = 1}^{n}(x_{i} - \bar{x})^{2}}{n-1} = \frac{\sum_{i = 1}^{n}x_{i}^{2} - \frac{\left(\sum_{i = 1}^{n} x_{i}\right)^{2}}{n}}{n-1}
\]</span>
faktiskt håller. Uttrycket till vänster kan, genom några delsteg, skrivas om och bli uttrycket som står till höger om likhetstecknet. Din uppgift är nu att beräkna värdet på varje del i utvecklingen, och på så sätt se att uttrycken är lika.</p>
<p>Betrakta samma stickprov som i uppgift 3.13</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="data-objekt-och-funktioner.html#cb156-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">4</span>)</span></code></pre></div>
<p>och utför följande beräkningar:</p>
<ol style="list-style-type: lower-alpha">
<li>Beräkna stickprovsmedelvärdet för <code>x</code>, och även antal element som finns i vektorn</li>
</ol>
<button title="q314a" type="button" onclick="if(document.getElementById(&#39;q314a&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314a&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314a&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314a" style="display:none">
<div class="alert alert-info">
<p>Börja med att rensa minnet och mata in vektorn i <code>R</code></p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="data-objekt-och-funktioner.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>()) <span class="co"># Rensar minnet</span></span>
<span id="cb157-2"><a href="data-objekt-och-funktioner.html#cb157-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-3"><a href="data-objekt-och-funktioner.html#cb157-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">4</span>) <span class="co"># Matar in vektor</span></span></code></pre></div>
<p>Medelvärdet beräknas nu som</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="data-objekt-och-funktioner.html#cb158-1" aria-hidden="true" tabindex="-1"></a>x_streck <span class="ot">&lt;-</span> <span class="fu">mean</span>(x) </span>
<span id="cb158-2"><a href="data-objekt-och-funktioner.html#cb158-2" aria-hidden="true" tabindex="-1"></a>x_streck</span></code></pre></div>
<pre><code>## [1] 4.333333</code></pre>
<p>och antalet element som</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="data-objekt-och-funktioner.html#cb160-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb160-2"><a href="data-objekt-och-funktioner.html#cb160-2" aria-hidden="true" tabindex="-1"></a>n</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
</div>
</div>
<p></br></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>Beräkna värdet på <span class="math inline">\(\frac{1}{n - 1} \sum_{i = 1}^{n} (x_{i} - \bar{x})^{2}\)</span></li>
</ol>
<button title="q314b" type="button" onclick="if(document.getElementById(&#39;q314b&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314b&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314b&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314b" style="display:none">
<div class="alert alert-info">
<p>Använd <span class="math inline">\(n\)</span> och <span class="math inline">\(\bar{x}\)</span> från <strong>a</strong>, och kom ihåg att kvadrering sker innan summan beräknas</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="data-objekt-och-funktioner.html#cb162-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>)) <span class="sc">*</span> <span class="fu">sum</span>((x <span class="sc">-</span> x_streck)<span class="sc">^</span>(<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Beräkna värdet på <span class="math inline">\(\frac{1}{n - 1} \sum_{i = 1}^{n} (x_{i} - \bar{x})(x_{i} - \bar{x})\)</span></li>
</ol>
<button title="q314c" type="button" onclick="if(document.getElementById(&#39;q314c&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314c&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314c&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314c" style="display:none">
<div class="alert alert-info">
<p>Ta bort kvadraten och multiplicera <span class="math inline">\((x_{i} - \bar{x})\)</span> med sig självt</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="data-objekt-och-funktioner.html#cb164-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>)) <span class="sc">*</span> <span class="fu">sum</span>((x <span class="sc">-</span> x_streck) <span class="sc">*</span> (x <span class="sc">-</span> x_streck))</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>
<ol start="4" style="list-style-type: lower-alpha">
<li>Beräkna värdet på <span class="math inline">\(\frac{1}{n-1}\sum_{i = 1}^{n} \left(x_{i}^{2} - 2x_{i} \bar{x} + \bar{x}^{2} \right)\)</span></li>
</ol>
<button title="q314d" type="button" onclick="if(document.getElementById(&#39;q314d&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314d&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314d&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314d" style="display:none">
<div class="alert alert-info">
<p>Multiplicera ut parenteserna innanför summan</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="data-objekt-och-funktioner.html#cb166-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>)) <span class="sc">*</span> <span class="fu">sum</span>(x<span class="sc">^</span>(<span class="dv">2</span>) <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>x<span class="sc">*</span>x_streck <span class="sc">+</span> x_streck<span class="sc">^</span>(<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>
<ol start="5" style="list-style-type: lower-alpha">
<li>Beräkna värdet på <span class="math inline">\(\frac{1}{n-1}\left(\left(\sum_{i = 1}^{n} x_{i}^{2}\right) - 2n\bar{x} \cdot \bar{x} + n\bar{x}^{2} \right)\)</span></li>
</ol>
<button title="q314e" type="button" onclick="if(document.getElementById(&#39;q314e&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314e&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314e&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314e" style="display:none">
<div class="alert alert-info">
<p>Notera att summan enbart opererar på <span class="math inline">\(x_{i}^{2}\)</span></p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="data-objekt-och-funktioner.html#cb168-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>)) <span class="sc">*</span> (<span class="fu">sum</span>(x<span class="sc">^</span>(<span class="dv">2</span>)) <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>n<span class="sc">*</span>x_streck<span class="sc">*</span>x_streck <span class="sc">+</span> n<span class="sc">*</span>x_streck<span class="sc">^</span>(<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>
<ol start="6" style="list-style-type: lower-alpha">
<li>Beräkna värdet på <span class="math inline">\(\frac{1}{n-1}\left(\left(\sum_{i = 1}^{n} x_{i}^{2}\right) - 2n\bar{x}^{2} + n\bar{x}^{2} \right)\)</span></li>
</ol>
<button title="q314f" type="button" onclick="if(document.getElementById(&#39;q314f&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314f&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314f&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314f" style="display:none">
<div class="alert alert-info">
<p>Notera att summan enbart opererar på <span class="math inline">\(x_{i}^{2}\)</span></p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="data-objekt-och-funktioner.html#cb170-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>)) <span class="sc">*</span> (<span class="fu">sum</span>(x<span class="sc">^</span>(<span class="dv">2</span>)) <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>n<span class="sc">*</span>x_streck<span class="sc">^</span>(<span class="dv">2</span>) <span class="sc">+</span> n<span class="sc">*</span>x_streck<span class="sc">^</span>(<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>
<ol start="7" style="list-style-type: lower-alpha">
<li>Beräkna värdet på <span class="math inline">\(\frac{1}{n-1}\left(\left(\sum_{i = 1}^{n} x_{i}^{2}\right) - n\bar{x}^{2} \right)\)</span></li>
</ol>
<button title="q314g" type="button" onclick="if(document.getElementById(&#39;q314g&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314g&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314g&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314g" style="display:none">
<div class="alert alert-info">
<p>Notera att summan enbart opererar på <span class="math inline">\(x_{i}^{2}\)</span></p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="data-objekt-och-funktioner.html#cb172-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>)) <span class="sc">*</span> (<span class="fu">sum</span>(x<span class="sc">^</span>(<span class="dv">2</span>)) <span class="sc">-</span> n<span class="sc">*</span>x_streck<span class="sc">^</span>(<span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>
<ol start="8" style="list-style-type: lower-alpha">
<li>Beräkna värdet på <span class="math inline">\(\frac{\sum_{i = 1}^{n} x_{i}^{2} - \frac{\left(\sum_{i = 1}^{n} x_{i} \right)^{2}}{n} }{n-1}\)</span></li>
</ol>
<button title="q314h" type="button" onclick="if(document.getElementById(&#39;q314h&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314h&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314h&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314h" style="display:none">
<div class="alert alert-info">
<p>Notera att summan enbart opererar på <span class="math inline">\(x_{i}^{2}\)</span></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="data-objekt-och-funktioner.html#cb174-1" aria-hidden="true" tabindex="-1"></a>(<span class="fu">sum</span>(x<span class="sc">^</span>(<span class="dv">2</span>)) <span class="sc">-</span> (<span class="fu">sum</span>(x)<span class="sc">^</span>(<span class="dv">2</span>))<span class="sc">/</span>n)<span class="sc">/</span>(n <span class="sc">-</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>
<ol style="list-style-type: lower-roman">
<li>Kontrollera att beräkningarna stämmer genom att jämföra med funktionen <code>var()</code></li>
</ol>
<button title="q314i" type="button" onclick="if(document.getElementById(&#39;q314i&#39;) .style.display==&#39;none&#39;)
              {document.getElementById(&#39;q314i&#39;) .style.display=&#39;&#39;}
            else{document.getElementById(&#39;q314i&#39;) .style.display=&#39;none&#39;}">
Visa svar
</button>
<div id="q314i" style="display:none">
<div class="alert alert-info">
<p>Notera att summan enbart summerar över <span class="math inline">\(x_{i}^{2}\)</span></p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="data-objekt-och-funktioner.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(x)</span></code></pre></div>
<pre><code>## [1] 4.266667</code></pre>
</div>
</div>
<p></br></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="att-börja-använda-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="läsa-in-och-spara-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
